xorg-server (2:1.9.0-0ubuntu7.6) maverick-security; urgency=low

  * SECURITY UPDATE: denial of service and possible code execution via
    incorrect input sanitization
    - debian/patches/212_CVE-2010-4818.patch: updated with missing
      commit to fix regression.
    - CVE-2010-4818

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Thu, 20 Oct 2011 10:42:45 -0400

xorg-server (2:1.9.0-0ubuntu7.5) maverick-security; urgency=low

  * SECURITY UPDATE: file existence disclosure
    - debian/patches/210_CVE-2011-4028.patch: open lockfile with O_NOFOLLOW
      in os/utils.c.
    - CVE-2011-4028
  * SECURITY UPDATE: privilege escalation via file permission change
    - debian/patches/211_CVE-2011-4029.patch: use fchmod to prevent race
      in os/utils.c.
    - CVE-2011-4029
  * SECURITY UPDATE: denial of service and possible code execution via
    incorrect input sanitization
    - debian/patches/212_CVE-2010-4818.patch: validate sizes and arguments
      in glx/{glxcmds,glxcmdsswap,xfont}.c.
    - CVE-2010-4818

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Fri, 14 Oct 2011 06:00:40 -0400

xorg-server (2:1.9.0-0ubuntu7.3) maverick-proposed; urgency=low

  * debian/patches/209_xorg-xi-usb-wireless-mouse-kb.patch:
    - Backport of upstream patch which swaps order of detection of a
      device as pointer or keyboard.  Fixes certain mouse models that
      get detected as keyboards.
      (LP: #575465)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 06 Jan 2011 15:07:12 -0800

xorg-server (2:1.9.0-0ubuntu7.2) maverick-proposed; urgency=low

  * Move gesture event handling to server in non-signal context
    (LP: #670016)
    - Add debian/patches/208_gestures_through_event_queue.patch

 -- Chase Douglas <chase.douglas@canonical.com>  Mon, 13 Dec 2010 10:39:40 -0800

xorg-server (2:1.9.0-0ubuntu7.1) maverick-proposed; urgency=low

  * debian/patches/207_Xext_panoramiXprocs_fix_typo.patch:
    - This prevents Qt applications from crashing when using
      Xinerama multi-head with drivers such as nvidia (LP: #650539).

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 22 Nov 2010 18:55:50 +0100

xorg-server (2:1.9.0-0ubuntu7) maverick; urgency=low

  * debian/control:
    - Tweak the breaks/conflicts for the virtual xserver-xorg-input
      breaks to help apt in lucid deal with the upgrade.
      With the apt in maverick this will be no longer needed ((LP: #614993)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 16 Sep 2010 15:17:27 +0200

xorg-server (2:1.9.0-0ubuntu6) maverick; urgency=low

  [ Chase Douglas ]
  * Fix udev USB product ID parsing (LP: #628214)
    - debian/patches:
      + 205_udev-product-ids.patch

  [ Christopher James Halse Rogers ]
  * debian/patches/206_intel_8xx_default_to_fbdev.patch:
    - Don't autoload the intel driver on i830, i845g and i855.  These are
      still too unstable with KMS/GEM.  X will autoload the fbdev driver
      (if using KMS) or the vesa driver instead.  (LP: #633593)

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 13 Sep 2010 18:48:54 +1000

xorg-server (2:1.9.0-0ubuntu5) maverick; urgency=low

  * debian/control:
    - fix duplicated breaks for xserver-xorg-video-v4l

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 08 Sep 2010 10:57:49 +0200

xorg-server (2:1.9.0-0ubuntu4) maverick; urgency=low

  * debian/control:
    - add more "breaks" for leftover drivers that have no
      xserver 1.9 abi version, thanks to Jean-Baptiste Lallement
      (LP: #614993)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 31 Aug 2010 10:52:29 +0200

xorg-server (2:1.9.0-0ubuntu3) maverick; urgency=low

  * debian/control:
    - add additional breaks for video drivers that have no ABI for
      xserver 1.9 (LP: #614993)
    - merge the "breaks" list from the debian git tree

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 31 Aug 2010 10:04:01 +0200

xorg-server (2:1.9.0-0ubuntu2) maverick; urgency=low

  * debian/control:
    - add explict breaks from xserver-xorg-core against 
      xserver-xorg-video-v4l (<< 1:0.2.0-4ubuntu1) to ensure that
      upgrades with universe disabled work (LP: #614993)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 30 Aug 2010 15:40:07 +0200

xorg-server (2:1.9.0-0ubuntu1) maverick; urgency=low
  
  * Merge from (unreleased) Debian experimental.  Remaining Ubuntu changes:
    - rules, control:
      + Disable SELinux, libaudit-dev is not in main yet (LP 406226).
        Drop libaudit-dev from build-deps.
    - rules: Enable xcsecurity (LP 247537).
    - local/xvfb-run*: Add correct docs about error codes (LP 328205)
    - rules: Add --with-extra-module-dir to support GL alternatives.
    - control: Xvfb depends on xauth, x11-xkb-utils. (LP 500102)
    - rules, local/64-xorg-xkb.rules: Don't use keyboard-configuration
      until it's available.
    - control: Update some versioned Breaks for Ubuntu versions.
    - debian/patches:
      + 100_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 109_fix-swcursor-crash.patch:
        Avoid dereferencing null pointer while reloading cursors during
        resume. (LP 371405)
      + 111_armel-drv-fallbacks.patch:
        Add support for armel driver fallbacks.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 122_xext_fix_card32_overflow_in_xauth.patch:
        Fix server crash when “xauth generate” is called with large timeout.
      + 157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 187_edid_quirk_hp_nc8430.patch:
        Quirk for another LPL monitor (LP 380009)
      + 188_default_primary_to_first_busid.patch:
        Pick the first device and carry on (LP 459512)
      + 189_xserver_1.5.0_bg_none_root.patch:
        Create a root window with no background.
      + 190_cache-xkbcomp_output_for_fast_start_up.patch:
        Cache keyboard settings.
      + 191-Xorg-add-an-extra-module-path.patch:
        Add support for the alternatives module path.
      + 197_xvfb-randr.patch:
        Adds xrandr support to xvfb. (LP 516123)
      + 198_nohwaccess.patch:
        Adds a -nohwaccess argument to make X not access the hardware
        ports directly.
      + 200_randr-null.patch:
        Clarify a pointer initialization.  
      + 203_gestures-extension.patch:
      + 202_xf86CoordinationsToWindows.patch:
        Add gesture extension support (LP: 616678)
      + debian/serverminver:
        Bump for gesture support
  * New upstream release:
    - Fixes crash in DamageUnregister on session close (LP: #343694)
    - Fixes crash with extremely large windows exposed by xpdf (Closes: #320627)
  * Drop 17-fix-DRI2-segfault-when-clientGone.diff: fixed upstream in more
    generality.
  * debian/patches/204_fix-neg-sync-transition.patch:
    - Fix edge case in SYNC extension resulting in GNOME screensaver's 
      fade-to-screensaver being uninteruptible.  (LP: #595555)

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Tue, 24 Aug 2010 15:44:10 +1000

xorg-server (2:1.8.99.905-1ubuntu3) maverick; urgency=low

  * Bump debian/serverminver for gesture support

 -- Chase Douglas <chase.douglas@ubuntu.com>  Fri, 20 Aug 2010 16:35:22 -0400

xorg-server (2:1.8.99.905-1ubuntu2) maverick; urgency=low
  
    * Add in gesture support (LP: #616678)
      - add debian/patches/203_gestures-extension.patch
        and debian/patches/202_xf86CoordinationsToWindows.patch
      - debian/rules:
        - add configure option to enable gesture

 -- Chase Douglas <chase.douglas@ubuntu.com>  Mon, 09 Aug 2010 14:33:40 +0000

xorg-server (2:1.8.99.905-1ubuntu1) maverick; urgency=low

  * Merge from (unreleased) Debian experimental.  Remaining Ubuntu changes:
    - rules, control:
      + Disable SELinux, libaudit-dev is not in main yet (LP 406226).
        Drop libaudit-dev from build-deps.
    - rules: Enable xcsecurity (LP 247537).
    - local/xvfb-run*: Add correct docs about error codes (LP 328205)
    - rules: Add --with-extra-module-dir to support GL alternatives.
    - control: Xvfb depends on xauth, x11-xkb-utils. (LP 500102)
    - rules, local/64-xorg-xkb.rules: Don't use keyboard-configuration
      until it's available.
    - control: Update some versioned Breaks for Ubuntu versions.
    - debian/patches:
      + 100_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 109_fix-swcursor-crash.patch:
        Avoid dereferencing null pointer while reloading cursors during
        resume. (LP 371405)
      + 111_armel-drv-fallbacks.patch:
        Add support for armel driver fallbacks.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 122_xext_fix_card32_overflow_in_xauth.patch:
        Fix server crash when “xauth generate” is called with large timeout.
      + 157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 187_edid_quirk_hp_nc8430.patch:
        Quirk for another LPL monitor (LP 380009)
      + 188_default_primary_to_first_busid.patch:
        Pick the first device and carry on (LP 459512)
      + 189_xserver_1.5.0_bg_none_root.patch:
        Create a root window with no background.
      + 190_cache-xkbcomp_output_for_fast_start_up.patch:
        Cache keyboard settings.
      + 191-Xorg-add-an-extra-module-path.patch:
        Add support for the alternatives module path.
      + 197_xvfb-randr.patch:
        Adds xrandr support to xvfb. (LP 516123)
      + 198_nohwaccess.patch:
        Adds a -nohwaccess argument to make X not access the hardware
        ports directly.
      + 200_randr-null.patch:
        Clarify a pointer initialization.
  * Update changelog entries for 1.8.1.902-1 which became 1.8.99.904-1
  * Drop 196_xvfbscreeninit-handling.patch: it's semantically empty, and now 
    doesn't apply.  Merge remaining #include change into 197_xvfb-randr.patch
  * New upstream version will start correctly when no outputs are connected,
    as long as the video driver can dynamically resize the framebuffer
    (true for all KMS drivers) (LP: #337889)
  * New upstream version fixes crash on non-admin logout with KDE (LP: #569879)
  * Refresh 111_armel-drv-fallbacks.patch to fix the build on armel

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Thu, 05 Aug 2010 11:25:14 +1000

xorg-server (2:1.8.99.905-1) experimental; urgency=low

  [ Julien Cristau ]
  * Drop recommends on xbase-clients.
  * Add xauth to xserver-common recommends.
  * Bump Standards-Version to 3.9.0.
  * Don't install serverminver, drivers shouldn't use this anymore.

 -- Julien Cristau <jcristau@debian.org>  Sat, 17 Jul 2010 11:13:32 +0100

xorg-server (2:1.8.99.904-1) experimental; urgency=low

  [ Julien Cristau ]
  * Install the upstream changelog in xserver-common, instead of duplicating
    its 1MB in all other packages.
  * Stop repacking the tarball: the non-modifiable README.DRI was removed
    upstream.
  * Bump build-deps on x11proto-core-dev, x11proto-dri2-dev, libxfont-dev.
  * Bump xserver-xorg-dev dependency on x11proto-core-dev and
    x11proto-dri2-dev, add dependency on x11proto-xinerama-dev.
  * Bump serverminver, videoabiver, inputabiver.

  [ Christopher James Halse Rogers ]
  * New upstream RC
    - A number of DRI2 fixes.
    - Fix for hanging OpenGL clients with multiple heads.
  * 17-fix-DRI2-segfault-when-clientGone.diff:
    - Pick up fix from https://bugs.freedesktop.org/show_bug.cgi?id=27497 to
      fix server crash in DRI2SwapEvent handling (LP: #595182).

 -- Julien Cristau <jcristau@debian.org>  Fri, 09 Jul 2010 12:45:09 +0100

xorg-server (2:1.8.1.902-0ubuntu2) maverick; urgency=low

  * debian/rules:
    - Drop the upstream changelog harder.  We're scrabbling for CD space
      and this is an easy 1MB saving.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Wed, 30 Jun 2010 09:50:33 +1000

xorg-server (2:1.8.1.902-0ubuntu1) maverick; urgency=low

  * Merge from (unreleased) Debian experimental.  Remaining changes:  
    - rules, control:
      + Disable SELinux, libaudit-dev is not in main yet (LP 406226).
        Drop libaudit-dev from build-deps.
    - rules: Enable xcsecurity (LP 247537).
    - local/xvfb-run*: Add correct docs about error codes (LP 328205)
    - rules: Add --with-extra-module-dir to support GL alternatives.
    - control: Xvfb depends on xauth, x11-xkb-utils. (LP 500102)
    - rules, local/64-xorg-xkb.rules: Don't use keyboard-configuration
      until it's available.
    - control: Update some versioned Breaks for Ubuntu versions.
    - debian/patches:
      + 100_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 109_fix-swcursor-crash.patch:
        Avoid dereferencing null pointer while reloading cursors during
        resume. (LP 371405)
      + 111_armel-drv-fallbacks.patch:
        Add support for armel driver fallbacks.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 122_xext_fix_card32_overflow_in_xauth.patch:
        Fix server crash when “xauth generate” is called with large timeout.
      + 157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 187_edid_quirk_hp_nc8430.patch:
        Quirk for another LPL monitor (LP 380009)
      + 188_default_primary_to_first_busid.patch:
        Pick the first device and carry on (LP 459512)
      + 189_xserver_1.5.0_bg_none_root.patch:
        Create a root window with no background.
      + 190_cache-xkbcomp_output_for_fast_start_up.patch:
        Cache keyboard settings.
      + 191-Xorg-add-an-extra-module-path.patch:
        Add support for the alternatives module path.
      + 196_xvfb-fbscreeninit-handling.patch, 197_xvfb-randr.patch:
        Adds xrandr support to xvfb. (LP 516123)
      + 198_nohwaccess.patch:
        Adds a -nohwaccess argument to make X not access the hardware
        ports directly.
      + 200_randr-null.patch:
        Clarify a pointer initialization.
  * Update changelog entries for previously unreleased Debian 1.8.1.901-1
  
 -- Christopher James Halse Rogers <raof@ubuntu.com>  Wed, 23 Jun 2010 11:19:49 +1000

xorg-server (2:1.8.1.901-1ubuntu1) maverick; urgency=low

  [ Timo Aaltonen ]
  * Merged from Debian experimental, remaining changes:
    - rules, control:
      + Disable SELinux, libaudit-dev is not in main yet (LP 406226).
        Drop libaudit-dev from build-deps.
    - rules: Enable xcsecurity (LP 247537).
    - local/xvfb-run*: Add correct docs about error codes (LP 328205)
    - rules: Add --with-extra-module-dir to support GL alternatives.
    - control: Xvfb depends on xauth, x11-xkb-utils, recommends
      libgl1-mesa-dri. (LP 500102)
    - rules, local/64-xorg-xkb.rules: Don't use keyboard-configuration
      until it's available.
    - debian/patches:
      + 100_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 109_fix-swcursor-crash.patch:
        Avoid dereferencing null pointer while reloading cursors during
        resume. (LP 371405)
      + 111_armel-drv-fallbacks.patch:
        Add support for armel driver fallbacks.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 122_xext_fix_card32_overflow_in_xauth.patch:
      + 157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 187_edid_quirk_hp_nc8430.patch:
        Quirk for another LPL monitor (LP 380009)
      + 188_default_primary_to_first_busid.patch:
        Pick the first device and carry on (LP 459512)
      + 189_xserver_1.5.0_bg_none_root.patch:
        Create a root window with no background.
      + 190_cache-xkbcomp_output_for_fast_start_up.patch:
        Cache keyboard settings.
      + 191-Xorg-add-an-extra-module-path.patch:
        Add support for the alternatives module path.
      + 196_xvfb-fbscreeninit-handling.patch, 197_xvfb-randr.patch:
        Adds xrandr support to xvfb. (LP 516123)
      + 198_nohwaccess.patch:
        Adds a -nohwaccess argument to make X not access the hardware
        ports directly.
      + 200_randr-null.patch:
        Clarify a pointer initialization.
  * Dropped patches:
    - 106_nouveau_autodetect.patch: obsoleted by 15-nouveau.diff
    - 112_xaa-fbcomposite-fix-negative-size.patch: adopted by Debian
    - 113_quell_nouveau_aiglx.patch: obsoleted by 15-nouveau.diff
    - 115_xext_fix_cursor_ref_counting.patch: merged upstream
    - 116_fix_typos_in_swap_functions.patch: merged upstream
    - 118_xkb_fix_garbage_init.patch: merged upstream
    - 123_exa_sys_ptr_nullpointer_check.patch: merged upstream
    - 199_xfvb-help-typo.patch: merged upstream
  * debian/xserver-xorg-core.preinst.in: Drop the removal of the wrong
    alternative, obsolete by now.
  * debian/control: Build the udeb and bump the relaxed build-deps.
  * debian/local/xvfb-run: Don't disable composite, seems to run fine
    with it nowadays.

  [ Robert Hooker ]
  * Fix 190_cache-xkbcomp_output_for_fast_start_up.patch so it works.
  * Drop 164_trap-aspect-ratios.patch: obsolete.
  * debian/rules: Adjust confflag targets so xcsecurity isn't enabled for udeb
    with disabled xace.
  * Drop 184_virtual_devices_autodetect.patch: It's a noop with todays autoconfig.
  
  [ Bryce Harrington ]
  * debian/rules: Don't reference the package uploader for support; instead point
    users to the standard Ubuntu support page.
    (LP: #589811)

  [ Christopher James Halse Rogers ]
  * Add debian/gbp.conf pointing at ubuntu branch.
  * Drop 109_fix-swcursor-crash.patch; merged upstream in 3a3edb2c.
  * 122_xext_fix_card32_overflow_in_xauth.patch: Update to most recent patch
    on patchwork.  This patch actually works! (tested with 
    “xauth generate :0 . trusted timeout 99999999) (LP: #519049)
  
 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 07 Jun 2010 14:50:49 -0700

xorg-server (2:1.8.1.901-1) experimental; urgency=low

  [ Julien Cristau ]
  * New upstream release
  * Merge changes from 2:1.7.7-2.

  [ Christopher James Halse Rogers ]
  * 16-xaa-fbcomposite-fix-negative-size.diff:
    - mi hunk merged upstream.  Update to keep just the fbpict.c hunk.

 -- Julien Cristau <jcristau@debian.org>  Mon, 07 Jun 2010 23:22:48 +0200

xorg-server (2:1.8.1-1) experimental; urgency=low

  * New upstream release
    - 02_Add-libgcrypt-and-libnettle-as-options-for-sha1.diff: partly merged
      upstream, rest renamed to 02_Add-libnettle-as-option-for-sha1.diff and
      ported to new version
    - 05_only_call_gamma_set_if_nonnull.diff: merged upstream
    - 07-xfree86-fix-build-with-xv-disabled.diff: rediffed
    - 08-config-xorg-conf-d.diff: merged upstream
    - 09-inputclass-sans-abi9.diff: likewise
    - 10-config-libudev-backend.diff: likewise
    - 11-xfree86-fix-video-fallback.diff: likewise
    - 12-xfree86-dont-complain-about-missing-coredevices.diff: likewise
    - 13-unbreak-input-abi.diff: obsolete
    - 14-tone-down-nidr-errors.diff: merged upstream
    - 15-nouveau.diff: rediffed
    - 17-xfree86-saner-conf-search-paths.diff: merged upstream
    - 18-Add-10-evdev.conf.diff: likewise
  * Bump xutils-dev build-dep for new macros.
  * Add build-dep on xfonts-utils for fontutil.pc.
  * Bump build-deps on mesa, glproto and dri2proto.
  * Drop obsolete configure options --disable-xsdl and
    --disable-null-root-cursor.
  * --enable-werror has been replaced by --enable-strict-compilation, adjust
    rules.
  * xdmx-tools.install: xdmx was renamed to dmxinfo.
  * Bump debian/serverminver and ABI versions.

 -- Julien Cristau <jcristau@debian.org>  Wed, 12 May 2010 18:01:39 +0200

xorg-server (2:1.7.7-2) unstable; urgency=low

  * autoconfig: load the nouveau driver for nvidia hw.  Stolen from F13.
  * Try to catch non-event devices when running udevadm info in the bug
    script.
  * Pull from upstream server-1.7-nominations branch
    - dix: make DeviceEvent coordinates signed for Xinerama (closes: #581763)
    - xfree86: dga needs to use the master keyboard state (closes: #576393)
    - Fix null pointer dereference in xf86_reload_cursors (closes: #507916)

 -- Julien Cristau <jcristau@debian.org>  Thu, 03 Jun 2010 17:00:18 +0200

xorg-server (2:1.7.7-1) unstable; urgency=low

  [ Timo Aaltonen ]
  * Update patch 17; Add missing __datadir__ to cpprules.in.

  [ Cyril Brulebois ]
  * Add listing files under /etc/X11/xorg.conf.d in bug script.
  * Fix typo in 10-mouse.conf: s/Mouse/Pointer/ (Closes: #579130).

  [ Julien Cristau ]
  * Drop the GLX 1.4 patches to fix server crashes with DRI2 (closes:
    #567677).
  * Change driver ABI Conflicts to Breaks.  Drop old Conflicts/Replaces on
    pre-modular xserver packages.
  * Unset PRERELEASE to avoid the prerelease warning in the log.
  * New upstream release:
    - fixes Xvfb crash with XI2 (closes: #575905)
    - EXA: Check sys_ptr isn't NULL before passing it to the UploadToScreen
      hook (closes: #576656)
  * 19-exa-handle-pixmap-create-destroy-in-lower-layers.diff is now upstream,
    remove it.
  * Drop mention of input_id from debian/copyright since we stopped shipping
    it a while back.

 -- Julien Cristau <jcristau@debian.org>  Tue, 04 May 2010 15:17:59 +0200

xorg-server (2:1.7.6.901-3) unstable; urgency=low

  [ Julien Cristau ]
  * On !linux, install mouse and kbd catchall snippets in the xorg.conf.d
    directory.  Fixes FTBFS on those archs.

  [ Cyril Brulebois ]
  * Cherry-pick “exa: handle pixmap create/destroy in lower layers” which
    fixes server crashes when pixmaps are created in the course of
    software fallbacks (Closes: #576816). Many thanks to Arthur Marsh for
    the tests!

 -- Cyril Brulebois <kibi@debian.org>  Mon, 19 Apr 2010 15:26:15 +0200

xorg-server (2:1.7.6.901-2) unstable; urgency=low

  * Fix dependency generation: Replace PKG_CONFIG_DIR with PKG_CONFIG_PATH
    (/usr/share/xserver-xorg/{videodrv,xinput}dep may lack a version
    otherwise).

 -- Cyril Brulebois <kibi@debian.org>  Sat, 17 Apr 2010 18:38:17 +0200

xorg-server (2:1.7.6.901-1) unstable; urgency=low

  * New upstream release candidate.
    - Fix crash when all glyphs of a given depth are freed, but not all
      glyphsets (closes: #568533)

  [ Cyril Brulebois ]
  * Steal patch 112_xaa-fbcomposite-fix-negative-size.patch from ubuntu,
    and rename it 16-xaa-fbcomposite-fix-negative-size.diff as it's now
    applied in Debian as well. It fixes arithmetic bugs in mod(); thanks to
    Bryce Harrington.
  * Merge 'xsfbs/debian-unstable' to fix target dependencies, which fixes
    useless rebuilds.
  * Add support for “noudeb” in DEB_BUILD_OPTIONS to disable building the
    udeb flavour (even on architectures where udebs are supposed to be
    built) to speed up debug builds. When this is used, the udeb is still
    built, but rather empty…
  * Modify bug script to include kernel version (from /proc/version) since
    the uname in Xorg.*.log might not give enough details (like the Debian
    revision).

  [ Julien Cristau ]
  * Remove from debian/rules an obsolete reference to
    /usr/share/debhelper/dh_make/debianm/rules.
  * Make xserver-xorg-core provide ABI-versioned virtual packages for drivers
    to depend on.  This is a first step in making our ABI handling saner (see
    #573371).
  * xvfb-run: don't rely on /tmp/X$i-lock to bump $SERVERNUM in auto-servernum
    mode (closes: #577195).  Thanks, Jozef Kutej!
  * Bump serverminver for new handling of input config.
  * Add Breaks on input drivers installing files in /usr/lib/X11/xorg.conf.d
    since we're changing the path.
  * Stop looking for x11_driver property in udev, since we're migrating the
    drivers over to xorg.conf.d anyway.
  * Install 10-evdev.conf in /usr/share/X11/xorg.conf.d (from upstream, patch
    18-Add-10-evdev.conf.diff).

  [ Timo Aaltonen ]
  * Add 17-xfree86-saner-conf-search-paths.diff. Allows using another
    xorg.conf.d directory for local changes.

 -- Cyril Brulebois <kibi@debian.org>  Sat, 17 Apr 2010 16:55:39 +0200

xorg-server (2:1.7.6-2ubuntu8) lucid-updates; urgency=low

  [Bryce Harrington]
  * Add 123_exa_sys_ptr_nullpointer_check.patch: Patch from upstream to
    verify a pointer is not NULL before dereferencing it.  Fixes X
    segfault in miCopyRegion which occurs while using firefox (e.g. typing
    into fields in AOL).  Issue found by Jerry Lamos.
    (LP: #539772)
  * Add 19-exa-handle-pixmap-create-destroy-in-lower-layers.diff: Patch
    from Debian to fix X segfault on mouse click in xfig, when pixmaps
    are created in the course of software fallbacks.
    (LP: #553647)

  [Martin Pitt]
  * debian/local/64-xorg-xkb.rules: Ignore XKBMODEL=="SKIP" and
    XKBVARIANT=="U.S. English", which happen to get into
    /etc/default/console-setup in some cases like the VMWare automatic
    installer.
    (LP: #548891)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 28 Apr 2010 13:10:44 -0700

xorg-server (2:1.7.6-2ubuntu7) lucid; urgency=low

  * Drop 117_fix_crash_with_createglyphset.patch
    - Dupe of patch 110
  * Drop 03_fedora_glx_versioning.diff, 04_fedora_glx14-swrast.diff
    - These patches were brought in by Debian to provide glx 1.4 support
      which Fedora backported from xserver 1.8, however testing in
      Ubuntu showed they caused a crash when closing Clutter apps (#550218),
      and graphics corruption when opening windows.  Dropping these patches
      returns us to GLX 1.2, which has been found to be stable; Debian has
      also dropped these two patches.
      (Fixes #565903).
  * Drop 114_dri2_make_sure_x_drawable_exists.patch
    - This was an early attempt by upstream which fixed the aforementioned
      Clutter crash, but which introduced a memory leak.
      (Fixes #565981)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 22 Apr 2010 17:24:38 -0700

xorg-server (2:1.7.6-2ubuntu6) lucid; urgency=low

  * Add 122_xext_fix_card32_overflow_in_xauth.patch:  Prevent overflow
    of a CARD32 variable millis by doing bounds checking.  This is a
    patch currently in discussion at fdo #27134, so this patch can be
    dropped in favor of whatever upstream decides to include.
    (LP: #519049)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 15 Apr 2010 14:10:53 -0700

xorg-server (2:1.7.6-2ubuntu5) lucid; urgency=low

  * Update patches in previous upload to fix FTBS issue.

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 15 Apr 2010 11:03:01 -0700

xorg-server (2:1.7.6-2ubuntu4) lucid; urgency=low

  * Add several cherrypicks of fixes from upstream git tree which fix various
    issues and that look safe with low or no risk of regression.
    + 115_xext_fix_cursor_ref_counting.patch: Xext: Fix cursor reference
      counting hazard.
    + 116_fix_typos_in_swap_functions.patch: Fixes typos in several of the
      glxcmdsswap routines.
    + 117_fix_crash_with_createglyphset.patch:  Fixes crash introduced in
      FindGlyphsByHash() if one client disconnects while a second is in
      the middle of doing certain Glyph operations.
    + 118_xkb_fix_garbage_init.patch: Fixes typo that can cause garbage
      bits to get appended on the xkbControlsNotify changedControls mask
      because it was uninitialized on the stack.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 14 Apr 2010 18:49:56 -0700

xorg-server (2:1.7.6-2ubuntu3) lucid; urgency=low

  * add support for omapfb to 111_armel-drv-fallbacks.patch

 -- Alexander Sack <asac@ubuntu.com>  Mon, 12 Apr 2010 14:43:42 +0200

xorg-server (2:1.7.6-2ubuntu2) lucid; urgency=low

  [Bryce Harrington]
  * Add 113_quell_nouveau_aiglx.patch: Don't emit error message about
    AIGLX on nouveau.  3D is not supported yet on -nouveau so this error
    message serves only to confuse bug reporters.
    (LP: #529590)

  [Robert Sarvatt]
  * Add 114_dri2_make_sure_x_drawable_exists.patch: Makes sure
    a corresponding X drawable exists before trying to use it, fixing
    xserver segfaults under DRI2 when closing down GLX apps.
    (LP: #550218)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 31 Mar 2010 16:37:45 -0700

xorg-server (2:1.7.6-2ubuntu1) lucid; urgency=low

  [ Timo Aaltonen ]
  * Merge from Debian unstable. (LP: #546933)

  [ Michael Casadevall ]
  * Updated 111_armel-drv-fallbacks.patch to also add support for finding
    dovefb devices in addition to imx51 ones. (LP: #550701)

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 30 Mar 2010 22:01:12 +0300

xorg-server (2:1.7.6-2) unstable; urgency=low

  [ Timo Aaltonen ]
  * Add 08-config-xorg-conf-d.diff, 09-inputclass-sans-abi9.diff,
    10-config-libudev-backend.diff. Backport xorg.conf.d, inputclass
    and libudev support from xserver 1.8. Replaces the patches we had
    before. This allows us to migrate from a temporary udev based
    input device configuration straight to the long term solution
    introduced in 1.8.
  * Add 11-xfree86-fix-video-fallback.diff from SUSE. Allows the video
    fallback method to work when there's an xorg.conf around.
  * Add 12-xfree86-dont-complain-about-missing-coredevices.diff.
    No reason to complain about these, unless AEI is off.
  * Add 13-unbreak-input-abi.diff. Keep the old NewInputDeviceRequest(),
    rename the new as NIDR18() and call it from NIDR(). This way we
    don't break the input ABI.
  * Add 14-tone-down-nidr-errors.diff. Use X_INFO instead of X_ERROR.

  [ Julien Cristau ]
  * 15-keep-udev-x11-driver.diff: keep looking for the x11_driver udev
    property as a transitional measure.  This should allow the new server to
    work while drivers aren't transitioned to xorg.conf.d yet.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 30 Mar 2010 21:32:52 +0300

xorg-server (2:1.7.6-1ubuntu3) lucid; urgency=low

  * Extend 112_xaa-fbcomposite-fix-negative-size.patch to also correct a
    mod() definition in the mi code which suffers the same flaw.

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 29 Mar 2010 14:15:07 -0700

xorg-server (2:1.7.6-1ubuntu2) lucid; urgency=low

  * Add 112_xaa-fbcomposite-fix-negative-size.patch:  Prevent 3rd-party
    controllable Xorg crash/exploit when XAA and compositing is in use.
    Be more careful in sign-changes with mod().
    (LP: #551193)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 29 Mar 2010 13:37:06 -0700

xorg-server (2:1.7.6-1ubuntu1) lucid; urgency=low

  [Timo Aaltonen]
  * Merge from Debian unstable.
  * Drop patch 107, included in Debian.
  * Drop patch 108, included upstream.
  * control: Drop the udeb, we don't need it for lucid.
  * control: Relax/drop some build-deps caused by the udeb.

  [Bryce Harrington]
  * Add 110_findglyphbyhash-fix.patch from upstream to fix a sporadic
    crash in FindGlyphByHash.
    (LP: #401045)
  * Renumber patch 201_armel-drv-fallbacks.patch to 111

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 24 Mar 2010 12:04:20 -0700

xorg-server (2:1.7.6-1) unstable; urgency=low

  [ Brice Goglin ]
  * Add 06_dont_trap_access_to_timer_and_keyboard.diff,
    thanks Samuel Thibault.

  [ Timo Aaltonen ]
  * New upstream release, closes: #574354.

  [ Julien Cristau ]
  * Don't build xserver-xorg-core-udeb on sparc.  The linker fails because
    relocations have to be truncated when building statically against
    libnettle.

 -- Cyril Brulebois <kibi@debian.org>  Tue, 23 Mar 2010 16:59:08 +0100

xorg-server (2:1.7.5.902-1) unstable; urgency=low

  [ Julien Cristau ]
  * config/udev: fix adding unnamed devices.
  * Build two flavours, one for the main package and one for the udeb.
  * Add patch to fix Xorg build with XV disabled.

  [ Timo Aaltonen ]
  * Add 16-config-dont-filter-input-subsys.diff so for instance serial
    wacom devices are initialized by the udev backend (LP: #522318,
    closes: #568236).

  [ Brice Goglin ]
  * New upstream release.
    + Allow for missing or disabled compat_output, closes: #572268, #554450.
    + Reenable RECORD extension, closes: #570680.
    + dix: try to ring the bell even if the current device doesn't have one,
      closes: #564200.
  * Refresh patches.
  * Fix typo in xvfb-run.1, thanks Joey Hess, closes: #527490.
  * Add 06_dont_trap_access_to_timer_and_keyboard.diff,
    thanks Samuel Thibault.

  [ Cyril Brulebois ]
  * Add udeb needed for the graphical installer: xserver-xorg-core-udeb.
  * Version/Bump some B-D to make sure xserver-xorg-core-udeb gets its
    dependencies on the (recently-added) udebs rather than on the
    libraries:
     - libpciaccess-dev
     - libudev-dev
     - libxau-dev
     - libxfont-dev
  * Replace 02_Add-libgcrypt-as-an-option-for-sha1.diff with
    02_Add-libgcrypt-and-libnettle-as-options-for-sha1.diff so that it's
    also possible to link against libnettle. Link (unconditionally)
    statically against libnettle.a to avoid an extra udeb for a few bytes.
  * Add nettle-dev to Build-Depends; and pass --with-sha1=libnettle for
    the udeb build (and --with-sha1=libgcrypt for the main build).
  * Add myself to Uploaders.
  * Tweak builderstring to use the name of the person responsible for the
    upload instead of an host-specific one (Closes: #574017).

 -- Cyril Brulebois <kibi@debian.org>  Mon, 15 Mar 2010 22:19:01 +0100

xorg-server (2:1.7.5-1ubuntu4) lucid; urgency=low

  * 201_armel-drv-fallbacks.patch: use imx driver if available on
    armel imx51 systems; the current test checks for mxc_gpu
    devices listed in /sys/devices/platform and ensures that the
    imx_drv module can be loaded; if both succeed, imx driver is
    used instead of fbdev; note: the mxc_gpu device test should be
    replaced with parsing output of /proc/fb once the mxc driver
    provides reasonable content there.

 -- Alexander Sack <asac@ubuntu.com>  Wed, 24 Mar 2010 13:03:41 +0100

xorg-server (2:1.7.5-1ubuntu3) lucid; urgency=low

  * Add 109_fix-swcursor-crash.patch: Avoid dereferencing null pointer
    while reloading cursors during resume.
    (LP: #371405)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 11 Mar 2010 17:16:12 -0800

xorg-server (2:1.7.5-1ubuntu2) lucid; urgency=low

  [ Bryce Harrington ]
  [Timo Aaltonen]
  * Add 107_dont_filter_input_subsys.diff so for instance serial wacom
    devices are initialized by the udev backend (LP: #522318)

  [Bryce Harrington]
  * Add 108_reenable_record_ext.patch: Upstream patch to make the
    record callback work with the new internal core/Xi events mechanism
    instead of xEvents. With this fix, the record extension can be
    re-enabled.
    (LP: #315456)

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 02 Mar 2010 17:09:33 +0200

xorg-server (2:1.7.5-1ubuntu1) lucid; urgency=low

  [ Bryce Harrington ]
  [Robert Hooker]
  * Add 106_nouveau_autodetect.patch: makes nouveau the default driver
    for supported cards when not explicitly named in xorg.conf.

  [Timo Aaltonen]
  * Merge from Debian unstable.
  * Drop patch 101, included in Debian.

  [Robert Collins]
  * Add 199_xfvb-help-typo.patch to fix typo in help for xvfb (fdo #32990)
  * Add 200_randr-null.patch to clarify a pointer initialization (fdo #26389)

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Fri, 19 Feb 2010 13:24:15 +0200

xorg-server (2:1.7.5-1) unstable; urgency=low

  [ Julien Cristau ]
  * Remove myself from Uploaders

  [ Brice Goglin ]
  * New upstream release.
    + Restore lastDeviceEventTime update in dixSaveScreens,
      closes: #563816.
    + Don't double-swap the RandR PropertyNotify event,
      closes: #569036.
    + Xi: reset the sli pointers after copying device classes,
      closes: #566147.
  * Bump Standards-Version to 3.8.4.

 -- Brice Goglin <bgoglin@debian.org>  Tue, 16 Feb 2010 08:00:27 +0100

xorg-server (2:1.7.4-2) unstable; urgency=low

  [ Julien Cristau ]
  * Rename the build directory to not include DEB_BUILD_GNU_TYPE for no
    good reason.  Thanks, Colin Watson!

  [ Brice Goglin ]
  * Add 05_only_call_gamma_set_if_nonnull.diff to unbreak the nv driver,
    closes: #564203.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 20 Jan 2010 23:51:26 +0100

xorg-server (2:1.7.4-1) unstable; urgency=low

  [ Timo Aaltonen ]
  * New upstream release.

  [ Julien Cristau ]
  * Don't call config_init() until after InitInput() has initialized the event
    queue, so that devices don't get enabled too early (closes: #564256,
    #564324).

 -- Julien Cristau <jcristau@debian.org>  Tue, 12 Jan 2010 10:49:22 +0000

xorg-server (2:1.7.3.902-1ubuntu12) lucid; urgency=low

  * Add 198_nohwaccess.patch: Needed for rootless X.  Adds a -nohwaccess
    argument to make X not access the hardware ports directly.

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 05 Feb 2010 22:17:20 -0800

xorg-server (2:1.7.3.902-1ubuntu11) lucid; urgency=low

  * Add 196_xvfb-fbscreeninit-handling.patch and 197_xvfb-randr.patch:
    Adds xrandr support to xvfb.  Thanks lifeless!
    (LP: #516123)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 04 Feb 2010 10:56:12 -0800

xorg-server (2:1.7.3.902-1ubuntu10) lucid; urgency=low

  * 100_rethrow_signals.patch: Fix SigAbortServer to cleanly exit(1) on a
    non-signal crash, as the original upstream code does. Not exiting leads to
    continuing back into the code which threw the error, which eventually
    leads to writing into the already closed log file and other operations
    which cause segfaults.
  * Re-enable 100_rethrow_signals.patch.  Hello apport.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 03 Feb 2010 17:29:53 -0800

xorg-server (2:1.7.3.902-1ubuntu9) lucid; urgency=low

  * Fully disable 100_rethrow_signals.patch as it seems to still cause
    crashes.  Goodbye apport.
    (LP: #506510)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 18 Jan 2010 23:31:08 -0800

xorg-server (2:1.7.3.902-1ubuntu8) lucid; urgency=low

  * Drop 160_log_timestamping.patch.  The bootup time objectives have been
    met so this patch is no longer required.

 -- Bryce Harrington <bryce@ubuntu.com>  Sat, 16 Jan 2010 02:28:30 -0800

xorg-server (2:1.7.3.902-1ubuntu7) lucid; urgency=low

  * Update 100_rethrow_signals.patch: Don't log more error messages after
    the log has been closed, else it causes a SIGSEGV (signal 11) crash
    under several different conditions, including on even ordinary error
    exits.
    (LP: #506510, #507345, #506977, #504497, #507083)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 15 Jan 2010 15:22:34 -0800

xorg-server (2:1.7.3.902-1ubuntu6) lucid; urgency=low

  * debian/xserver-xorg-core.preinst.in:
    - Correct the name of the alternative that we need to remove.
      Thanks to Steve Langasek for spotting the error.

 -- Alberto Milone <alberto.milone@canonical.com>  Thu, 14 Jan 2010 12:50:19 +0100

xorg-server (2:1.7.3.902-1ubuntu5) lucid; urgency=low

  * debian/xserver-xorg-core.preinst.in:
    - Make sure that the alternative which was previously provided by
      xserver-xorg-core is removed.

 -- Alberto Milone <alberto.milone@canonical.com>  Tue, 12 Jan 2010 11:37:49 +0100

xorg-server (2:1.7.3.902-1ubuntu4) lucid; urgency=low

  * debian/patches/191-Xorg-add-an-extra-module-path.patch:
    - Patch from Mandriva to allow the use of an extra-modules-dir so that
      the modules installed in this dir will override the ones in the
      default directory.
  * debian/rules:
    - Remove alternatives stuff introduced in a previous upload.
    - Configure with --with-extra-module-dir="/usr/lib/xorg/extra-modules".
    - Do not install libglx.so and libdri.so in a different place any more.
    - Do not install ld.so.conf file any more. Mesa will deal with this.
  * debian/xserver-xorg-core.links:
    - Do not create link to /usr/lib/xvmcconfig-standard/XvMCConfig.
    - Remove links file.
  * debian/xserver-xorg-core.postinst.in:
    - Do not install an alternative any more. Mesa will deal with this.
  * debian/xserver-xorg-core.prerm.in:
    - Remove file.

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 11 Jan 2010 14:48:35 +0100

xorg-server (2:1.7.3.902-1ubuntu3) lucid; urgency=low

  [ Julien Cristau ]
  * Don't call config_init() until after InitInput() has initialized the event
    queue, so that devices don't get enabled too early (closes: #564256,
    #564324). (LP: #504254)

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Sat, 09 Jan 2010 19:34:30 +0200

xorg-server (2:1.7.3.902-1ubuntu2) lucid; urgency=low

  * debian/rules:
    - Make sure that /usr/lib/standard-x11/ld.so.conf points to
      the libraries provided by mesa.

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 08 Jan 2010 18:55:52 +0100

xorg-server (2:1.7.3.902-1ubuntu1) lucid; urgency=low

  [ Timo Aaltonen ]
  * Merge from Debian unstable.

  [ Michael Vogt ]
  * Add 101_nv-crash-fix.diff: Do not crash if gamma_set is NULL.
    (LP: #494627)

  [ Alberto Milone ]
  * Install libglx.so and libdri.so in /usr/lib/standard-x11 as X
    seems to prefer the file in /usr/lib/xorg/modules/extensions/standard/
    over links in /usr/lib/xorg/modules/extensions/.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Fri, 08 Jan 2010 14:21:15 +0200

xorg-server (2:1.7.3.902-1) unstable; urgency=low

  [ Timo Aaltonen ]
  * Run udevadm trigger on postinst, and depend on udev [linux-any].

  [ Julien Cristau ]
  * Add xserver-common dependency on x11-xkb-utils for xkbcomp.
  * Remove our copy of input_id, add Depends on new enough udev instead.
  * New upstream release.
  * Make xserver-common recommend xfonts-base, some clients don't work without
    those.
  * Upload to unstable.

 -- Julien Cristau <jcristau@debian.org>  Wed, 06 Jan 2010 17:44:59 +0000

xorg-server (2:1.7.3.901-1ubuntu5) lucid; urgency=low

  * Use alternatives to make it easier to switch between X11 and 3rd
    party modules.
  * Add link to /usr/lib/xvmcconfig-standard/XvMCConfig and use it
    for alternatives.

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 04 Jan 2010 12:08:17 +0100

xorg-server (2:1.7.3.901-1ubuntu4) lucid; urgency=low

  * xvfb: Depend again on xauth. Depend on x11-xkb-utils. LP: #500102.

 -- Matthias Klose <doko@ubuntu.com>  Thu, 24 Dec 2009 12:20:02 +0100

xorg-server (2:1.7.3.901-1ubuntu3) lucid; urgency=low

  * Update 100_rethrow_signals.patch to work with xserver 1.7

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 18 Dec 2009 18:55:56 -0800

xorg-server (2:1.7.3.901-1ubuntu2) lucid; urgency=low

  [ Alberto Milone ]
  * debian/patches/190_cache-xkbcomp_output_for_fast_start_up.patch:
    Make the patch build again with xserver 1.7.

  [ Timo Aaltonen ]
  * Enable patch 190 now that it works.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 15 Dec 2009 14:49:39 +0200

xorg-server (2:1.7.3.901-1ubuntu1) lucid; urgency=low

  * Merge from Debian experimental.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Mon, 14 Dec 2009 11:34:33 +0200

xorg-server (2:1.7.3.901-1) experimental; urgency=low

  [ Julien Cristau ]
  * Enable GLX 1.4 on DRI2 and swrast (from upstream, via F12).
  * xserver-xorg-dev: add Depends on x11proto-kb-dev and libxkbfile-dev for
    xkbsrv.h (closes: #559676).  Thanks, Ron!
  * Update input_id to the version in udev 149.
  * Update xserver-xorg-core bug script to run udevadm info instead of lshal.

  [ Brice Goglin ]
  * New upstream release.
    + Refresh patches.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 12 Dec 2009 17:46:45 +0100

xorg-server (2:1.7.2-2ubuntu2) lucid; urgency=low

  * local/64-xorg-xkb.rules: Use "program" instead of "file" when
    grepping the XKB settings from console-setup.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 08 Dec 2009 13:17:04 +0200

xorg-server (2:1.7.2-2ubuntu1) lucid; urgency=low

  * Merge from Debian experimental. Remaining Ubuntu changes:
    - debian/rules, debian/control:
      + Disable SELinux, libaudit-dev is not in main yet (LP 406226).
        Drop libaudit-dev from build-deps.
    - debian/rules: Enable xcsecurity (LP 247537).
    - local/xvfb-run*: Add correct docs about error codes (LP 328205)
    - local/xvfb-run: Use "-extension Composite" to fix xvfb-run crashing.
    - debian/patches:
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 135_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 164_trap-aspect-ratios.patch:
        Correct monitor EDIDs that have misreported aspect ratios.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 187_edid_quirk_hp_nc8430.patch:
        Quirk for another LPL monitor (LP: #380009)
      + 188_default_primary_to_first_busid.patch:
        Pick the first device and carry on (LP 459512)
      + 189_xserver_1.5.0_bg_none_root.patch:
        Create a root window with no background.
      + 190_cache-xkbcomp_output_for_fast_start_up.patch:
        Cache keyboard settings.
  * debian/control: Drop obsolete Conflicts/Breaks against -psb,
    -synaptics and -evdev.
  * debian/local/xserver-xephyr.1: Delete, upstream has Xephyr.1 now.
  * Dropped patches:
    - 101_fedora_xserver-1.3.0-document-fontpath-correctly.patch:
      Upstream dropped it.
    - 102_ubuntu_sharevts_load_cpu.patch: Upstream.
    - 103_psb_auto.patch: Fallback to vesa done differently upstream.
    - 110_fedora_no_move_damage.patch: Upstream dropped it.
    - 140_quell_acpi_errmsgs.patch: Superseded.
    - 153_make_dmx_compile.patch: Xdmx is fixed upstream.
    - 156_exevents_copykeyclass_nullptrcheck.patch: No longer needed.
      Appropriate checks are done on the pointers prior to CopyKeyClass
      being called now.
    - 158_raise_maxclients.patch: Breaks binary drivers.  We've had this
      reverted for some time now, may as well just get rid of it entirely.
    - 174_set_bg_pixmap_of_cow_to_none.patch: Upstream
    - 177_animated_cursor_change_master.patch: Different fix upstream.
    - 180_fedora_no_synaptics_mouse_synthesis.patch: Superseded.
    - 181_fedora_log_proc_cmdline.patch: Upstream.
    - 185_dix_badwindow.patch: Upstream.
    - 186_autoconfig_geode.patch: Upstream.
  * 189_xserver_1.5.0_bg_none_root.patch: Fetched a new version.
  * 135_rethrow_signals.patch, 168_glibc_trace_to_stderr.patch:
    Disabled until fixed to work with the current version.
  * 160_log_timestamping.patch: Updated and re-enabled for boot speed
    testing in Lucid.  This patch should be disabled by beta2.
  * 169_mipointer_nullptr_checks.patch: Updated.  MIPOINTER() still
    can return NULL under some circumstances, and its return values
    are still being dereferenced without checking for NULL.
  * 188_default_primary_to_first_busid.patch: Updated.  Still looks to be
    relevant for certain multi-card systems.
  * 190_cache-xkbcomp_output_for_fast_start_up.patch: Updated.
  * control, local/64-xorg-xkb.rules: Don't depend on keyboard-configuration
    until we have it.
  * rules, local/64-xorg-xkb.rules: Use input_id from udev.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Mon, 07 Dec 2009 15:30:18 +0200

xorg-server (2:1.7.2-2) experimental; urgency=low

  [ Julien Cristau ]
  * debian/rules: upstream build system got fixed, no need to remove
    configure-generated files.
  * Steal input_id helper from udev, install it in /lib/xorg.  Thanks, Martin
    Pitt!

  [ Brice Goglin ]
  * Cherry pick upstream commit to fix the ABI.

 -- Brice Goglin <bgoglin@debian.org>  Mon, 30 Nov 2009 20:10:27 +0100

xorg-server (2:1.7.2-1) experimental; urgency=low

  * New upstream release
    + Xorg sets umask to 022 (closes: #555308)
  * Delete 09_debian_xserver_rtff.diff.  Was disabled since 1.3.99, and is not
    necessary since the fall back to builtin fonts was added.
  * Change the server's dependency on xserver-common to >= ${source:Version},
    to allow installation of different versions of the various servers.
  * Add build-dep on libglib2.0-dev, xkb-data and x11-xkb-utils for unit
    tests, and run the tests unless nocheck is in DEB_BUILD_OPTIONS.
  * Cherry-pick upstream commit to turn ModeDebug on during server startup,
    replacing our Turn-on-ModeDebug-by-default.patch.
  * Number our patches to make it easier to keep track of things.  Requested
    by the Ubuntu folks.
  * xvfb-run: retry a few times if Xvfb can't be started when using
    --auto-servernum, to make concurrent invocations work (closes: #521075).
    Thanks, Kees Cook!
  * Use libudev instead of libhal for input hotplug on linux.
  * Add udev rule to get keymap from /etc/default/keyboard.

 -- Julien Cristau <jcristau@debian.org>  Sat, 28 Nov 2009 16:48:43 +0100

xorg-server (2:1.7.0-1) experimental; urgency=low

  * Add missing Conflicts on xserver-xorg-video-5 and xserver-xorg-input-4.
  * Add xkb-data to xserver-common's Depends.  XKB is mandatory in 1.7.
  * Make all servers depend on xserver-common (= ${source:Version}).
  * New upstream release
    + fixes Xvfb crashes (closes: #529927)
    + fixes DGA init crash (closes: #548716)

 -- Julien Cristau <jcristau@debian.org>  Sun, 04 Oct 2009 15:57:01 +0200

xorg-server (2:1.6.99.903-1) experimental; urgency=low

  * New upstream snapshot.
    + doesn't fill log file with errors when acpid isn't running
      (closes: #487904, #500583)
    + adds autoconfig for geode variants (closes: #544988)
    + fixes idle time computation (closes: #542064)
    + Xnest uses the host's mouse acceleration and speed (closes: #325181)
    + Xephyr now has a manpage (closes: #427121)
    + Xdmx works again (closes: #541254)
  * Update build deps
  * Update patch stack:
    - 20_hurd-i386.diff applied upstream
    - fedora-bad-fbdev-thats-mine.patch applied upstream
    - fedora-pci-primary.diff superseded upstream
    - fedora-vboxvideo.diff applied upstream
    - kfreebsd-ftbfs.diff applied upstream
    - Add-libgcrypt-as-an-option-for-sha1.diff refreshed
    - Turn-on-ModeDebug-by-default.patch refreshed
  * Cleanup some libtool cruft in debian/rules clean.
  * Bump serverminver, videoabiver and inputabiver.
  * Bump debhelper compat level to 5:
    - handle dh_strip behaviour change
    - fix xserver-xorg-core.install
  * Bump Standards-Version to 3.8.3.

 -- Julien Cristau <jcristau@debian.org>  Tue, 29 Sep 2009 17:51:05 +0200

xorg-server (2:1.6.4-2ubuntu6) lucid; urgency=low

  * 189_xserver_1.5.0_bg_none_root.patch: Moblin patch to allow X to
    create a root window with no background by passing the -nr
    argument.  This will make X no longer clear the framebuffer when it
    starts, thus eliminating a flicker between bootsplash and gdm.  -nr
    is ignored if this feature is not supported by the driver.  This patch
    is not upstream yet.
    TESTERS:  Watch for screen corruption issues during X or app start.
  * 190_cache-xkbcomp_output_for_fast_start_up.patch: Causes the X
    Keyboard Compiler (xkbcomp) to create a cache file of the keyboard
    settings.  This will make the 2nd and later boots slightly faster.
    TESTERS:  Watch for issues relating to keyboard customizations not
    taking effect properly following boot.

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 23 Nov 2009 13:59:44 -0800

xorg-server (2:1.6.4-2ubuntu5) lucid; urgency=low

  * Rework xvfb-run patch to wait for server to come up before checking
    status (LP: #481591, Debian bug 521075).

 -- Kees Cook <kees@ubuntu.com>  Fri, 13 Nov 2009 16:15:36 -0800

xorg-server (2:1.6.4-2ubuntu4) karmic; urgency=low

  * Add 188_default_primary_to_first_busid.patch: X can abort if multiple
    video devices are present, and none are marked as primary.  This makes
    X just pick the first one it sees and carry on.
    (LP: #459512)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 26 Oct 2009 10:05:44 -0700

xorg-server (2:1.6.4-2ubuntu3) karmic; urgency=low

  * local/xvfb-run: Fix race condition in xvfb-run that can cause
    concurrent invocations to fail.
    (LP: #348052)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 14 Oct 2009 15:21:51 -0700

xorg-server (2:1.6.4-2ubuntu2) karmic; urgency=low

  * Add 187_edid_quirk_hp_nc8430.patch: Quirk for another LPL monitor, to
    fix huge font sizes due to invalid EDID from the hardware.
    (LP: #380009)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 Oct 2009 02:25:46 -0700

xorg-server (2:1.6.4-2ubuntu1) karmic; urgency=low

  * Merge from Debian unstable.  (LP: #447010)
    Remaining Ubuntu changes:
    - debian/control:
      + set Conflicts: xkb-data (<< 0.9), since xkb-path is
        different from previous releases
      + do not Conflict with xserver-xorg-video
      + xvfb Depends on xauth, xfonts-base
      + Set Maintainer to Ubuntu Core Developers
    - debian/rules:
      + build using -fno-stack-protector
      + --with-os-vendor=Ubuntu
    - debian/xserver-xorg-core.install:
      + Add ioport, pcitweak, scanpci scripts & man pages
    - debian/patches:
      + 101_fedora_xserver-1.3.0-document-fontpath-correctly.patch:
        Specify correct paths to fonts
      + 102_ubuntu_sharevts_load_cpu.patch:
        close console fd only when ShareVTs
      + 103_psb_auto.patch:
        Autodetect poulsbo devices (but use -vesa since -psb is broken)
      + 110_fedora_no_move_damage.patch:
        further aiglx support
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 135_rethrow_signals.patch:
        When aborting, re-raise signals for apport
      + 140_quell_acpi_errmsgs.patch:
        Avoid generating extraneous warnings when acpi is missing
      + 153_make_dmx_compile.patch:
        Change xcalloc -> calloc, so that dmx compiles.
      + 156_exevents_copykeyclass_nullptrcheck.patch,
        157_check_null_modes.patch, 162_null_crtc_in_rotation.patch,
        166_nullptr_xinerama_keyrepeat.patch, 167_nullptr_xisbread.patch
        169_mipointer_nullptr_checks.patch,
        172_cwgetbackingpicture_nullptr_check.patch:
        Fix various segfaults in xserver by checking pointers for NULL
        values before dereferencing them.
      + 164_trap-aspect-ratios.patch:
        Correct monitor EDIDs that have misreported aspect ratios.
      + 165_man_xorg_conf_no_device_ident.patch
        Correct man page
      + 168_glibc_trace_to_stderr.patch:
        Report abort traces to stderr instead of terminal
      + 174_set_bg_pixmap_of_cow_to_none.patch:
        Set background pixmap of composite overlay window to no background
      + 177_animated_cursor_change_master.patch:
        Don't create animated cursors for slave devices
      + 180_fedora_no_synaptics_mouse_synthesis.patch:
        Don't synthesize a mouse section if a synaptics device is found
      + 181_fedora_log_proc_cmdline.patch:
        Dump /proc/cmdline in the log file too
      + 184_virtual_devices_autodetect.patch:
        Use vesa for qemu device, which is not supported by cirrus
      + 185_dix_badwindow.patch:
        Don't return BadMatch from GetProperty if window isn't actually a window
      + 186_autoconfig_geode.patch
        Perform autodetection correctly for various geode devices
  * Update 184_virtual_devices_autodetect.patch to only include inserting
    cirrus, since vbox is covered by the new fedora patch.
  * Drop patches already included upstream:
    - 187_lastdeviceeventtime-no-reset.patch
    - 178_glx_flush_cache.patch
    - 179_glx_cleanup_drawables.patch
    - 183_dont_reset_event_time.patch
    - 182_negative_sync_transitions.patch
  * Ubuntu bugs fixed as of this release:
    - Generate key up event only when key is released.  (Fixed previously)
      (LP: #403339)
    - Fix XDPMS change event idle handling
      (LP: #114336, #152999)
    - Don't shutdown the libhal ctx if it failed to initialize.  Fixes
      crash if HAL or dbus is not running or is interrupted.
      (LP: #114336)
    - Fix crash if SendCoreEvents is off.  Don't send events through
      master in this case.
      (LP: #368135)
    - Fix SWCursor check in xf86CursorSetCursor to prevent cursor image
      showing up on every screen with Xinerama.
      (LP: #357901)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 09 Oct 2009 12:01:52 -0700

xorg-server (2:1.6.4-2) unstable; urgency=low

  * Add fix-dga-removal.patch, closes: #548724.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 30 Sep 2009 22:40:29 +0200

xorg-server (2:1.6.4-1) unstable; urgency=low

  * New upstream release.
  * Update 20_hurd-i386.diff, thanks Samuel Thibault, closes: #548606.
  * Drop render-return-the-supported-version.patch, applied upstream.

 -- Brice Goglin <bgoglin@debian.org>  Mon, 28 Sep 2009 07:23:07 +0200

xorg-server (2:1.6.3.901-1) unstable; urgency=low

  [ Julien Cristau ]
  * Add patch stolen from Fedora to add the vboxvideo driver to the
    autodetection routine (closes: #540884).
  * Add built-ins to the default font path so that non-Xorg servers can use
    them (closes: #542707).  Thanks, Josselin Mouette!
  * Add avr32 to the libselinux-dev/libaudit-dev build-deps (closes: #543540).
    Thanks, Bradley Smith!
  * Add patch to return the actually supported version in RenderQueryVersion
    rather than whatever renderproto version the server built against.
  * New upstream release.
    + idle counter computation fixes (closes: #542064)
  * Cherry-pick three more patches nominated on
    http://www.x.org/wiki/Server16Branch:
    - Don't reset the lastDeviceEventTime when doing DPMS actions
    - dri2: Don't crash if pPriv is NULL
    - EXA: Only take special code path for 1x1 fill for pixmaps

  [ David Nusinow ]
  * Update xsfbs to 5693792171d885769e58dcccc053c08b11acd12a

 -- Julien Cristau <jcristau@debian.org>  Mon, 14 Sep 2009 15:33:46 +0200

xorg-server (2:1.6.3-1ubuntu7) karmic; urgency=low

  * Add 187_lastdeviceeventtime-no-reset.patch: Avoids resetting IDLETIME on
    DPMS events.  Cherrypick from upstream.
    (LP: #397839)

 -- Loïc Minier <loic.minier@ubuntu.com>  Mon, 28 Sep 2009 10:54:08 +0200

xorg-server (2:1.6.3-1ubuntu6) karmic; urgency=low

  * Add 186_autoconfig_geode.patch:  Add autoconfiguration support for
    older geode cards.  Cherrypick from upstream.
    (LP: #423866)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 08 Sep 2009 15:43:28 -0700

xorg-server (2:1.6.3-1ubuntu5) karmic; urgency=low

  * Add 185_dix_badwindow.patch: dixLookupWindow may return BadMatch if
    the window in question isn't actually a window. In this case,
    GetProperty needs to return BadWindow - not BadMatch.  Fixes unexpected
    crash in some GNOME applications not expecting to get BadMatch returned
    from this function call.
    (LP: #321041)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 03 Sep 2009 18:27:04 -0700

xorg-server (2:1.6.3-1ubuntu4) karmic; urgency=low

  * Add 184_virtual_devices_autodetect.patch: Automatic driver detection
    for vbox and kvm for non-cirrus devices.
    (LP: #338219, #348497)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 24 Aug 2009 14:58:22 -0700

xorg-server (2:1.6.3-1ubuntu3) karmic; urgency=low

  * Add 183_dont_reset_event_time.patch:  Upstream cherrypick.
    Fix another random display blanking issue.  When we turn off DPMS with
    DPMSModeOff and do dixSaveScreens, don't reset the event time else
    session clients using IDLETIME will be reset.
    See http://blogs.gnome.org/hughsie/2009/08/17/

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 19 Aug 2009 10:21:45 -0700

xorg-server (2:1.6.3-1ubuntu2) karmic; urgency=low

  * Add 182_negative_sync_transitions.patch:  Upstream cherrypick.
    Fix random blanking display when system is not idle, caused by
    mishandling of negative transition triggers in XSync.
    (LP: #397839)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 14 Aug 2009 11:21:09 -0700

xorg-server (2:1.6.3-1ubuntu1) karmic; urgency=low

  * Merge from Debian unstable.
  * control: Drop libaudit-dev from build-deps, since SELinux-support
    is still disabled anyway.
  * Drop 182_fedora_quirk_pea.patch, included in 1.6.3.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Wed, 05 Aug 2009 14:11:01 +0300

xorg-server (2:1.6.3-1) unstable; urgency=low

  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Sat, 01 Aug 2009 08:55:40 +0200

xorg-server (2:1.6.2.901-1ubuntu3) karmic; urgency=low

  * Add 182_fedora_quirk_pea.patch:  Quirk for Peacock Ergovision 19
    to use first detailed mode.
  * Add 181_fedora_log_proc_cmdline.patch: Log the /proc/cmdline into
    Xorg.0.log
  * Add 180_fedora_no_synaptics_mouse_synthesis.patch: Don't synthesise a
    mouse section if synaptics devices are found.
    (LP: #406291, #405281, #396908)
  * Actually enable patches 178 and 179

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 04 Aug 2009 02:37:12 -0700

xorg-server (2:1.6.2.901-1ubuntu2) karmic; urgency=low

  * Add 178_glx_flush_cache.patch and 179_glx_cleanup_drawables.patch:
    - Cleanup destroyed windows and drawables, to prevent crash during
      compiz startup.
      (LP: #408293)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 03 Aug 2009 07:55:12 -0700

xorg-server (2:1.6.2.901-1ubuntu1) karmic; urgency=low

  [ Timo Aaltonen ]
  * Merge from Debian unstable. (LP: #403316)
  * Drop 170_primary_pci_video_device.patch, included in Debian

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 28 Jul 2009 15:34:16 +0300

xorg-server (2:1.6.2.901-1) unstable; urgency=low

  * New upstream release candidate.
  * Bump mesa Build-Depends to >= 7.5 to fix DRI2 madness again,
    closes: #538637.

 -- Brice Goglin <bgoglin@debian.org>  Mon, 27 Jul 2009 00:17:42 +0200

xorg-server (2:1.6.2-1) unstable; urgency=low

  [ Brice Goglin ]
  * New upstream release.
    + Fixes dri2 madness introduced in previous upload
      (closes: #534522, #536019, #534766, #534771, #534890).
    + Fixes xkb bogus length in write keyboard desc, closes: #529625.
    + Fixes SWCursor being multiply rendered, closes: #526260.
    + Drop Change-default-for-ExaOptimizeMigration-to-false.diff,
      applied upstream.
    + Pull upstream server-1.6-branch up to commit 606f6dba.
  * Bump serverminver to 2:1.6.2 for the dri2 upstream changes in the
    previous upload.

  [ Julien Cristau ]
  * Bump xserver-xorg-dev's dependency on dri2proto to >= 2.1 for the same
    reason.
  * Don't set PCI_TXT_IDS_DIR, we don't use that anymore.
  * xserver-xorg-core.bug.script: add a newline between X log and lshal
    output.

 -- Brice Goglin <bgoglin@debian.org>  Mon, 13 Jul 2009 23:35:13 +0200

xorg-server (2:1.6.1.901-3) unstable; urgency=low

  [ Julien Cristau ]
  * xvfb-run: don't pass the magic cookie to xauth on the command line
    (CVE-2009-1573; closes: #526678).  Thanks, Loïc Minier!
  * xvfb-run: use mktemp to create the temporary directory.
  * Change default for ExaOptimizeMigration to false.  This option still
    causes visual corruption in some cases.  Thanks, Michel Dänzer!
  * Only include hal info for keyboards, mice, touchpads and tablets in the
    bug script.
  * In the bug script, grep dmesg for agp in addition to drm.
  * Add patch stolen from Fedora to disable the fbdev driver when it's loaded
    together with a PCI or SBUS driver, instead of calling FatalError (closes:
    #508476).
  * Add patch stolen from Fedora to try and detect the primary PCI device by
    mapping the legacy VGA bios and comparing the vendor and device ids.
    Previously if there was more than one VGA device and the config didn't
    specify BusIDs, the server would just fail to start, so this hack should
    improve things.
  * Update configure options:
    + use --enable-xvfb instead of --enable-vfb
    + drop --disable-builtin-fonts, --enable-xtrap, --disable-kdrive-vesa,
      --disable-lbx, --disable-xprint, --disable-xorgconfig, --disable-xorgcfg
      which don't exist anymore
    + use --disable-config-hal and --disable-dri on hurd-i386
    + reorder options to match configure.ac, and use explicit
      --enable/--disable instead of using the defaults / autodetection
  * Don't recommend xfonts-base.  libXfont provides builtin versions of the
    fixed and cursor fonts, which are the only required ones.  Keep xfonts-*
    packages in Suggests for xserver-xorg-core.
  * Bump Standards-Version to 3.8.2 now that we have README.source.
  * Drop Build-Conflicts on xlibs-static-dev; it's only in oldstable at this
    point.
  * Pull from upstream server-1.6-branch as of June 23rd (commit dbac41b).
  * Bump build-dep on dri2proto to 2.1 for new protocol.
  * Bump build-dep on libselinux1-dev to 2.0.80 for avc_netlink_acquire_fd.

  [ David Nusinow ]
  * Add README.source

 -- Julien Cristau <jcristau@debian.org>  Tue, 23 Jun 2009 19:52:10 +0200

xorg-server (2:1.6.1.901-2ubuntu2) karmic; urgency=low

  * Add xserver-1.5.0-bad-fbdev-thats-mine.patch - If no xorg.conf is
    specified, framebuffer device can erroneously grab the PCI.  Make
    it fail instead in this case.
    (LP: #383407)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 24 Jun 2009 15:24:44 -0700

xorg-server (2:1.6.1.901-2ubuntu1) karmic; urgency=low

  * Merge from Debian unstable.
  * Dropped patches:
    - obsolete:
      100_xserver_exa_force_greedy.patch
      107_fedora_dont_backfill_bg_none.patch
    - upstream:
      163_thinko_in_xf86targetpreferred.patch
      171_xkb_geometry_copying.patch
      173_edid_quirk_philips_lcd.patch
      175_set_pointer_screen_in_xtestfakeinput.patch
      176_quell_warning_exacopydirty.patch
    - included by Debian: 999_default_modedebug_on.patch
  * Disable 143_default_to_vesa.patch for now, breaks autoconfiguration
    when the pci-ids directory exists but has no match. (LP: #379504)
  * Disable SELinux support for now, because libaudit-dev needs to be
    moved to main first.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Sun, 24 May 2009 00:32:37 +0300

xorg-server (2:1.6.1.901-2) unstable; urgency=low

  * Merge from upstream server-1.6-branch (commit a9f85dce).
  * Fix FTBFS on kfreebsd (closes: #525475).  Thanks, Petr Salinger!

 -- Julien Cristau <jcristau@debian.org>  Thu, 14 May 2009 17:37:40 +0200

xorg-server (2:1.6.1.901-1) experimental; urgency=low

  * New upstream development release
    + fixes crash in CheckMotion with xinerama (closes: #524853)
    + Refresh 20_hurd-i386.diff

  [ Brice Goglin ]
  * Add 20_hurd-i386.diff to fix FTBFS on hurd-i386,
    thanks Samuel Thibault! (closes: #523970)

  [ David Nusinow ]
  * Have the reportbug script append lshal and drm info.
    The drm info comes from grepping dmesg output.

  [ Julien Cristau ]
  * Properly initialize libgcrypt in the libgcrypt patch (closes: #524822).
    Thanks, Sven Joachim!

 -- David Nusinow <dnusinow@debian.org>  Mon, 11 May 2009 21:50:37 -0400

xorg-server (2:1.6.1-1) unstable; urgency=low

  [ Julien Cristau ]
  * Disable dri2 on hurd-i386.  Thanks, Samuel Thibault!

  [ Brice Goglin ]
  * New upstream release.

 -- Brice Goglin <bgoglin@debian.org>  Wed, 15 Apr 2009 13:30:51 +0200

xorg-server (2:1.6.0-1) unstable; urgency=low

  [ David Nusinow ]
  * Add 0001-xorg.conf-5-refer-to-mousedrv-4-.-Debian-394058.patch to
    refer to correct (semi-obsolete) mouse driver manpage.
    closes: #394058

  [ Julien Cristau ]
  * New upstream release.
  * 0001-mi-force-the-paired-kbd-device-before-CopyKeyClass.patch: remove,
    included upstream.
  * Turn on ModeDebug by default.
  * Use libgcrypt for SHA1 instead of OpenSSL's libcrypto.
  * Build the xselinux extension on Linux architectures.
  * Remove build-dependencies on x11proto-evie-dev, x11proto-trap-dev,
    x11proto-xf86misc-dev; the corresponding extensions are removed.
  * Remove build-dependencies on x11proto-print-dev, libfreetype6-dev and
    xfonts-utils since we don't build Xprt anymore.
  * Fix lintian warnings about xserver-xorg-core.NEWS formatting.
  * Move -dbg package to new section debug, add ${misc:Depends} where missing.
  * Remove unused 06_use_proc_instead_of_sysfs_for_pci_domains.diff, obsoleted
    by pci-rework.
  * Merge changelog entries 2:1.4.2-9 to 2:1.4.2-11.
  * Upload to unstable.

 -- Julien Cristau <jcristau@debian.org>  Thu, 09 Apr 2009 00:36:40 +0100

xorg-server (2:1.6.0-0ubuntu15) karmic; urgency=low

  * Re-enable 999_default_modedebug_on.patch to provide debug info in
    Xorg.0.log for development series.

 -- Bryce Harrington <bryce@ubuntu.com>  Sun, 10 May 2009 22:35:02 -0700

xorg-server (2:1.6.0-0ubuntu14) jaunty; urgency=low

  * Add 177_animated_cursor_change_master.patch: Fixes crash when using
    animated cursors.
    (LP: #358009)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 08 Apr 2009 18:52:56 -0700

xorg-server (2:1.6.0-0ubuntu13) jaunty; urgency=low

  * Add 176_quell_warning_exacopydirty.patch: Quells innocuous but scary
    sounding "exaCopyDirty: Pending damage region empty!" warning, as it
    can lead to false-positives with bug reporters.

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 08 Apr 2009 14:49:36 -0700

xorg-server (2:1.6.0-0ubuntu12) jaunty; urgency=low

  * local/xvfb-run: Revert change from 2:1.6.0-0ubuntu9; prevents running
    multiple times.
    (LP: #357338.  Reopen 348052 rejecting patch)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 07 Apr 2009 15:21:32 -0700

xorg-server (2:1.6.0-0ubuntu11) jaunty; urgency=low

  * Add 175_set_pointer_screen_in_xtestfakeinput.patch: Fixes issue when
    using Vino, mouse cursor can get stuck in the upper left corner of the
    screen.  The POINTER_SCREEN flag must be set explicitly for XTest core events to avoid
    out-of-range events when the lastSlave was an SD with an explicit axis range.
    Device events sent through XTest don't need this flag, they are expected to be
    in the valuator range of the device anyway.
    (LP: #337926)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 06 Apr 2009 17:22:35 -0700

xorg-server (2:1.6.0-0ubuntu10) jaunty; urgency=low

  * debian/patches/174_set_bg_pixmap_of_cow_to_none.patch:
    - Set bg pixmap of composite overlay window to None.
      Thanks to Havoc Pennington for the patch.
      (LP: #356254).

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 06 Apr 2009 15:06:14 +0200

xorg-server (2:1.6.0-0ubuntu9) jaunty; urgency=low

  * local/xvfb-run: Fixes race condition with concurrent invocations
    (LP: #348052)
  * local/xvfb-run, xvfb-run.1: Add correct docs about error codes
    (LP: #328205)
  * local/xserver-xephyr.1, rules, xserver-xephyr.install: Add man page
    for xephyr
    (LP: #134906)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 01 Apr 2009 20:37:22 -0700

xorg-server (2:1.6.0-0ubuntu8) jaunty; urgency=low

  * Add 173_edid_quirk_philips_lcd.patch :
    Quirk for wrongly reported screen dimensions.
    Fixes "huge fonts" issues.
    (LP: #353074)

 -- Tormod Volden <debian.tormod@gmail.com>  Wed, 01 Apr 2009 19:47:13 +0200

xorg-server (2:1.6.0-0ubuntu7) jaunty; urgency=low

  * Add 172_cwgetbackingpicture_nullptr_check.patch:
    - cwGetBackingPicture can segfault when minimizing/maximizing firefox with
      a flash video playing.  This appears to be a race condition in which the
      backing picture's data is not always fully defined.
      (LP: #319402)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 30 Mar 2009 22:20:17 -0700

xorg-server (2:1.6.0-0ubuntu6) jaunty; urgency=low

  * Add 171_xkb_geometry_copying.patch:
    - Fixes crash when plugging/unplugging USB devices due to incorrect
      copying of XKB geometry base_color and label_color.  Patch
      cherrypicked from upstream.
      (LP: #333222, #321946)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 27 Mar 2009 19:58:33 -0700

xorg-server (2:1.6.0-0ubuntu5) jaunty; urgency=low

  [Tormod Volden]
  * Disable 160_log_timestamping.patch before the beta, this was only used
    for testing, and the patch also has a serious stack corruption bug.
    (LP: #328035)

  [Bryce Harrington]
  * Disable 999_default_modedebug_on.patch before the beta, this was used
    only for testing.
  * Add 169_mipointer_nullptr_checks.patch:
    - MIPOINTER() can return NULL in some circumstances, so always check
      its return value before dereferencing.
    - Fixes crash with keyrepeat on non-primary screen on -nvidia when
      using Xinerama (and probably other serious mipointer-related crashes)
      (LP: #324465)
  * Add 170_primary_pci_video_device.patch:
    - Patch from redhat
    - Fixes failure when multiple video cards are present.  Xserver currently
      exits with an error "(EE) No device detected" in such cases.
      (LP: #267241)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 24 Mar 2009 09:57:17 -0700

xorg-server (2:1.6.0-0ubuntu4) jaunty; urgency=low

  * Add 168_glibc_trace_to_stderr.patch:
    - Catch glibc internal abort traces on stderr instead of to the
      controlling terminal (LP: #345748).

 -- Kees Cook <kees@ubuntu.com>  Thu, 19 Mar 2009 22:39:33 -0700

xorg-server (2:1.6.0-0ubuntu3) jaunty; urgency=low

  * Add 165_man_xorg_conf_no_device_ident.patch:
    - Device identifier no longer necessary in Screen section of
      xorg.conf.  Update man page accordingly.
      (LP: #261577)
  * Add 166_nullptr_xinerama_keyrepeat.patch:
    - Avoids null pointer dereference when holding down keys on
      non-primary screen when using TwinView / Xinerama on -nvidia.
      (LP: #324465)
  * Add 167_nullptr_xisbread.patch:
    - Avoids null pointer dereference in XisbRead to prevent a (difficult
      to reproduce) crash during or after a resume from RAM.
      (LP: #324368)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 19 Mar 2009 00:17:40 -0700

xorg-server (2:1.6.0-0ubuntu2) jaunty; urgency=low

  * Add 163_thinko_in_xf86targetpreferred.patch:
    - For monitors that do not define a "preferred" mode, if the monitor
      is not connected to the first output, X wouldn't pick up the mode
      correctly, resulting in a "No modes" error in Xorg.0.log and dropping
      user to failsafe-X mode.
      (LP: #335214)
  * Add 164_trap-aspect-ratios.patch:
    - Some monitors fib in the EDID they provide, giving their physical
      dimensions in the global block, and their aspect ratio(!) in
      the detailed timings.  This totally messes up DPI calculations
      resulting in huge fonts.
      (LP: #320930)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 18 Mar 2009 20:47:12 -0700

xorg-server (2:1.6.0-0ubuntu1) jaunty; urgency=low

  [ Bryce Harrington ]
  * New upstream release
    - Fixes segfault during X startup for drivers with RANDR < 1.2
      (LP: #319210)
    - Fixes EDID for monitors that incorrectly report aspect ratio instead
      of resolution (LP: #311485)
    - Fixes issue where X stops responding to mouse clicks after some time
      if using Xinerama. (LP: #296167)
  * Add 162_null_crtc_in_rotation.patch: Fixes crash when two displays on
    separate cards are attached.  X doesn't work with multiple cards yet,
    but crashing is not an appropriate way to handle such a situation.
    (LP: #139990)

  [ Timo Aaltonen ]
  * 159_xinerama_focus.patch,
    161_force_paired_kbd_device.patch:
    - Dropped, applied upstream

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 06 Mar 2009 14:44:31 -0800

xorg-server (2:1.5.99.902-1) experimental; urgency=low

  * New upstream release candidate.
  * xserver-xorg-core.install: there are no more font modules.
  * 0001-mi-force-the-paired-kbd-device-before-CopyKeyClass.patch: new patch,
    fixes a crash with some multimedia keyboards (closes: #513384).

 -- Julien Cristau <jcristau@debian.org>  Sat, 31 Jan 2009 19:32:31 +0100

xorg-server (2:1.5.99.902-0ubuntu7) jaunty; urgency=low

  * Add 161_force_paired_kbd_device.patch: Fixes issue where a multimedia
    keyboard (or keyboard-like device) sends its multimedia key events
    through the mouse device file.  In this case, pair the device with the
    master before processing the events.  Patch cherrypicked from upstream.
    (LP: #318261)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 17 Feb 2009 17:20:51 -0800

xorg-server (2:1.5.99.902-0ubuntu6) jaunty; urgency=low

  * Add 999_default_modedebug_on.patch.  Defaults ModeDebug to on.
    Upstream requests that users include this option when forwarding bugs
    upstream, thus it should be carried at least during development and
    reverted by -beta.  Performance won't be impacted, and boot time will
    be slowed only a negligible amount, as it merely adds a few additional
    prints.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 10 Feb 2009 14:06:38 -0800

xorg-server (2:1.5.99.902-0ubuntu5) jaunty; urgency=low

  * Revert 158_raise_maxclients.patch.  Breaks -nvidia.  Binary drivers FTL.
    (LP: #326344)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 09 Feb 2009 13:51:04 -0800

xorg-server (2:1.5.99.902-0ubuntu4) jaunty; urgency=low

  * 160_log_timestamping.patch: Only add timestamp on tagged messages
    (LP: #285787)

 -- Tormod Volden <debian.tormod@gmail.com>  Fri, 06 Feb 2009 23:33:11 +0100

xorg-server (2:1.5.99.902-0ubuntu3) jaunty; urgency=low

  * Add 160_log_timestamping.patch: Show timestamps in Xorg.*.log
    files.
    (LP: #285787)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 06 Feb 2009 06:28:48 -0800

xorg-server (2:1.5.99.902-0ubuntu2) jaunty; urgency=low

  [Bryce Harrington]
  * Add 157_check_null_modes.patch: Catch null pointer dereference in
    video mode selection, which can cause xserver crash when using SDL
    applications with qemu/kvm.
    (LP: #300310)
  * Add 158_raise_maxclients.patch to raise max number of clients from 256
    to 512.  Trade-off is that this reduces client resources available to
    1,048,576 total resources (which should still be ample).
    (LP: #260138)

  [Steven Harms]
  * 159_xinerama_focus.patch: Resolves xinerama focus issues
    with multiple screens
    (LP: #41301)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 04 Feb 2009 22:33:28 -0800

xorg-server (2:1.5.99.902-0ubuntu1) jaunty; urgency=low

  * New upstream release candidate.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Sat, 31 Jan 2009 11:03:52 +0200

xorg-server (2:1.5.99.901-2) experimental; urgency=low

  [ Julien Cristau ]
  * Bump libdrm-dev build-dep to help out sbuild.

  [ Timo Aaltonen ]
  * debian/rules: Disable builtin fonts (LP: #308649, closes: #512706)

 -- Julien Cristau <jcristau@debian.org>  Fri, 23 Jan 2009 21:16:14 +0100

xorg-server (2:1.5.99.901-1ubuntu1) jaunty; urgency=low

  * Merge with Debian experimental.
  * debian/rules: Include xorg-server.conf for dbus support.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Fri, 23 Jan 2009 13:53:33 +0200

xorg-server (2:1.5.99.901-1) experimental; urgency=low

  * New upstream release candidate.
    + adds autodetection of sbus devices (closes: #483942).
      Thanks, Bernhard R. Link!
    + RandR version 1.3 adds panning (closes: #509699).
    + fixes a crash with XAA and fb24_32ReformatTile (closes: #443480).
    + correctly sets RAW mode on the console when xorg.conf is absent
      (closes: #505746).

  [ Timo Aaltonen ]
  * debian/control:
    - Add x11proto-dri2-dev to build-depends.
    - Bump the x11proto-randr-dev build-dep version to 1.2.99.3. 
    - Bump the libpixman-1-dev build-dep version to 0.13.2.
    - Bump the xtrans-dev build-dep version to 1.2.2.
    - Bump the x11proto-xext-dev build-dep version to 7.0.3.
    - Bump the x11proto-input-dev build-dep version to 1.5.
    - Bump the libgl1-mesa-dev and mesa-common-dev build-dep to
      7.2+git20081209.a0d5c3cf.
    - Bump the x11proto-core build-dep to 7.0.13.
    - Add a build-dep on libxinerama-dev.
    - Conflict xserver-xorg-video-4, xserver-xorg-input-2.1.
  * debian/rules:
    - Enable dri2 again.
  * debian/patches:
    02_Disable-DRI-in-Xephyr.patch
    03_glx-init-infinite-loop.diff
    - Dropped, implemented upstream.
    13_debian_add_xkbpath_env_variable.diff
    - Disabled for now, needs to be reimplemented or dropped.
  * debian/{input,video}abiver: Bump the input (4) and videoabiver (5).
  * debian/serverminver: Bump to 2:1.5.99.901.

  [ Julien Cristau ]
  * Ditch the GLX Public License and the CID Font Code Public License from
    debian/copyright.  The CID code has been removed a while ago, and all code
    under the GLXPL has been relicensed to the SGI Free Software License B 2.0.
    This finally closes: #211765.

  [ Yves-Alexis Perez ]
  * debian/control: update deps for xserver-xorg-dev:
    - libpixman-1-dev (>= 0.13.2-1)
    - x11proto-core-dev (>= 7.0.14)
    - x11proto-input-dev (>= 1.5.0)
    - x11proto-xext-dev (>= 7.0.4)
    - x11proto-randr-dev (>= 1.2.99.3)
    - add x11proto-dri2-dev

 -- Julien Cristau <jcristau@debian.org>  Wed, 21 Jan 2009 20:59:34 +0100

xorg-server (2:1.5.99.901-0ubuntu1) jaunty; urgency=low

  [ Timo Aaltonen ]
  * debian/rules: Enable dbus-support.
  * Merge current server-1.6-branch.
  * Disable patch 107 for now, to see what kind of a performance hit
    it'll be. The problem it causes is random garbage on windows
    while apps are being loaded.
    (LP: #254468)
  * Remove patches 150, 151, 152, 154, applied upstream.

  [ Bryce Harrington ]
  * 156_exevents_copykeyclass_nullptrcheck.patch: Add several NULL pointer
    checks in CopyKeyClass to prevent SEGFAULT seen when pressing button
    on an ATI USB remote control.
    (LP: #311254)

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Sat, 17 Jan 2009 16:17:58 +0200

xorg-server (2:1.5.99.3-0ubuntu3) jaunty; urgency=low

  [Timo Aaltonen]
  * debian/rules: Disable builtin fonts (LP: #308649)

  [Bryce Harrington]
  * 135_rethrow_signals.patch:  Update for 1.6 and re-enable.
    (LP: #226668)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 16 Dec 2008 19:04:14 -0800

xorg-server (2:1.5.99.3-0ubuntu2) jaunty; urgency=low

  * Merge server-1.6-branch (LP: #308225).

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Tue, 16 Dec 2008 10:00:58 +0200

xorg-server (2:1.5.99.3-0ubuntu1) jaunty; urgency=low

  * Merge from debian experimental git branch.
  * Dropped patches:
    - 103_inputproto_1.4.3_is_fine.patch: obsolete
    - 137_add_device_property_support.patch: upstream
    - 138_look_at_all_bytes_of_dev_enabled.diff: upstream
    - 141_improved_driver_selection.patch: upstream
    - 150_no_visibility_notify_on_unredirect.patch: upstream
  * 110_fedora_no_move_damage.patch modified to use new function names.
  * Renumbered 142_psb_auto.patch to 103.
  * Add a couple of patches from the proposed queue:
    - 150_dont-update-vcp-valuators.patch
      The VCP doesn't need to update the valuators anyway since it cannot
      send XI events. Just skip that bit.
    - 151_allow-null-as-rulesfile.patch
      If no rules file is given, simply re-use the previous one. If no
      RF is given the first time this function is called, use the
      built-in default.
    - 152_let-the-ddx-decide-on-the-xkbrulesdefaults.patch
      Rather than assuming rules in the CoreKeyboardProc, init the default
      rules in InitCoreDevices, then re-use them later.
  * Add 153_make_dmx_compile.patch
    - Change xcalloc -> calloc, so that dmx compiles. Not tested if it
      also works.
  * Drop patch 136, since SwitchCoreKeyboard is gone, and patches 151/152
    basically reimplement the functionality.
  * Add 154_force-copykeyclass-for-key-events.patch, to fix fdo
    bug 19048. Without this the server default layout would always be
    used.

  [ Bryce Harrington ]
  * Patch 135 updated so that apport actually works now, but leave it
    disabled until the code is updated for 1.6.

 -- Timo Aaltonen <tjaalton@ubuntu.com>  Mon, 15 Dec 2008 11:34:53 +0200


xorg-server (2:1.5.3-1ubuntu1) jaunty; urgency=low

  * Merge from debian-experimental, remaining changes:
   + debian/control:
    - x11proto-input-dev, libxi-dev build-deps bumped because of
      input properties.
    - Conflict with xserver-xorg-video-psb << 0.15.0-0ubuntu1~804um5
      as these versions didn't have an ABI provide.
    - Breaks old synaptics, evdev which didn't have properties.
   + debian/patches:
    - 100_xserver_exa_force_greedy.patch
      Provide a mechanism for drivers to force greedy mode on.
    - 101_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 102_ubuntu_sharevts_load_cpu.patch
      Close console fd only when using --sharevts.
    - 103_inputproto_1.4.3_is_fine.patch:
      Don't require inputproto 1.4.4 in configure.ac.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      would otherwise force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 135_rethrow_signals.patch
      Currently Xorg "eats" its crash signals, issuing an error message
      that it caught the signal and then aborts.  This patch raises the
      signal it caught, so that subsequent crash handlers (i.e. apport)
      can also catch and act on it.
    - 136_fedora_force_switchcorekeyboard_for_evdev.patch
      Allow clients to set the layout.
    - 137_add_device_property_support.patch
      Add support for input-device properties (XI 1.5).
    - 138_look_at_all_bytes_of_dev_enabled.diff:  dev->enabled has type
      Bool, which is typedef'd to int, but is used in comparisons with
      CARD8 data, which gives incorrect logic on big endian systems,
      causing failure to initialize keyboard and mouse.
    - 140_quell_acpid_errmsgs.patch: Don't fill the server log with errors
      from not being able to connect to acpid.
    - 141_improved_driver_selection.patch
      Allow returning multiple drivers to try for a given PCI id.
      Also includes support for fallback drivers, but only when
      not using an xorg.conf.
    - 142_psb_auto.patch
      Autoload vesa for the psb hardware, psb being broken currently.
    - 143_default_to_vesa.patch:  If no matching driver is found in the
      .ids files, set "vesa" as a fallback default, otherwise a driver
      may be selected regardless of whether it actually provides support
      for the chipset by videoPtrToDriverList() based on its vendor id.
    - 150_no_visibility_notify_on_unredirect.patch
      Do not sent VisibilityNotify events when MapUnmapEvents
      are disabled
   + debian/local/xvfb-run: disable the Composite-extension for xvfb.
   + debian/serverminver: Bump the serverminver because of the newer
     properties API.
   + debian/rules:
     Add --enable-xcsecurity --enable-appgroup. The SECURITY module was
     disabled by default as part of the SELinux merge. However, we need
     the security module for xauth on Kubuntu, else ubiquity fails.
     (LP 247537)
  * Changes done:
    - debian/control: xfvb doesn't need to Depend on xauth, xfonts-base
      anymore, Recommends are pulled in by default now.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 26 Nov 2008 13:42:11 +0200

xorg-server (2:1.5.3-1) experimental; urgency=low

  [ Loic Minier ]
  * Shut up rmdir error when trying to remove dirs; this might confuse
    debconf.

  [ Julien Cristau ]
  * New upstream release.
  * Fix infinite loop on server reset when swrast_dri.so is missing.  Only
    push swrast on the glx provider stack on first generation, so we don't
    turn the stack into a circular list (closes: #500287).
  * Enable the record extension (closes: #504303).
  * Merge changes from 2:1.4.2-8.

 -- Julien Cristau <jcristau@debian.org>  Tue, 11 Nov 2008 23:17:14 +0100

xorg-server (2:1.5.2-2ubuntu3) intrepid; urgency=low

  * 138_look_at_all_bytes_of_dev_enabled.diff:  dev->enabled has type
    Bool, which is typedef'd to int, but is used in comparisons with
    CARD8 data, which gives incorrect logic on big endian systems,
    causing failure to initialize keyboard and mouse.
    (LP: #281610)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 23 Oct 2008 07:31:47 -0700

xorg-server (2:1.5.2-2ubuntu2) intrepid; urgency=low

   * 143_default_to_vesa.patch:  If no matching driver is found in the
     .ids files, set "vesa" as a fallback default, otherwise a driver
     may be selected regardless of whether it actually provides support
     for the chipset by videoPtrToDriverList() based on its vendor id.
     (LP: #261977)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 23 Oct 2008 06:21:18 -0700

xorg-server (2:1.5.2-2ubuntu1) intrepid; urgency=low

  * debian/patches/150_no_visibility_notify_on_unredirect.patch
    - do not sent VisibilityNotify events when MapUnmapEvents
      are disabled (LP: #278112)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Sat, 18 Oct 2008 00:05:30 +0200

xorg-server (2:1.5.2-1ubuntu4) intrepid; urgency=low

  * Update patch 142_psb_auto to only try vesa, not even psb, as this requires
    the psb driver to be loadable, and it's not available anymore (and broken
    anyway).

 -- Loic Minier <lool@dooz.org>  Wed, 15 Oct 2008 18:14:28 +0200

xorg-server (2:1.5.2-1ubuntu3) intrepid; urgency=low

  * Shut up rmdir error when trying to remove dirs; this might confuse
    debconf.

 -- Loic Minier <lool@dooz.org>  Wed, 15 Oct 2008 17:57:13 +0200

xorg-server (2:1.5.2-1ubuntu2) intrepid; urgency=low

  * Update patch 142_psb_auto to also try psb and vesa for 0x8109.
  * Apply and drop patch 123_no_composite_for_xvfb_run which was changing
    files below debian/ (xvfb-run, to disable the Composite extension by
    default).

 -- Loic Minier <lool@dooz.org>  Wed, 15 Oct 2008 15:27:23 +0200

xorg-server (2:1.5.2-1ubuntu1) intrepid; urgency=low

  * Merge from debian-experimental.
  * Update patch 142_psb_auto to try vesa if psb fails; thanks Oliver Grawert.
  * Refresh patch 100_xserver_exa_force_greedy to apply cleanly.
  * Let xserver-xorg-core conflict with xserver-xorg-video-psb
    << 0.15.0-0ubuntu1~804um5 as these versions didn't have an ABI provide.

 -- Loic Minier <lool@dooz.org>  Tue, 14 Oct 2008 23:03:06 +0200

xorg-server (2:1.5.2-1) experimental; urgency=low

  * New upstream bugfix release.
  * debian/rules: define PCI_TXT_IDS_DIR to unbreak the pci id matching using
    plain text files provided by drivers.
  * Don't pass --with-serverconfig-path to configure, we only used to override
    it for Xprint.
  * Re-introduce the xserver-common package, containing
    /usr/lib/xorg/protocol.txt and the Xserver(1) manpage for now.
  * debian/rules: Use filter instead of findstring for noopt in
    DEB_BUILD_OPTIONS.
  * Remove obsolete conffile /etc/X11/xserver/SecurityPolicy on upgrades.
  * Merge changes from 2:1.4.2-7.

 -- Julien Cristau <jcristau@debian.org>  Sat, 11 Oct 2008 20:20:28 +0200

xorg-server (2:1.5.1-1ubuntu3) intrepid; urgency=low

  * Pull upstream changes from server-1.5-branch including b595b65e:
    - Fix GKVE with key_code > 255 (LP: #274203)
    - DGA: Fix ProcXF86DGASetViewPort for missing support in driver.
      Fixes a segfault when trying to activate a DGA mode without
      checking whether DGA modesetting is at all possible.
    - Check nextEnabledOutput()'s return in bestModeForAspect()
      In case no enabled outputs, we will reference wrong index of
      output array.
    - int10: Fix a nasty memory leak.
    - int10: Don't warn when scanning for devices we don't have.
      Some BIOSes (hi XGI!) will attempt to enumerate the PCI bus by
      asking for the config space of every possible device number.
      This despite perfectly functional BIOS methods to enumerate the
      bus exactly.
    - int10: Remove useless check.
      If you have more than one PCI device with the same d/b/d/f, you're
      already in trouble.
    - http://bugs.freedesktop.org/show_bug.cgi?id=14373
      xkb: squash canonical types into explicit ones on core reconstruction.
      xkb: fix core keyboard map generation.
    - xkb: fix use of uninitialized variable.
    - Remove usage of mfbChangeWindowAttributes missed in e4d11e58c...
    - Only build dri2 when DRI2 is enabled.
  * Merge patches 138 and 139 into 137, and update the properties API to
    match the current version in master (final API for XI 1.5).
    (LP: #274728)
  * Bump the build-dep on x11proto-input-dev and libxi-dev.
  * Bump the serverminver because of newer properties API.
  * Add Breaks against current synaptics and evdev, since they use the old
    API and need to be updated with the server.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 10 Oct 2008 11:16:56 +0300

xorg-server (2:1.5.1-1ubuntu2) intrepid; urgency=low

  * Merge with Debian experimental:
    - debian/rules: define PCI_TXT_IDS_DIR to unbreak the pci id matching
      using plain text files provided by drivers. (LP: #261977)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 26 Sep 2008 12:05:12 +0300

xorg-server (2:1.5.1-1ubuntu1) intrepid; urgency=low

  * Merge with Debian experimental. (LP: #269388)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 24 Sep 2008 19:33:34 +0300

xorg-server (2:1.5.1-1) experimental; urgency=low

  * New upstream bugfix release.
  * 02_Disable-DRI-in-Xephyr.patch: don't use DRI in Xephyr, as it doesn't
    work correctly.
  * Merge changelog from 2:1.4.2-6 (all changes are upstream now).

 -- Julien Cristau <jcristau@debian.org>  Wed, 24 Sep 2008 17:49:18 +0200

xorg-server (2:1.5.0-1ubuntu1) intrepid; urgency=low

  * Merge with Debian experimental.
  * 141_improved_driver_selection.patch
    - Allow returning multiple drivers to try for a given PCI id.
      Also includes support for fallback drivers, but only when
      not using an xorg.conf.
  * 142_psb_auto.patch
    - Renamed, refreshed.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 09 Sep 2008 11:44:13 +0300

xorg-server (2:1.5.0-1) experimental; urgency=low

  * New upstream release.
  * Kill patch 50_Make-RandRQueryVersion-return-1.1-for-swapped-client.patch,
    1.2 requests are properly swapped now.
  * Bump videoabiver to 4 to match ABI_VIDEODRV_VERSION.  Yes, that means
    rebuilding video drivers; sorry about that.

 -- Julien Cristau <jcristau@debian.org>  Thu, 04 Sep 2008 02:05:47 +0200

xorg-server (2:1.4.99.906-2ubuntu5) intrepid; urgency=low

  * Bump the serverminver because of input properties.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 03 Sep 2008 16:03:28 +0300

xorg-server (2:1.4.99.906-2ubuntu4) intrepid; urgency=low

  [ Bryce Harrington ]
  * 140_quell_acpid_errmsgs.patch: Don't fill the server log with errors
    from not being able to connect to acpid. (LP: #247195)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 03 Sep 2008 10:48:24 +0300

xorg-server (2:1.4.99.906-2ubuntu3) intrepid; urgency=low

  [ Bryce Harrington ]
  * 135_rethrow_signals.patch:  Update to make it catch and throw a
    wider variety of signals, and do a clean shutdown of the X server
    (code borrowed from FatalError()).

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 01 Sep 2008 13:19:46 -0700

xorg-server (2:1.4.99.906-2ubuntu2) intrepid; urgency=low

  * 103_inputproto_1.4.3_is_fine.patch:
    - Don't require inputproto 1.4.4 in configure.ac..

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 28 Aug 2008 13:24:05 +0300

xorg-server (2:1.4.99.906-2ubuntu1) intrepid; urgency=low

  * Merge with Debian experimental.
  * Dropped patches, upstream:
    130_fedora_fix_procxkbsetxyz_to_work_on_all.patch
    131_remove_open-coded_strcasestr.patch
    132_add_parsing_for_xkb.options.patch
    133_support_strlist_for_xkboptions.patch
    134_protect_against_out_of_bounds.patch
  * control: Fix build-dep on inputproto to >= 1.4.3-2ubuntu2 for
    DeviceControlChanged.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 28 Aug 2008 12:39:33 +0300

xorg-server (2:1.4.99.906-2) experimental; urgency=low

  * Pull from server-1.5-branch as of Aug 27th
    + input devices from xorg.conf aren't ignored if there is no ServerLayout
      option (closes: #492140)
  * Bump build-dep on inputproto to >= 1.4.4 for DeviceControlChanged.
  * Merge in changes from 2:1.4.2-3 to 2:1.4.2-5.

 -- Julien Cristau <jcristau@debian.org>  Thu, 28 Aug 2008 00:33:02 +0200

xorg-server (2:1.4.99.906-1ubuntu4) intrepid; urgency=low

  * 137_add_device_property_support.patch,
    138_xi_expose_enable_disabledevice.patch,
    139_xi_protect_against_null_handlers.patch:
    - Add support for input-device properties.
  * debian/control: Bump the build-depends on x11proto-input-dev
    and libxi-dev.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 22 Aug 2008 09:00:14 +0300

xorg-server (2:1.4.99.906-1ubuntu3) intrepid; urgency=low

  * 130_fedora_fix_procxkbsetxyz_to_work_on_all.patch
    136_fedora_force_switchcorekeyboard_for_evdev.patch
    - Allow clients to set the layout.
  * Drop 130_fedora_call_switchcorekeyboard.patch, obsoleted.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 06 Aug 2008 13:30:28 +0300

xorg-server (2:1.4.99.906-1ubuntu2) intrepid; urgency=low

  * Add 135_rethrow_signals.patch
    - Currently Xorg "eats" its crash signals, issuing an error message
      that it caught the signal and then aborts.  This patch raises the
      signal it caught, so that subsequent crash handlers (i.e. apport)
      can also catch and act on it.

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 05 Aug 2008 16:20:46 -0700

xorg-server (2:1.4.99.906-1ubuntu1) intrepid; urgency=low

  * Merge with debian experimental, 1.5RC6 (LP: #247120, #253021)
  * Drop 120_fedora_xserver-xaa-evict-pixmaps.patch, because offscreen
    pixmaps are already disabled by default.
  * Drop 124_fix_randr_no_crtc.patch, fixed upstream.
  * Add 130_fedora_call_switchcorekeyboard.patch, a hack to fix fd.o bug
    #16364. Breaks if the first hotplugged keyboard is not the wanted
    keyboard.
  * Patches from upstream master:
    131_remove_open-coded_strcasestr.patch
    - pre-requisite for the rest
    132_add_parsing_for_xkb.options.patch
    - parsing xkb.options didn't work (fd.o #16874)
    133_support_strlist_for_xkboptions.patch
    - allow using a list for xkb.options like before.
    134_protect_against_out_of_bounds.patch
    - protect against potential out-of-bounds indexing.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 05 Aug 2008 01:49:42 +0300

xorg-server (2:1.4.99.906-1) experimental; urgency=low

  * debian/rules: drop useless handling of nostrip in DEB_BUILD_OPTIONS (this
    is taken care of by dh_strip); make the rules files and xsfbs.mk
    parallel-safe, and enable parallel=n using example code from Debian
    Policy.
  * debian/rules: put the source package name and version in builderstring
    instead of osvendor, add builder email as well; don't explicitly set
    osname, configure sets it to $(uname -srm) by default.
  * New upstream release candidate.
    - fixes 64-bit Xephyr (closes: #491569)
    - work around the DIX losing physical monitor dimensions for randr 1.1
      drivers, in particular nvidia (closes: #488987)
    - make sure RANDR reports refresh as 0 if pixel clock is 0 (closes:
      #490258)
    - doesn't try to load dri2 when it's not built (closes: #491651)
  * Switch to running autoreconf at build time, and build-depend on automake,
    libtool and xutils-dev.
  * Reformat the SGI Free Software License B, to shut up over 1000 lintian
    warnings.

 -- Julien Cristau <jcristau@debian.org>  Sun, 27 Jul 2008 18:30:45 +0200

xorg-server (2:1.4.99.905-0ubuntu5) intrepid; urgency=low

  * debian/rules:
    Added --enable-record.  By default, xorg-server does not build the
    RECORD extension.  Added the record module (for Xnee and other purposes).

 -- Chris Nasho <chris.nasho@sympatico.ca>  Thu, 31 Jul 2008 17:26:00 -0400

xorg-server (2:1.4.99.905-0ubuntu4) intrepid; urgency=low

  * debian/rules:
    Add --enable-xcsecurity --enable-appgroup.  The SECURITY module was
    disabled by default in commit 86b2e59bfb79bd042a13c35fbb4ccecec576f629,
    as part of the SELinux merge.  However, we need the security module
    for xauth on Kubuntu, else ubiquity fails.  (Ref. LP 247537)

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 16 Jul 2008 06:01:45 -0700

xorg-server (2:1.4.99.905-0ubuntu3) intrepid; urgency=low

   * patches/124_fix_randr_no_crtc.patch:
     + In certain circumstances, xrandr multiscreen initialization fails
       to associate crtcs with monitors, resulting in startup failures
       in some GDK-based applications when using -vesa.  This occurs
       because mode-Clock, mode->HTotal, and mode->VTotal are all 0.
       (LP: #246585)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 15 Jul 2008 07:01:13 -0700

xorg-server (2:1.4.99.905-0ubuntu2) intrepid; urgency=low

  * Merge with debian git, new changes:
    - Build with --enable-glx-tls, we build mesa with TLS support
      (otherwise swrast_dri.so might fail to load due to unresolved
      symbols).
    - Make the servers recommend libgl1-mesa-dri (>= 7.1~rc1).  Without
      this package, the GLX extension fails to initialise (and takes the
      server down) due to missing swrast_dri.so.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Mon, 07 Jul 2008 11:44:39 +0300

xorg-server (2:1.4.99.905-0ubuntu1) intrepid; urgency=low

  * Merge with Debian experimental, remaining changes:
  * debian/control:
    - Change maintainer address.
    - xvfb Depends on xauth, xfonts-base.
  * debian/patches:
    - 100_xserver_exa_force_greedy.patch
      Provide a mechanism for drivers to force greedy mode on.
    - 101_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 102_ubuntu_sharevts_load_cpu.patch
      Close console fd only when using --sharevts.
    - 104_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running without a
      Device definition.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      would otherwise force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 120_fedora_xserver-xaa-evict-pixmaps.patch
      A hack to evict XAA pixmaps and disable the pixmap cache when the first
      texture is bound.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
  * Cleaned up patches:
    - upstream, either directly or otherwise implemented:
      103_fedora_openchrome.patch, 105_reduce_wakeups_from_smart_scheduler.diff
      108_fedora_honor_displaysize.patch, 109_glx_fail_if_no_texture_bound.diff
      144_fedora_xserver-1.3.0-xnest-exposures.patch,
      146_X86EMU-added-blacklist-for-I-O-port-in-0-0xFF-range.patch,
      147_X86EMU-pass-the-correct-bus-dev-fn-tag-to-pci-emula.patch,
      148_dix_touchscreen_fixes.diff,
      149_add_quirks_for_physical_screen_size_issues.patch,
      150_edid_quirk_lp154w01.patch, 151_x86emu_handle_cpuid.patch,
      153_exa_skip_empty_glyphs.diff, 154_fix_rotation_for_multimon.diff,
      155_exa_fix_off-by-one.diff, 156_resize_composite_overlay.diff,
      157_fix_exa_pixmap_width.diff, 158_xkb_wrapping.diff,
      159_xkb_default_to_null.diff, 160_default_to_intel.diff,
      161_fix_big_endian_cursor.diff, 162_cve-2007-6429.diff,
      163_fix_untrusted_access.diff, 164_fix_context_sharing.diff,
      165_fedora_xserver-1.5.0-xaa-option-inversion.patch,
      166_fix_lpl_monitors.diff, 167_xf86AutoConfig_geode_addition.diff,
      168_closedir.patch,
      170_xorg-xserver-1.4-cve-2008-1377.diff,
      171_xorg-xserver-1.4-cve-2008-1379.diff,
      172_xorg-xserver-1.4-cve-2008-2360.diff,
      173_xorg-xserver-1.4-cve-2008-2361.diff,
      174_xorg-xserver-1.4-cve-2008-2362.diff
    - obsolete:
      101_fedora-apm-typedefs.patch
      104_fedora_init_origins_fix.patch
      142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      169_xf86AutoConfig_choose_default_driver_if_no_pci.patch
    - unnecessary:
      106_ubuntu_fpic_libxf86config.patch (the lib is not shipped)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 04 Jul 2008 13:39:34 +0300

xorg-server (2:1.4.99.905-1) experimental; urgency=low

  [ Julien Cristau ]
  * New upstream release candidate
    - fixes FTBFS on alpha (closes: #472205); won't work, though, because
      of #485528
    - fixes FTBFS on GNU/kFreeBSD (closes: #482550)
  * 001_ubuntu_add_extra_modelines_from_xorg.patch: remove, replace with
    001_fedora_extramodes.patch stolen from fedora 9 cvs, rev 1.8.
  * xvfb: recommend xauth instead of xbase-clients.
  * xserver-xfbdev: recommend xfonts-base.
  * debian/rules: drop our special handling for stripping modules, which I
    think dates back to the days of the custom module loader.
  * debian/rules: drop some remaining xprintisms.
  * bump serverminver to 2:1.4.99.905.
  * Stop build-depending on mesa-swx11-source (mesa 7.1 will build the
    software driver itself), and don't pass --with-mesa-source to configure.
  * Build with --enable-glx-tls, we build mesa with TLS support (otherwise
    swrast_dri.so might fail to load due to unresolved symbols).
  * Make the servers recommend libgl1-mesa-dri (>= 7.1~rc1).  Without this
    package, the GLX extension fails to initialise (and takes the server down)
    due to missing swrast_dri.so.

  [ Timo Aaltonen ]
  * Re-enable dri & glx.
  * Add a build-dep on mesa-common-dev (>= 7.1~rc1) and bump the desired
    version of libgl1-mesa-dev respectively.
  * Bump the libdrm-dev build-dep version to 2.3.1.

 -- Julien Cristau <jcristau@debian.org>  Sun, 13 Jul 2008 23:33:05 +0200

xorg-server (2:1.4.99.902-1) experimental; urgency=low

  * Add postrm script for xserver-xorg-core, to remove
    /var/log/Xorg.*.log{,.old} on purge (closes: #343384).
  * Use dh_* -s instead of -a in binary-arch, to fix FTBFS on s390 (which
    doesn't build xserver-xfbdev).
  * New upstream release candidate.
    + refresh 13_debian_add_xkbpath_env_variable.diff
    + doesn't crash when there is no pci device (closes: #472823)
    + includes a quirk for LPL monitors with broken EDID (closes: #473260)
    + XKB is now enabled in Xnest (closes: #164379)
  * Stop building Xprt, and drop related patches; it will be provided as a
    separate package.

 -- Julien Cristau <jcristau@debian.org>  Fri, 23 May 2008 00:58:45 +0200

xorg-server (2:1.4.99.901-2) experimental; urgency=low

  * xserver-xorg-dev needs to depend on libpciaccess-dev.
  * Pull from upstream server-1.5-branch as of March 21st (commit 98249dfa).
    + fixes build on ia64 (closes: #471663)
  * Add missing conflicts on xserver-xorg-input-2.

 -- Julien Cristau <jcristau@debian.org>  Fri, 21 Mar 2008 22:40:36 +0100

xorg-server (2:1.4.99.901-1) experimental; urgency=low

  [ Julien Cristau ]
  * New upstream release candidate
  * Update patches:
    + 001_ubuntu_add_extra_modelines_from_xorg.patch: remove useless
      whitespace changes
    + 02_libvgahw_gcc4_volatile_fix.diff: delete, the gcc bug this was working
      around is fixed for a long time
    + 03_auto_load_driver.diff, 04_auto_load_driver_no_conf.diff,
      05_kill_type1.diff, 07_autoconfig_screen_with_device_section.diff,
      08_better_dpms_logging.diff, 10_dont_look_in_home_for_config.diff,
      11_dont_crash_on_bad_dri_mode.diff, 14_default_screen_section.diff,
      21_glx_align_fixes.patch, 40_default_dpi_96.patch,
      41_vbe_filter_less.diff,
      42_dont_break_grab_and_focus_for_window_when_redirecting.diff,
      43_allow_override_BIOS_EDID_preferred_mode.diff,
      44_preferredmode_infinite_loop.diff,
      45_only_XF86_APM_CAPABILITY_CHANGED_for_video_change_acpi_events.diff,
      46_reduce_wakeups_from_smart_scheduler.patch,
      47_fbdevhw_magic_numbers.diff, 51_xkb-and-loathing.diff,
      93_xprint_fonts_fix: remove, applied upstream
    + 06_use_proc_instead_of_sysfs_for_pci_domains.diff: disable for now,
      shouldn't be needed with pciaccess
    + 13_debian_add_xkbpath_env_variable.diff: refresh
    + 94_xprint_XSERVER_LIBS: disable, should be fixed upstream
  * Disable glx, dri and dri2 for now.
  * Re-enable dmx, build the xdmx and xdmx-tools packages.
  * Add build-deps on libpciaccess-dev and libssl-dev for Xorg, bump build-dep
    on libpixman-1-dev to >= 0.9.5.
  * Add build-dep on libxv-dev for Xephyr.
  * Drop XS- prefix from Vcs-* debian/control fields.
  * Bump videoabiver to 2.9, inputabiver to 2.1, serverminver to 2:1.4.99.901.
  * Drop obsolete --with-rgb-path configure option.
  * /etc/X11/xserver/SecurityPolicy is gone, don't install it.
  * Don't build-dep on "foo (>= bar-1)", to fix lintian warnings.

  [ Drew Parsons ]
  * Remove 94_xprint_XSERVER_LIBS (not needed in xserver 1.5).

  [ Brice Goglin ]
  * Build the Xfbdev server for real now, in new package xserver-xfbdev,
    closes: #439764.

 -- Julien Cristau <jcristau@debian.org>  Fri, 14 Mar 2008 13:46:48 +0100

xorg-server (2:1.4.2-11) unstable; urgency=low

  * Bump x11proto-input-dev build-dep to >= 1.5.0 to fix keyboard layout
    breakage with new libxi built against the same. Closes: #515976

 -- David Nusinow <dnusinow@debian.org>  Thu, 19 Feb 2009 21:52:24 -0500

xorg-server (2:1.4.2-10) unstable; urgency=medium

  * Cherry-pick from upstream: GLcore: make googleearth not crash the server
    on sw-rendering (closes: #495483).

 -- Julien Cristau <jcristau@debian.org>  Fri, 09 Jan 2009 02:26:06 +0100

xorg-server (2:1.4.2-9) unstable; urgency=low

  * Cherry-pick patches from upstream to make xf86ScaleAxis() work correctly.
  * Steal patch from Fedora: more sanity checks to stop vmmouse from
    segfaulting the server (closes: #503459).

 -- Julien Cristau <jcristau@debian.org>  Thu, 13 Nov 2008 23:32:47 +0100

xorg-server (2:1.4.2-8) unstable; urgency=low

  * Add patch from Petr Salinger to fix PCI domain support on kfreebsd
    (closes: #499501).
  * xfree86: xf86SetDepthBpp needs to respect the driver's depth24flags.
    Instead of forcing a 32bpp framebuffer, we pick a value that the driver
    actually supports (closes: #504819, #486925); cherry-picked from upstream
    git.

 -- Julien Cristau <jcristau@debian.org>  Tue, 11 Nov 2008 20:46:52 +0100

xorg-server (2:1.4.2-7) unstable; urgency=low

  * Update debian/copyright to the SGI Free Software License B, version 2.0.
    It now mirrors the free X11 license used by X.Org.
    http://www.sgi.com/company_info/newsroom/press_releases/2008/september/opengl.html
  * Not closing bug#211765 for now, because GL/glx/glxext.c and
    hw/dmx/glxProxy/glxext.c are covered by the GLX Public License, which is
    still not free.  SGI has since released their code under FreeB, but that
    doesn't necessarily apply to contributions from other people.  Hopefully
    this can be cleared up soon, though.
  * xvfb-run: append to $ERRORFILE instead of truncating it, so the error
    output from Xvfb is not deleted when we run 'xauth remove'.

 -- Julien Cristau <jcristau@debian.org>  Tue, 30 Sep 2008 00:39:58 +0200

xorg-server (2:1.4.2-6) unstable; urgency=low

  * Xevie: always set rep.length to 0 (closes: #497337).  Thanks, Thorvald
    Natvig!
  * Xevie: swap replies if necessary, to not confuse clients with a different
    endianness.
  * Cherry-picked from upstream git:
    XF86VidMode: Correct a NULL pointer dereference (closes: #498289)

 -- Julien Cristau <jcristau@debian.org>  Mon, 15 Sep 2008 01:21:13 +0200

xorg-server (2:1.4.2-5) unstable; urgency=low

  * Don't pretend we support randr 1.2 when queried by swapped clients.  The
    dispatch code for RandR 1.2 requests would return BadImplementation anyway
    (closes: #495833).
  * Cherry-picked from upstream:
    + exa: fix assert logic thinko.

 -- Julien Cristau <jcristau@debian.org>  Tue, 26 Aug 2008 19:27:34 +0200

xorg-server (2:1.4.2-4) unstable; urgency=low

  * Re-enable patch 47_fbdevhw_magic_numbers.diff, fixes xen framebuffer
    (closes: #493901).  Thanks, Olivier Tétard!  If someone knows why I
    disabled it a year ago, I'd love to know.

 -- Julien Cristau <jcristau@debian.org>  Fri, 15 Aug 2008 19:15:54 +0200

xorg-server (2:1.4.2-3) unstable; urgency=low

  * Add Romanian debconf translation (closes: #489069).  Thanks, Eddy
    Petrișor!
  * Update Dutch debconf translation (closes: #491663).  Thanks, Thĳs
    Kinkhorst!
  * Pull from server-1.4-branch:
    - Xi: ChangeDeviceControl presence events should set the appropriate
      devchange
    - Fix potential crasher in xf86CrtcRotate()
  * Cherry-picked from 1.5:
    - Work around the DIX losing mmWidth/mmHeight for RandR 1.1 DDXen
      (closes: #491526).

 -- Julien Cristau <jcristau@debian.org>  Sat, 02 Aug 2008 23:22:32 +0200

xorg-server (2:1.4.2-2) unstable; urgency=low

  [ Julien Cristau ]
  * GLX: zero the buffer used in __glXDisp_GetVisualConfigs (backport from
    upstream).

  [ Brice Goglin ]
  * Cherry-pick various patches from upstream:
    - Fix incorrect test regarding keyboard map.
    - xfree86: append, not prepend, new input devices to xf86InputDevs.

 -- Julien Cristau <jcristau@debian.org>  Fri, 18 Jul 2008 10:53:26 +0200

xorg-server (2:1.4.2-1) unstable; urgency=low

  [ Julien Cristau ]
  * New upstream release.
  * Security fixes from the previous upload are included upstream.
  * Cherry-pick patches from upstream git to make the LeftOf and Above options
    in xorg.conf actually work (closes: #466526).
  * 48_xaa_nooffscreenpixmaps.diff: disable XAA offscreen pixmaps by default;
    they can be enabled with Option "XaaOffscreenPixmaps" (closes: #478277,
    #433331).
  * Cherry-pick various patches from upstream for Xorg's modes code:
    - add quirks for monitors with broken EDID (closes: #473260)
    - fix max clock computation
    - inherit the preferred mode from the global configuration (so if you have
      Modes "800x600" in the Display subsection the server will honor it
      instead of ignoring it)
  * Backport patch from upstream git to fix emulation of int1A PCI BIOS
    services (closes: #404885).  Thanks, Robert de Bath!

  [ Brice Goglin ]
  * Update patches to not require -p0, closes: #485185.

 -- Julien Cristau <jcristau@debian.org>  Thu, 26 Jun 2008 01:57:18 +0200

xorg-server (2:1.4.1~git20080517-2) unstable; urgency=high

  * High urgency upload for security fixes.
  * New patch from upstream to fix multiple security issues reported by
    iDefense:
    CVE-2008-2360 - RENDER Extension heap buffer overflow
    CVE-2008-2361 - RENDER Extension crash
    CVE-2008-2362 - RENDER Extension memory corruption
    CVE-2008-1379 - MIT-SHM arbitrary memory read
    CVE-2008-1377 - RECORD and Security extensions memory corruption

 -- Julien Cristau <jcristau@debian.org>  Mon, 09 Jun 2008 14:59:04 +0200

xorg-server (2:1.4.1~git20080517-1) unstable; urgency=low

  [ Julien Cristau ]
  * Pass -DPRE_RELEASE=0 in CPPFLAGS, so we don't print the pre-release
    warning in the Xorg log.
  * Pull from upstream server-1.4-branch
    + drop patch 40_default_dpi_96.patch applied upstream
    + refresh patches 03_auto_load_driver.diff and
      04_auto_load_driver_no_conf.diff
  * Don't build-depend on packages with a -1 debian revision.
  * Drop the XS- prefix from Vcs-* control fields.
  * Add x11-common to the Depends field of xnest, xvfb and xserver-xephyr (its
    init script sets up the /tmp/.X11-unix directory).
  * Re-enable the dmx DDX, and build the xdmx and xdmx-tools packages (the
    build is now fixed upstream); closes: #449254.

  [ Drew Parsons ]
  * Patch 95_xprint_disable_dbus disables dbus in Xprint by providing
    dummy config functions. Taken from upstream commit
    2a3d1421e0cc18822ae8f478fcc272e16a9e9340, with removal of
    CONFIG_LIB from configure.ac shifted to 94_xprint_XSERVER_LIBS.
    Closes: #472180.
  * Enable the xprint DDX, and build the xprint and xprint-common packages.

 -- Julien Cristau <jcristau@debian.org>  Sun, 18 May 2008 13:36:11 +0200

xorg-server (2:1.4.1~git20080507-1) unstable; urgency=low

  * Pull from upstream server-1.4-branch, highlights:
    - the server should now scale input events correctly
    - xkb keymap failures now give an explanation instead of just a 'failed to
      load' message
  * Drop patch 51_xkb-and-loathing.diff, applied upstream
  * Refresh patches 13_debian_add_xkbpath_env_variable.diff,
    21_glx_align_fixes.patch, 46_reduce_wakeups_from_smart_scheduler.patch and
    94_xprint_XSERVER_LIBS.
  * chmod +x configure in debian/rules clean so we can build a git snapshot
    where configure is not in the tarball.
  * Cherry-pick fix from upstream's master branch to re-arm the DPMS timer
    when re-enabling DPMS (closes: #397197).

 -- Julien Cristau <jcristau@debian.org>  Thu, 08 May 2008 15:34:38 +0200

xorg-server (2:1.4.1~git20080131-4) unstable; urgency=low

  * fix AlwaysCore handling: enabling AlwaysCore in xorg.conf 1) is the
    default, and 2) shouldn't prevent the device from sending core events
    (closes: #461760).

 -- Julien Cristau <jcristau@debian.org>  Tue, 29 Apr 2008 20:14:22 +0200

xorg-server (2:1.4.1~git20080131-3) unstable; urgency=low

  * XKB: Fix processInputProc wrapping (cherry-picked from upstream).
    Thanks to Thomas Jaeger.  This should fix the bug with some keys getting
    stuck (closes: #473165).
  * xkb: when copying the keymap, make sure the structs default to 0/NULL
    (cherry-picked from upstream).  Fixes a crash and closes: #461783.
  * __glXDRIbindTexImage: Fail if no texture bound to pixmap's texture target
    (cherry-picked from upstream).
  * EXA: Fix off-by-one in polyline drawing (cherry-picked from upstream).
  * EXA: Skip empty glyphs (cherry-picked from upstream).
  * Fix overly-restrictive integer overflow check in EXA pixmap creation
    (cherry-picked from upstream).  Fixes BadAlloc errors returned by
    XCreatePixmap for pixmaps of width 8192 or greater (closes: #471782).

  Following patches by Bart Trojanowski, stolen from the ubuntu package:
  * 15_X86EMU-added-blacklist-for-I-O-port-in-0-0xFF-range.patch
    - Restrict access to I/O ports in range 0-0xFF from x86emu.
  * 16_X86EMU-pass-the-correct-bus-dev-fn-tag-to-pci-emula.patch
    - Fix improper emulation of PCI access General Software BIOS.
  * Add 17_x86emu_handle_cpuid.patch to fix X86EMU CPUID handling.
    (closes: #451089).

 -- Julien Cristau <jcristau@debian.org>  Wed, 02 Apr 2008 00:20:15 +0200

xorg-server (2:1.4.1~git20080131-2) unstable; urgency=low

  [ Brice Goglin ]
  * Add 46_reduce_wakeups_from_smart_scheduler.patch to reduce
    power consumption, closes: #462700.

  [ Drew Parsons ]
  * Restore Xprint, cherry-picking commits
    f7f79724fdea0cc6fda0e90e56431df937d49335 and
    d67e210f3458b62d7d4a6032aabfda0004d661c1 from master (xserver 1.5).
    Include patch 94_xprint_XSERVER_LIBS to give new meaning of
    XSERVER_LIBS as expected in configure.ac from master (see commit
    a02db0d500cac20d0f0f107d27c064a175018421). Delete
    94_xprint_XSERVER_LIBS when we upgrade to xserver 1.5.

  [ Julien Cristau ]
  * Re-enable patch 51_xkb-and-loathing.diff: ignore SIGALRM around calls to
    Popen()/Pclose() to fix a hang when opening menus in OpenOffice.org
    (once again closes: #433131)
  * Refresh all patches to make patch-audit happy.
  * Pull from upstream server-1.4-branch as of March 14th.
  * 42_dont_break_grab_and_focus_for_window_when_redirecting.diff removed,
    applied upstream.
  * Don't build xprint just yet, because it needs NEW processing.

  [ David Nusinow ]
  * Add 11_dont_crash_on_bad_dri_mode. See bugzilla #13860

 -- Julien Cristau <jcristau@debian.org>  Fri, 14 Mar 2008 15:18:16 +0100

xorg-server (2:1.4.1~git20080131-1ubuntu12) intrepid; urgency=low

   * Fix multiple security issues:
     + CVE-2008-2360 - RENDER Extension heap buffer overflow
     + CVE-2008-2361 - RENDER Extension crash
     + CVE-2008-2362 - RENDER Extension memory corruption
     + CVE-2008-1379 - MIT-SHM arbitrary memory read
     + CVE-2008-1377 - RECORD and Security extensions memory corruption

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 11 Jun 2008 10:54:15 -0700

xorg-server (2:1.4.1~git20080131-1ubuntu11) intrepid; urgency=low

  * 169_xf86AutoConfig_choose_default_driver_if_no_pci.patch
    - Choose the default driver for the platform instead of the generic
      default (vesa) if there is no PCI info.  Without this, on platforms
      like PS3 where fbdev should be used rather than vesa, the system
      will fail to start up.  (LP: #219424)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 May 2008 13:09:17 -0700

xorg-server (2:1.4.1~git20080131-1ubuntu10) intrepid; urgency=low

  [Timo Aaltonen]
  * 166_fix_lpl_monitors.diff:
    - fix LPL monitors properly (LP: #204065)

  [Martin-Eric Racine]
  * 167_xf86AutoConfig_geode_addition.diff:
    - Autodetect geode video devices (LP: #219630)

  [Bryce Harrington]
  * 166_fix_lpl_monitors.diff:
    - Modified to apply to Ubuntu
  * 168_closedir.patch:
    - Fix crash on PS3 due to closing a dir that wasn't successfully opened
      (LP: #217647)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 13 May 2008 00:03:40 -0700

xorg-server (2:1.4.1~git20080131-1ubuntu9) hardy; urgency=low

  * debian/patches/series,
    debian/patches/165_fedora_xserver-1.5.0-xaa-option-inversion.patch:
    - Turn on patch included in previous commit - obviously accidentially
      forgotten.
    - Now that its really enabled, make it apply to 1.4.1 code base
      accordingly. (LP: #182038)

 -- Alexander Sack <asac@ubuntu.com>  Tue, 15 Apr 2008 18:23:51 +0200

xorg-server (2:1.4.1~git20080131-1ubuntu8) hardy; urgency=low

  * debian/patches/165_fedora_xserver-1.5.0-xaa-option-inversion.patch:
    - Turn XAA Offscreen Pixmaps off by default, and use
      XaaOffscreenPixmaps "true" to turn them on.  This setting was an
      early pre-EXA HW optimization attempt that didn't pan out; upstream is
      deprecating XAA in favor of EXA generally, and for situations where
      XAA is still in use recommends NOT using this optimization hack, since
      they found it often just made performance worse, and sometimes created
      visualization bugs.  People wishing to gain added performance should be
      experimenting with EXA anyway, not this setting.  (closes LP: #182038)

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 21 Apr 2008 12:30:53 -0700

xorg-server (2:1.4.1~git20080131-1ubuntu7) hardy; urgency=low

  * 159_xkb_default_to_null.diff:
    When copying the keymap, make sure the structs default to 0/NULL.
    (LP: #184651)
  * 160_default_to_intel.diff:
    Default to using intel instead of i810. (LP: #158709)
  * 161_fix_big_endian_cursor.diff:
    Fix RandR 1.2 driver interface conversion of two colour cursors to
    ARGB. (LP: #141118)
  * Fixes from the upstream 1.4-branch:
    - 162_cve-2007-6429.diff:
      CVE-2007-6429: Always test for size+offset wrapping.
    - 163_fix_untrusted_access.diff:
      Security: Fix for fdo bug #14480: untrusted access broken in 7.3.
    - 164_fix_context_sharing.diff:
      Fix context sharing between direct/indirect contexts

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 09 Apr 2008 11:06:04 +0300

xorg-server (2:1.4.1~git20080131-1ubuntu6) hardy; urgency=low

  * 157_fix_exa_pixmap_width.diff:
    A patch from upstream to allow wider pixmaps with EXA (LP: #205599)
  * 158_xkb_wrapping.diff:
    A patch reviewed by upstream that prevents keys from getting stuck under
    certain situations. (LP: #194214)
  * 51_xkb-and-loathing.diff:
    Re-enable. Ignore SIGALRM around calls to Popen()/Pclose() to fix a hang
    when opening menus in OpenOffice.org. (LP: #204137)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sun, 30 Mar 2008 19:18:32 +0300

xorg-server (2:1.4.1~git20080131-1ubuntu5) hardy; urgency=low

  * Add some patches from upstream 1.4-branch or proposed set:
    - 109_glx_fail_if_no_texture_bound.diff
      + __glXDRIbindTexImage: Fail if no texture bound to pixmap's texture
        target.
    - 153_exa_skip_empty_glyphs.diff
      + Fix a crasher when EXA and RenderAccel is in use.
    - 154_fix_rotation_for_multimon.diff
      + Fix rotation for multi-monitor situation.
    - 155_exa_fix_off-by-one.diff
      + Fix off-by-one in polyline drawing.
    - 156_resize_composite_overlay.diff
      + Resize composite overlay window when the root window changes.
        (LP: #199700)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 13 Mar 2008 18:21:41 +0200

xorg-server (2:1.4.1~git20080131-1ubuntu4) hardy; urgency=low

  * Add 152_xserver_exa_force_greedy.patch to provide a mechanism for
    drivers to force greedy mode on.  (LP: #177492, others)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 19 Feb 2008 13:38:16 -0800

xorg-server (2:1.4.1~git20080131-1ubuntu3) hardy; urgency=low

  [ Bryce Harrington ]
  * Add 150_edid_quirk_lp154w01.patch to fix font size on LGPhilipsLCD
    LP154W01-TLAE (LP: #127827)
  * Add 149_add_quirks_for_physical_screen_size_issues.patch to help
    address various common EDID issues (like monitors that report in
    centimeters instead of millimeters, etc.)  (LP: #151311)

  [ Timo Aaltonen ]
  * Add 151_x86emu_handle_cpuid.patch to fix X86EMU CPUID handling.
    (LP: #180742)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 19 Feb 2008 17:48:05 +0200

xorg-server (2:1.4.1~git20080131-1ubuntu2) hardy; urgency=low

    * Add patch 148_dix_touchscreen_fixes.diff from Matthew Garrett to fix
      touchscreen issues with DIX.
      http://lists.freedesktop.org/archives/xorg-commit/2008-February/014648.html

 -- Steve Kowalik <stevenk@ubuntu.com>  Fri, 08 Feb 2008 10:30:04 +1100

xorg-server (2:1.4.1~git20080131-1ubuntu1) hardy; urgency=low

  [ Timo Aaltonen ]
  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/patches:
    - 101_fedora-apm-typedefs.patch:
      Temporary hack from Fedora for broken kernels that don't publish the
      /dev/apm_bios types.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 103_fedora_openchrome.patch:
      Patch from Fedora to use openchrome instead of via.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 105_reduce_wakeups_from_smart_scheduler.diff:
      Patch from upstream to reduce wakeups and improve battery life.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 120_fedora_xserver-xaa-evict-pixmaps.patch:
      New version of the hack to copy textures from video memory. Shouldn't
      break EXA anymore.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just
      disable it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.
  * 108_fedora_honor_displaysize.patch:
    - Patch from upstream/Fedora to honor the DisplaySize-setting.
      (LP: #135738, b.fd.o #9758)
  * Drop patch 100_avoid_acpi_insanity.diff, superseded by patch 45.

  [ Bart Trojanowski, Martin-Eric Racine ]
  * 146_X86EMU-added-blacklist-for-I-O-port-in-0-0xFF-range.patch
    - Restrict access to I/O ports in range 0-0xFF from x86emu.
    (LP: #140051)
  * 147_X86EMU-pass-the-correct-bus-dev-fn-tag-to-pci-emula.patch
    - Fix improper emulation of PCI access General Software BIOS.
    (LP: #140051)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 05 Feb 2008 18:57:14 +0200

xorg-server (2:1.4.1~git20080131-1) unstable; urgency=low

  [ Brice Goglin ]
  * Add 45_only_XF86_APM_CAPABILITY_CHANGED_for_video_change_acpi_events.diff
    to prevent XF86_APM_CAPABILITY_CHANGED from being issued for all ACPI
    events, thanks Sjoerd Simons, closes: #461463.

  [ David Nusinow ]
  * Update Japanese translation from Hideki Yamane. closes: #462761
  * New upstream pull
    + Fixes crashes due to absent LED's being referenced

 -- David Nusinow <dnusinow@debian.org>  Thu, 31 Jan 2008 21:43:12 -0500

xorg-server (2:1.4.1~git20080118-1ubuntu2) hardy; urgency=low

  * Remove the DPI patch for real this time, conflicts with the upstream
    commit that was pulled.
  * 105_reduce_wakeups_from_smart_scheduler.diff:
    Patch from upstream to reduce wakeups and improve battery life.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 19 Jan 2008 20:26:41 +0200

xorg-server (2:1.4.1~git20080118-1ubuntu1) hardy; urgency=low

  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/patches:
    - 100_avoid_acpi_insanity.diff
      Don't send a configuration change event just because somebody's pressed
      a brightness key.
    - 101_fedora-apm-typedefs.patch:
      Temporary hack from Fedora for broken kernels that don't publish the
      /dev/apm_bios types.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 103_fedora_openchrome.patch:
      Patch from Fedora to use openchrome instead of via.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 120_fedora_xserver-xaa-evict-pixmaps.patch:
      New version of the hack to copy textures from video memory. Shouldn't
      break EXA anymore.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just
      disable it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 19 Jan 2008 02:40:00 +0200

xorg-server (2:1.4.1~git20080118-1) unstable; urgency=low

  [ Brice Goglin ]
  * Add 42_dont_break_grab_and_focus_for_window_when_redirecting.diff
    to prevent password authentication bypass, closes: #449108.

  [ Julien Cristau ]
  * New upstream snapshot
    + includes the security fixes from the previous version
    + fixes regression introduced by the fix for CVE-2007-6429 in the MIT-SHM
      extension (closes: #461410)

 -- Brice Goglin <bgoglin@debian.org>  Fri, 18 Jan 2008 22:20:32 +0100

xorg-server (2:1.4.1~git20080105-2) unstable; urgency=low

  [ David Nusinow ]
  * Improve dpms logging patch to correctly label message type

  [ Brice Goglin ]
  * Grab upstream commit db9ae863536fff80b5463d99e71dc47ae587980d
    to set DEFAULT_DPI to 96 instead of 75.

  [ Julien Cristau ]
  * Fix multiple security issues
    + CVE-2007-6427: XInput Extension Memory Corruption
    + CVE-2007-6428: TOG-CUP Extension Memory Corruption
    + CVE-2007-6429: EVI Extension Integer Overflow,
                     MIT-SHM Extension Integer Overflow
    + CVE-2007-5760: XFree86-Misc Extension Invalid Array Index
    + CVE-2007-5958: file existence disclosure
    + CVE-2008-0006: PCF font parser buffer overflow
  * Bump Standards-Version to 3.7.3 (no changes).

 -- Julien Cristau <jcristau@debian.org>  Thu, 17 Jan 2008 15:10:03 +0100

xorg-server (2:1.4.1~git20080105-1ubuntu1) hardy; urgency=low

  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/patches:
    - 100_avoid_acpi_insanity.diff
      Don't send a configuration change event just because somebody's pressed
      a brightness key.
    - 101_fedora-apm-typedefs.patch:
      Temporary hack from Fedora for broken kernels that don't publish the
      /dev/apm_bios types.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 120_fedora_xserver-xaa-evict-pixmaps.patch:
      New version of the hack to copy textures from video memory. Shouldn't
      break EXA anymore.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 138_fedora_xserver-1.3.0-default-dpi.patch
      Changes default dpi to 96.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just
      disable it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.
  * debian/patches/103_fedora_openchrome.patch:
    - Patch from Fedora to use openchrome instead of via.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 08 Jan 2008 18:05:21 +0200

xorg-server (2:1.4.1~git20080105-1) unstable; urgency=low

  * Don't reference non-existent bug-reporting.txt file in xvfb-run.1
  * New upstream git pull, again from the server-1.4-branch
    + Drop 08_xkb_infinite_loop.diff, it's upstream now
  * Improve logging when DPMS is enabled implicitly
    + Adds 08_better_dpms_logging.diff

 -- David Nusinow <dnusinow@debian.org>  Sun, 06 Jan 2008 16:56:38 -0500

xorg-server (2:1.4.1~git20071212-1ubuntu2) hardy; urgency=low

  * debian/patches/101_fedora-apm-typedefs.patch:
    - Temporary hack from Fedora for broken kernels that don't publish the
      /dev/apm_bios types.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Mon, 17 Dec 2007 11:54:46 +0200

xorg-server (2:1.4.1~git20071212-1ubuntu1) hardy; urgency=low

  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/patches:
    - 100_avoid_acpi_insanity.diff
      Don't send a configuration change event just because somebody's pressed
      a brightness key.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 120_fedora_xserver-xaa-evict-pixmaps.patch:
      New version of the hack to copy textures from video memory. Shouldn't
      break EXA anymore.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 138_fedora_xserver-1.3.0-default-dpi.patch
      Changes default dpi to 96.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just
      disable it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 13 Dec 2007 13:43:35 +0200

xorg-server (2:1.4.1~git20071212-2) unstable; urgency=low

  * Add patch 08_xkb_infinite_loop.diff from upstream bug#13511: papers over
    an infinite loop in event processing (closes: #451989).

 -- Julien Cristau <jcristau@debian.org>  Sat, 22 Dec 2007 00:02:01 +0100

xorg-server (2:1.4.1~git20071212-1) unstable; urgency=low

  [ Julien Cristau ]
  * debian/rules: Use lsb_release -i -s to get the vendor name, instead of
    hardcoding "Debian".
  * debian/control: build-dep on lsb-release.
  * Cherry-pick commit f30abe30 from master: edid quirk for MAX 0x77e monitor.
  * Add patch 44_preferredmode_infinite_loop.diff from upstream git: fixes an
    infinite loop when PreferredMode is used in xorg.conf.

  [ David Nusinow ]
  * New upstream version. This is based on the server-1.4-branch, and includes
    all the changes in the 1.4.0.90 (pre-)release as well as additional fixes.
    This is primarily a bugfix release
    + Remove 12_bgPixel_fix_64bit_issue.diff. Applied upstream

 -- David Nusinow <dnusinow@debian.org>  Wed, 12 Dec 2007 20:19:11 -0500

xorg-server (2:1.4.1~git20071119-1ubuntu1) hardy; urgency=low

  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/rules:
    - --with-os-vendor=Ubuntu
  * debian/patches:
    - 100_avoid_acpi_insanity.diff
      Don't send a configuration change event just because somebody's pressed
      a brightness key.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 138_fedora_xserver-1.3.0-default-dpi.patch
      Changes default dpi to 100.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just
      disable it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.
  * Bring back old changelog entries.
  * debian/patches/120_fedora_xserver-xaa-evict-pixmaps.patch:
    - New version of the hack to copy textures from video memory. Shouldn't
      break EXA anymore.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 20 Nov 2007 15:35:59 +0200

xorg-server (2:1.4.1~git20071119-1) unstable; urgency=low

  * Ship a .orig.tar.gz that's been autoreconf'ed. Closes: #451891
  * Re-enable validation of the screen section of xorg.conf
    Modify 14_default_screen_section.diff. This also fixes a problem where the
    server can't find the device section when it is specified in the screen
    section. Closes: #451950

 -- David Nusinow <dnusinow@debian.org>  Mon, 19 Nov 2007 20:38:04 -0500

xorg-server (2:1.4.1~git20071117-1) unstable; urgency=low

  [ Julien Cristau ]
  * Add conflict on xserver-xorg-input-wacom (<< 0.7.8) to xserver-xorg-core.
    That driver is built against the old ABI, but doesn't provide
    xserver-xorg-input.

  [ David Nusinow ]
  * Add 14_default_screen_section.diff. This allows you to not have a screen
    section in your xorg.conf. A basic default one with a simple identifier
    will be created for you in this case using all default values

  [ Christian Perrier ]
  * Debconf translations:
  * Galician. Closes: #444764
  * German. Closes: #444917
  * Brazilian Portuguese. Closes: #445266
  * Russian. Closes: #443859
  * Portuguese. Closes: #445051
  * Slovak. Closes: #446418, #448220

  [ Brice Goglin ]
  * Bump x11proto-core-dev build-dependency to >= 7.0.9,
    thanks Max Kellermann, closes: #446869.

  [ David Nusinow ]
  * New upstream stable snapshot
    + fixes a bunch of input-related bugs, notably keyboard leds
      (closes: #440743 and its pile of duplicates)
  * Remove patches merged in this snapshot
    + 08_exa_fix_exaFillRegionTiled_fallback.diff
    + 11_exa_no_negative_tile_offsets.diff
    + 42_fix_RemoveGeneralSocket_crash_from_dbus.diff
    + 44_XKB_mapping_changes_for_all_core-sending_devices.diff
    + 45_GetKeyboardEvents_reject_out-of-range_keycodes.diff
  * Make xephyr recommend xfonts-base. Closes: #451542

 -- David Nusinow <dnusinow@debian.org>  Sat, 17 Nov 2007 18:54:02 -0500

xorg-server (2:1.4.1~git20071105-1ubuntu2) hardy; urgency=low

  * Brown paper bag release: include all the patches.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 10 Nov 2007 15:24:28 +0200

xorg-server (2:1.4.1~git20071105-1ubuntu1) hardy; urgency=low

  * Merge with Debian unstable, remaining changes:
  * debian/control:
    - Change maintainer address.
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different compared to Dapper.
    - xvfb Depends on xauth, xfonts-base.
  * debian/rules:
    - --with-os-vendor=Ubuntu
  * debian/patches:
    - 100_avoid_acpi_insanity.diff
      Don't send a configuration change event just because somebody's pressed
      a brightness key.
    - 102_ubuntu_sharevts_load_cpu.patch:
      Close console fd only when using --sharevts.
    - 104_fedora_init_origins_fix.patch
      Multihead initialization.
    - 106_ubuntu_fpic_libxf86config.patch
      Add -fPIC to makefiles for xfree86/parser.
    - 107_fedora_dont_backfill_bg_none.patch
      Disable backfilling of windows created with bg=none, which
      otherwise would force a framebuffer readback.
    - 110_fedora_no_move_damage.patch
      Disable damage notifications on move for manually redirected windows.
    - 121_only_switch_vt_when_active.diff
      Add a check to prevent the X server from changing the VT when
      killing GDM from the console.
    - 123_no_composite_for_xvfb_run.patch
      Use "-extension Composite" to fix xvfb-run crashing.
    - 133_psb_auto.patch
      Add automatic detection of Poulsbo hardware when running
      without a Device definition.
    - 138_fedora_xserver-1.3.0-default-dpi.patch
      Changes default dpi to 100.
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch
      Fixes document fontpaths shown in the man page.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch
      Composite on 8bpp pseudocolor root windows appears to fail, so just disable
      it on anything pseudocolor for safety.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:
      Only collect xnest exposures for xexposes with non-zero height and width.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 10 Nov 2007 13:07:55 +0200

xorg-server (2:1.4-3) unstable; urgency=low

  [ David Nusinow ]
  * Minor cleanups of 03_autoload_drivers.diff. Thanks to Julien for
    spotting all these ugly bits
    + Newline after #else when picking the driver (this is the failsafe
      choice)
    + Change by hacked "ids" file name suffix check to use strncmp and check
      for ".ids"
    + Use strncpy instead of strncat unnecessarily
  * Add support for a partially configured device section
    Implemented in 03_autoload_driver.diff. Now if you have a device section
    but lack a driver, it'll use the settings. This will allow you to just
    have a device section and enable EXA but not have to specify the driver or
    anything else.
  * Add 07_autoconfig_screen_with_device_section.diff
    This patch allows the Screen section to not specify a device section. If
    this happens, the server will automatically use the first device section
    listed in the xorg.conf instead

  [ Brice Goglin ]
  * Allow building the Xfbdev server in new package xserver-xfbdev, but leave
    it disabled for now (see #439764).
  * Add upstream commit 27ad5d74c20f01516a1bff73be283f8982fcf0fe as patch
    44_XKB_mapping_changes_for_all_core-sending_devices.diff to fix broken
    xmodmap invocation in .xsession, closes: #443044.
  * Add upstream commit 0e800ca4651a947ccef239e6fe7bf64aab92257c as patch
    45_GetKeyboardEvents_reject_out-of-range_keycodes.diff to fix crash
    in GetKeyboardValuatorEvents, closes: #443697.

  [ Christian Perrier ]
  * Debconf templates and debian/control reviewed by the debian-l10n-
    english team as part of the Smith review project. Closes: #442210
  * Debconf translation updates:
    - Swedish. Closes: #443047
    - Czech. Closes: #443100
    - French
    - Vietnamese. Closes: #443174
    - Italian. Closes: #422414
  * New debconf translations
    - Hungarian. Closes: #442956
    - Thai. Closes: #442962
    - Tamil. Closes: #443027
    - Basque. Closes: #443156
    - Hebrew. Closes: #443204
    - Bulgarian. Closes: #443226
    - Finnish. Closes: #443611

  [ Julien Cristau ]
  * Add patch backported from upstream commit
    13949f997289068354e83bc83e50d97b8232efb1 to remove the type1 module: patch
    05_kill_type1.diff replaces 48_disable_type1.diff, and is now enabled in
    debian/patches/series.
  * Don't build kdrive-based servers we're not shipping.
  * Use ${binary:Version} instead of ${Source-Version}.
  * Add 08_exa_fix_exaFillRegionTiled_fallback.diff by Michel Dänzer to punt
    on fallback case not handled correctly in exaFillRegionTiled (backported
    from master's c7d6d1f5); closes: #444203.
  * Add 11_exa_no_negative_tile_offsets.diff by Michel Dänzer to make sure
    tile offsets passed to drivers are never negative (backported from
    master's 006f6525).
  * Add 12_bgPixel_fix_64bit_issue.diff by Hong Liu: bgPixel (unsigned long)
    is 64-bit on x86_64, so -1 != 0xffffffff (master's 9adea807).

 -- Julien Cristau <jcristau@debian.org>  Sat, 29 Sep 2007 16:14:35 +0200

xorg-server (2:1.4-2) unstable; urgency=low

  [ Brice Goglin ]
  * Add 42_fix_RemoveGeneralSocket_crash_from_dbus.diff to fix a crash
    when leaving, closes: #440547.
  * Add 43_allow_override_BIOS_EDID_preferred_mode.diff to allow overriding
    BIOD/EDID preferred mode with Option PreferredMode in the config file.

  [ David Nusinow ]
  * Upload to unstable

 -- David Nusinow <dnusinow@debian.org>  Sun, 16 Sep 2007 14:24:18 -0400

xorg-server (2:1.4-1) experimental; urgency=low

  * New upstream release (X.Org 7.3)
    + RandR doesn't mark Xinerama as active when no crtcs are enabled
      (closes: #431746)
  * Add proper depends to xserver-xorg-dev:
    x11proto-core-dev, x11proto-input-dev (>= 1.4), x11proto-xext-dev,
    x11proto-video-dev, x11proto-randr-dev (>= 1.2), x11proto-render-dev (>=
    2:0.9.3), x11proto-fonts-dev
  * Bump serverminver to 2:1.4, videoabiver to 2, inputabiver to 2.

 -- Julien Cristau <jcristau@debian.org>  Mon, 10 Sep 2007 14:35:38 +0200

xorg-server (2:1.3.99.2-1) experimental; urgency=low

  [ David Nusinow ]
  * Refactor auto_load_driver patch to allow the same method to be used when
    there is no xorg.conf present
  * Add 04_auto_load_driver_no_config.diff to use my auto_load_driver method
    when there's no xorg.conf present

  [ Brice Goglin ]
  * Simplify output redirections in the reportbug script,
    thanks Justin Pryzby, closes: #358390.
  * Add missing URL in long descriptions, update links to the upstream
    module, fix some capitalization, thanks Christian Perrier.

  [ Julien Cristau ]
  * New upstream release candidate.
    + bump build dep on renderproto to >= 0.9.3, and on pixman to >= 0.9.4-2.
    + bump video abi version and serverminver.
  * Drop the Conflict on fglrx-driver, which is taken care of by the abi
    version.

 -- Julien Cristau <jcristau@debian.org>  Tue, 04 Sep 2007 17:32:19 +0200

xorg-server (2:1.3.99.0-2) experimental; urgency=low

  * Improve 03_auto_load_driver.diff
    + Move memory cleanup and directory closing to after the end label to
      prevent leaks. Thanks Julien.
    + Allow a driver to claim everything from a specific vendor. It does so by
      only specifying a vendor ID and leaving the latter four digits empty.

 -- David Nusinow <dnusinow@debian.org>  Sun, 19 Aug 2007 16:06:54 -0400

xorg-server (2:1.3.99.0-1) experimental; urgency=low

  [ Julien Cristau, David Nusinow ]
  * New upstream release candidate.
    + X is now more tolerant of devices without a CtrlProc (closes: #269860).
    + cvt(1) and gtf(1) typos fixed (closes: #432065).
    + Make sure DRIScreenPrivIndex is -1 when no DRI screen private is
      allocated. (closes: #413697).
    + __glXDRIscreenProbe: Use drmOpen/CloseOnce (closes: #419614).
    + segfault in swrast_Triangle fixed in mesa (closes: #407502).
    + the Xvfb manpage doesn't refer to /usr/tmp anymore (closes: #270257).
    + typos in Xserver(1) fixed (closes: #306688).

  * Remove patches that were pushed upstream
    + 03_xnest_manpage_overhaul.diff
    + 04_read_rom_in_chunks.diff
    + 05_module_defaults.diff
    + 07_stolen_from_HEAD_xorgconf_manpage.diff
    + 08_s390_servermd.diff
    + 12_security_policy_in_etc.diff
    + 16_s390_fix.diff
    + 18_execinfo_configured.patch
    + 23_kfreebsd_support.diff
    + 24_hurd_ioperm_fix.diff
    + 32_disable_sparc_pci_bridge.diff
    + 39_alpha_build_flags.patch
    + 40_consolidate_portPriv_pDraw_assignments.diff
    + 42_only_run_special_key_behaviours_on_non-XKB.diff
    + 44_fedora-xephyr-keysym-madness.diff (different fix applied upstream)
    + 45_CVE-2007-2437.diff
    + 46_export-ramdac-symbols.diff
    + 49_map_keyboard_driver_to_kbd.diff
    + 50_alpha_no_include_asm_pci.h.diff
    + 94_use_default_font_path.diff
    + 125_glx_remove-stray__GLinterface.diff,
      126_glxproxy_remove-stray__GLinterface.diff and
      127_mesa-6.5.3-compat.diff (obsolete)

  * Update other patches:
    + 09_debian_xserver_rtff.diff disabled (doesn't apply, and isn't even
      used AFAICS;
    + 11_define_XFree86Server.diff dropped, to be fixed in drivers instead;
    + 13_debian_add_xkbpath_env_variable.diff refreshed;
    + 21_glx_align_fixes.patch updated;
    + 43_xephyr_crash_at_exit.diff dropped (doesn't apply);
    + 47_fbdevhw_magic_numbers.diff disabled for now;
    + 48_disable_type1.diff disabled for now;
    + 51_xkb-and-loathing.diff disabled for now.

  [ Julien Cristau ]
  * Add build-dep on x11proto-input-dev (>= 1.4.2), libpixman-1-dev
    (>= 0.9.0), libdbus-1-dev, libhal-dev (except on hurd-i386 for the last
    two).
  * Bump build-dep on mesa-swx11-source to >> 7.0.1~rc2-1.
  * Bump serverminver to this version, videoabiver to 1.9, inputabiver to
    0.9 (so this doesn't clash with a release and drivers have to be
    rebuilt).
  * Bump build-dep on compositeproto to >= 0.4.
  * Install the upstream changelog.
  * Disable the xprint and dmx DDX for now, they fail to build.
  * xserver-xorg-dev needs a dependency on libpixman-1-dev.
  * Add explanations about our tarball and upstream URL to debian/copyright.

  [ Drew Parsons ]
  * Update Xprint build to include pixman.

  [ David Nusinow ]
  * Add 03_auto_load_driver.diff. This patch allows the server to select a
    driver and automatically create a Devices section when none is specified
    in your xorg.conf. It chooses the driver based on a set of PCI ID's that
    the driver itself provides in /usr/share/xserver-xorg/pci. If no driver
    claims the PCI ID of your primary video card, then it will choose a
    fallback based on your system.

 -- Julien Cristau <jcristau@debian.org>  Sat, 18 Aug 2007 18:28:49 +0200

xorg-server (2:1.3.0.0.dfsg-13) UNRELEASED; urgency=low

  [ Debconf templates translations ]
  * Italian added. Closes: #422414
  * Slovak added. Closes: #438578

 -- Christian Perrier <bubulle@debian.org>  Sun, 26 Aug 2007 12:09:52 +0200

xorg-server (2:1.3.0.0.dfsg-12ubuntu8) gutsy; urgency=low

  * Add 145_glx_visuals_bound_check.patch to fix issue where mesa
    incorrectly counts its visuals and can free too many of them during
    video mode changes (VT switch, restart, hibernate, etc.) such as
    when running Compiz.  (closes LP: #127101)

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 28 Sep 2007 15:48:08 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu7) gutsy; urgency=low

  * Drop 143_fedora_xserver-1.3.0-randr12-config-hack.patch
    as it causes failure to detect proper resolution on some intel
    hardware.  (closes LP: #144956)

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 25 Sep 2007 14:42:59 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu6) gutsy; urgency=low

  * Drop 214_Bug_9680-_Remove_bogus_blank_length_limiting_in_xf86SetModeCrtc.patch
    as it is causing black bars to appear on screen for i810 users.
    (closes LP: #137604 + several dupes)

 -- Bryce Harrington <bryce@ubuntu.com>  Thu, 20 Sep 2007 14:35:54 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu5) gutsy; urgency=low

  [ Kees Cook ]
  * debian/patches/132_composite-no-clipping.diff: Adjusted WindowRec
    structure order and RedirectDraw logic to avoid nvidia crashes
    (fixes LP: #130325).
  * debian/patches/100_security_fdo-bug-7447.diff: Composite used for
    pixmap population on redirect. [CVE-2007-4730]

 -- Bryce Harrington <bryce@ubuntu.com>  Tue, 18 Sep 2007 17:20:14 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu4) gutsy; urgency=low

  * debian/patches/133_psb_auto.patch:  Add automatic detection of
    Poulsbo hardware when running without a Device definition.
  * Added some cherry-picked patches from fedora:
    - 134_fedorda_xorg-x11-server-1.1.1-vt-activate-is-a-terrible-api.patch:
      Fixes race condition where someone does a VT_ACTIVATE
      between another ACTIVATE/WAITACTIVE by adding a fail.
      (Potentially might address Ubuntu bugs 134478 and/or 134982)
    - 135_fedora_xorg-x11-server-1.1.1-xkb-in-xnest.patch:  Fixes issue when
      starting a session in an xnest nest environment as a different user,
      where keyboard map does not get preserved.  Removes
      NO_HW_ONLY_EXTS check to address this issue.  (RedHat bug 193431;
      Potentially may address Ubuntu bug 44846)
    - 136_fedora_xserver-1.2.0-honor-displaysize.patch:  Fixes issue if monitor
      width and height have been specified, xserver would override them
      with the hsize/vsize detected from DDC.
    - 137_fedora_xserver-1.2.0-vfprintf.patch:  Fixes typo 'vfprinf'
    - 138_fedora_xserver-1.3.0-default-dpi.patch:  Changes default dpi to 100.
      (Addresses Ubuntu bugs 118745, 107320, many others...)
    - 139_fedora_xserver-1.3.0-document-fontpath-correctly.patch: Fixes
      document fontpaths shown in the man page.
    - 140_fedora_xserver-1.3.0-domain-obiwan.patch:  Fixes longstanding bug in
      domain support.
    - 141_fedora_xserver-1.3.0-edid-quirk-backports.patch: Adds quirk for
      Samsung SyncMaster 225BW.
    - 142_fedora_xserver-1.3.0-no-pseudocolor-composite.patch:  Composite on
      8bpp pseudocolor root windows appears to fail, so just disable it
      on anything pseudocolor for safety.
    - 143_fedora_xserver-1.3.0-randr12-config-hack.patch:  Adds check to use
      the screen's xrandr modes if a preferred mode was not specified.
    - 144_fedora_xserver-1.3.0-xnest-exposures.patch:  Only collect xnest
      exposures for xexposes with non-zero height and width.

 -- Bryce Harrington <bryce@ubuntu.com>  Fri,  7 Sep 2007 14:23:23 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu3) gutsy; urgency=low

  * Added some cherry-picked patches from xserver 1.3.99:
    - 202_Add_quirk_for_Acer_AL1706_monitor_to_force_60hz_refresh.patch:
      The Acer AL1706 monitor reports support for 75hz via EDID, but
      does not sync when this range is given, so force it to 60hz.
    - 205_Bug_10770-_Inputdevs_isnt_a_valid_config_file_keyword.patch:
      Fixes typo in config file parser.
    - 208_Bug_6620-_Fixed_a_missing_else_in_ATIPseudoDMAInit.patch:
      Fixes issue where registers were written twice on R200, sometimes
      also putting bad values in atis->cce_pri_size.
    - 214_Bug_9680-_Remove_bogus_blank_length_limiting_in_xf86SetModeCrtc.patch:
      Fixes situation where when a specific mode is requested by monitor
      or user, xorg would tweak it to something incorrect.
    - 216_Bug_9041-_Check_the_return_code_in_xf86MapDomainMemory.patch:
      Fixes issue where mmap return value was being ignored and failing
      to issue fatal error as it should.
    - 221_ExaOffscreenMarkUsed-_Dont_crash_when_theres_no_offscreen_memory.patch:
      Fixes crash when there is no offscreen memory for EXA.
    - 222_Fix_a_crash_when_rotating_the_screen.patch:
      Fixes crash when rotating screen with xrandr.
    - 223_Fix_bug_8871-scrolling_corruption_with_a_compositing_manager.patch:
      Fixes scrolling corruption with composite due to incorrectly
      generated GraphicsExposes.
    - 224_Fix_calculations_in_x86_emulator_for_the_long_long_case_Andreas_Schwab.patch:
      Fixes long long multiplication when in x86 emulator.
    - 227_Fix_sync_polarity_on_Samsung_SyncMaster_205BW_monitor.patch:
      Adds quirk for Samsung SyncMaster 205BW
    - 230_In___glXCreateARGBConfig_insert_the_new_GL_mode_at_the__end__of_the_linked_list.patch:
      Fixes insertion order of linked list that can cause GLX clients to
      fail when attempting to use the last GLX mode/visual.
    - 231_In_dmxBackendMouGetInfo_initialize_the_info-minval_maxval_arrays_to_the_size_of_the_backend_display.patch:
      Fixes potential issue in X input where axis clipping code in
      GetPointerEvents() constrains the pointer's coordinate range to a
      max of 0, causing the mouse to not move.
    - 234_Reapply_patch_to_fix_AMD_CPU_detection.patch:
      Fixes AMD Geode CPU detection.
    - 236_Syncmaster_226_monitor_needs_60Hz_refresh_10545.patch:
      Adds quirk for Samsung SyncMaster 226BW.
    - 238_Update_pci.ids_to_2007-07-16_snapshot.patch:
      Updates our pci ids to support more current hardware.
      Remove nvidia ids in extrapci.ids that are now in pci.ids.
      Add nvidia ids to extrapci.ids that are in xf86-video-nv but not pci.ids
    - 241_XFree86-_Treat_evdev_and_vmmouse_as_mouse_drivers_bug_10512_10559.patch:
      Fix issue where a default mouse device gets automatically added
      when an evdev or vmmouse section has already been specified.
    - 243_exaDriverInit-_Fail_if_pScreenInfo_or_a_member_of_it_is_invalid.patch:
      Fix crash in EXA when pScreenInfo or a member of it is invalid.
    - 244_fix_an_occasional_crash_in_GetWindowName_bug-_9798.patch:
      Fixes crash by adding check of XmbTextPropertyToTextList()'s
      return code.
    - 245_regenerated_to_fix_bug_10371.patch:
      Fixes issue where if DRI is disabled, GL_MAX_TEXTURE_COORDS_ARB
      value is not returned correctly from glGetIntegerv().

 -- Bryce Harrington <bryce@ubuntu.com>  Fri, 31 Aug 2007 18:36:22 -0700

xorg-server (2:1.3.0.0.dfsg-12ubuntu2) gutsy; urgency=low

  * Don't send a configuration change event just because somebody's pressed
    a brightness key

 -- Matthew Garrett <mjg59@srcf.ucam.org>  Sun, 26 Aug 2007 16:17:15 +0100

xorg-server (2:1.3.0.0.dfsg-12ubuntu1) gutsy; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + set Conflicts: xkb-data (<< 0.9), since xkb-path is
        different from previous releases
      + do not Conflict with xserver-xorg-video
      + xvfb Depends on xauth, xfonts-base
      + Set Maintainer to Ubuntu Core Developers
    - debian/rules:
      + --with-os-vendor=Ubuntu
    - debian/xserver-xorg-core.install:
      + Add ioport, pcitweak, scanpci scripts & man pages
    - debian/patches:
      + 102_ubuntu_sharevts_load_cpu.patch:
        close console fd only when ShareVTs
      + 104_fedora_init_origins_fix.patch:
        multihead initialization
      + 106_ubuntu_fpic_libxf86config.patch:
        Add -fPIC to makefiles for xfree86/parser
      + 107_fedora_dont_backfill_bg_none.patch
        110_fedora_no_move_damage.patch,
        114_fedora_no_composite_in_xnest.patch,
        120_fedora_disable_offscreen_pixmaps.patch:
        further aiglx support
      + 119_ubuntu_enable_composite.diff:
        enable composite
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 123_no_composite_for_xvfb_run.patch:
        use "-extension Composite" to fix xvfb-run crashing
      + 125_glx_remove-stray__GLinterface.diff,
        126_glxproxy_remove-stray__GLinterface.diff,
        127_mesa-6.5.3-compat.diff:
        Patches needed to build against newer Mesa.
      + 132_composite-no-clipping.diff:
        Change the semantics of manual-redirect Composite windows so that
        they do not clip sibling or parent drawing.  Needed by hildon-desktop
        to prevent home applets from clipping.
    - debian/apport.py: Add apport hook for automatically attaching
      files useful for debugging X crashes:  Xorg.0.log, xorg.conf,
      lsmod, lspci, and /proc/version

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 21 Aug 2007 22:01:38 +0300

xorg-server (2:1.3.0.0.dfsg-12) unstable; urgency=low

  [ Brice Goglin ]
  * Add 51_xkb-and-loathing.diff to fix a hang in OpenOffice.org
    when opening menus, closes: #433131.
  * Install the exa(4) and fbdevhw(4) manpages.

  [ Julien Cristau ]
  * Update the xorg.conf(5) manpage to get documentation for RandR 1.2
    options:
    + 07_stolen_from_HEAD_xorgconf_manpage.diff: new patch;
    + 07_xorgconf_manpage_overhaul.diff dropped;
    + 34_xorg.conf_man_typos.patch dropped;
    + 05_module_defaults.diff, 94_use_default_font_path.diff: dropped hunks
      applying to hw/xfree86/doc/man/xorg.conf.man.pre.
  * Add patch 11_define_XFree86Server.diff: XFree86Server needs to be defined
    in xorg-server.h and exported to drivers.
  * Add patches 125_glx_remove-stray__GLinterface.diff
    126_glxproxy_remove-stray__GLinterface.diff and 127_mesa-6.5.3-compat.diff
    to build with mesa >= 6.5.3, and bump build-dependency on
    mesa-swx11-source.
  * Include the Debian package version in OSVENDOR to make it appear in the
    X log.

 -- Julien Cristau <jcristau@debian.org>  Thu, 09 Aug 2007 16:32:14 +0200

xorg-server (2:1.3.0.0.dfsg-11) unstable; urgency=low

  * Yet another alpha build fix: also remove the asm/pci.h include from
    os-support/linux/lnx_axp.c.  Include "lnx.h" and <unistd.h> instead.

 -- Julien Cristau <jcristau@debian.org>  Sat, 14 Jul 2007 20:09:35 +0200

xorg-server (2:1.3.0.0.dfsg-10) unstable; urgency=medium

  * hw/xfree86/common/compiler.h and <sys/io.h> declare incompatible
    prototypes for outb and friends, so change the patch from -9 to not
    #include <sys/io.h> and rely on declarations in lnx.h itself for the
    IOBASE_* macros.

 -- Julien Cristau <jcristau@debian.org>  Sat, 14 Jul 2007 18:06:14 +0200

xorg-server (2:1.3.0.0.dfsg-9) unstable; urgency=medium

  * Include <sys/io.h> instead of <asm/pci.h> in
    hw/xfree86/os-support/linux/lnx.h, as the latter isn't exported to
    userspace anymore; fixes FTBFS on alpha.  Thanks, Steve Langasek!

 -- Julien Cristau <jcristau@debian.org>  Sat, 14 Jul 2007 12:17:10 +0200

xorg-server (2:1.3.0.0.dfsg-8) unstable; urgency=medium

  * Medium-urgency upload to get the fix for #428794 in testing faster,
    hopefully.

  [ Brice Goglin ]
  * Add 47_fbdevhw_magic_numbers.diff: patch by Adam Jackson to keep the
    fbdev2xfree_timing() function from changing the pixel clock value if the
    fbdev driver claims that it is 0.

  [ Julien Cristau ]
  * Don't build the type1 font module.
  * Add patch by Alan Coopersmith to map (case-insensitively) the old
    "keyboard" input driver to "kbd" (addresses: #428794).  I'm not
    reassigning the bug to xserver-xorg-core for now so as not to break
    testing by letting xserver-xorg-input-keyboard transition before the fixed
    xorg-server.

 -- Julien Cristau <jcristau@debian.org>  Sat, 14 Jul 2007 01:48:20 +0200

xorg-server (2:1.3.0.0.dfsg-7) unstable; urgency=low

  [ Brice Goglin ]
  * Add 40_consolidate_portPriv_pDraw_assignments.diff to avoid a crash
    in xf86XVReputVideo (closes: #424899, #431655).
  * Add 41_vbe_filter_less.diff to not reject VESA modes early since
    xf86ValidateModes should handle them just fine (closes: #424684).
  * Add 42_only_run_special_key_behaviours_on_non-XKB.diff to fix special
    keys in Xephyr (closes: #415025).
  * Add 43_xephyr_crash_at_exit.diff to avoid crashing Xephyr when first
    client disconnect (closes: #420421).

 -- Julien Cristau <jcristau@debian.org>  Wed, 04 Jul 2007 23:42:40 +0200

xorg-server (2:1.3.0.0.dfsg-6ubuntu3) gutsy; urgency=low

  * debian/patches/series:
    - Re-enable 132_composite-no-clipping.diff with fix from upstream

 -- Bryce Harrington <bryce@ubuntu.com>  Wed, 25 Jul 2007 16:39:29 -0700

xorg-server (2:1.3.0.0.dfsg-6ubuntu2) gutsy; urgency=low

  * debian/patches/series:
    - don't apply 132_composite-no-clipping.diff for now, it doesn't work
      correctly when using compiz

 -- Sebastien Bacher <seb128@canonical.com>  Fri, 13 Jul 2007 17:03:42 +0100

xorg-server (2:1.3.0.0.dfsg-6ubuntu1) gutsy; urgency=low

  * Merge from Debian unstable. Remaining Ubuntu changes:
    - debian/control:
      + set Conflicts: xkb-data (<< 0.9), since xkb-path is
        different from previous releases
      + do not Conflict with xserver-xorg-video
      + xvfb Depends on xauth, xfonts-base
      + Set Maintainer to Ubuntu Core Developers
    - debian/rules:
      + build using -fno-stack-protector
      + --with-os-vendor=Ubuntu
    - debian/xserver-xorg-core.install:
      + Add ioport, pcitweak, scanpci scripts & man pages
    - debian/patches:
      + 102_ubuntu_sharevts_load_cpu.patch:
        close console fd only when ShareVTs
      + 104_fedora_init_origins_fix.patch:
        multihead initialization
      + 106_ubuntu_fpic_libxf86config.patch:
        Add -fPIC to makefiles for xfree86/parser
      + 107_fedora_dont_backfill_bg_none.patch:
        Re-enable to see if it helps with performance regressions.
      + 108_fedora_gl_include_inferiors.patch,
        110_fedora_no_move_damage.patch,
        114_fedora_no_composite_in_xnest.patch:
        further aiglx support
      + 119_ubuntu_enable_composite.diff:
        enable composite
      + 120_fedora_disable_offscreen_pixmaps.patch:
        update to the latest version from Fedora (rev. 1.6, was 1.1)
        Despite being a hack, it works and is needed for compositing
        managers to work properly.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 123_no_composite_for_xvfb_run.patch:
        use "-extension Composite" to fix xvfb-run crashing
      - 125_glx_remove-stray__GLinterface.diff,
        126_glxproxy_remove-stray__GLinterface.diff,
        127_mesa-6.5.3-compat.diff:
        Mesa 6.5.3 build support
  * debian/apport.py:  Add apport hook for automatically attaching
    files useful for debugging X crashes:  Xorg.0.log, xorg.conf,
    lsmod, lspci, and /proc/version
  * debian/patches/132_composite-no-clipping.diff:  Change the
    semantics of manual-redirect Composite windows so that they do not
    clip sibling or parent drawing.  Needed by hildon-desktop to prevent
    home applets from clipping.

 -- Bryce Harrington <bryce@ubuntu.com>  Mon,  2 Jul 2007 12:47:44 -0700

xorg-server (2:1.3.0.0.dfsg-6) unstable; urgency=low

  * Change fglrx conflict to << 8.37.6 (closes: #424975).

 -- Julien Cristau <jcristau@debian.org>  Fri, 01 Jun 2007 14:58:39 +0200

xorg-server (2:1.3.0.0.dfsg-5) unstable; urgency=low

  [ Brice Goglin ]
  * Add 24_hurd_ioperm_fix.diff to fix xf86Enable/DisableIO on Hurd with
    recent GNU Mach. Thanks Samuel Thibault!
  * Add 06_use_proc_instead_of_sysfs_for_pci_domains.diff since sysfs-based
    PCI management code is broken at least on sparc and powerpc.
    Closes: #422077, #422095. Thanks to Jim Watson for testing!
  * Install the Xephyr README, closes: #395888.
  * Update 07_xorgconf_manpage_overhaul.diff to drop the reference to the
    xorg.conf example which we do not install since Xserver 1.3 does automatic
    configuration, the manpage is very well documented, and we generate a
    config file during installation. Closes: #222932.
  * Fix warning in /etc/init.d/xprint when /usr/lib/X11/fonts does not exist.
    Closes: #422352. Thanks Cristian Ionescu-Idbohrn!
  * Pull upstream commit 9c80eda826448822328bb678a7d284cc43fffb17 to disable
    RandR's fake xinerama geometry when there's more than one protocol screen
    (closes: #420679).

  [ Julien Cristau ]
  * Add patch to make sure that the ramdac symbols are present in the server
    and drivers can use them (closes: #423129).
  * xserver-xorg-core Conflicts with fglrx-driver, which broke with 1.3.
    We'll need to make this versioned (or drop it) when fglrx is fixed.

 -- Julien Cristau <jcristau@debian.org>  Wed, 16 May 2007 15:17:55 +0200

xorg-server (2:1.3.0.0.dfsg-4ubuntu2) gutsy; urgency=low

  * Build-Depend on mesa 6.5.3
  * Apply Mandriva patches to build against mesa 6.5.3
    - 125_glx_remove-stray__GLinterface.diff
    - 126_glxproxy_remove-stray__GLinterface.diff
    - 127_mesa-6.5.3-compat.diff

 -- Kyle McMartin <kyle@ubuntu.com>  Sat, 26 May 2007 18:12:35 +0000

xorg-server (2:1.3.0.0.dfsg-4ubuntu1) gutsy; urgency=low

  * Merge from Debian unstable. Remaining Ubuntu changes:
    - debian/control:
      + set Conflicts: xkb-data (<< 0.9), since xkb-path is
        different from previous releases
      + do not Conflict with xserver-xorg-video
      + xvfb Depends on xauth, xfonts-base
      + Set Maintainer to Ubuntu Core Developers
    - debian/rules:
      + build using -fno-stack-protector
      + --with-os-vendor=Ubuntu
    - debian/xserver-xorg-core.install:
      + Add ioport, pcitweak, scanpci scripts & man pages
    - debian/patches:
      + 102_ubuntu_sharevts_load_cpu.patch:
        close console fd only when ShareVTs
      + 104_fedora_init_origins_fix.patch:
        multihead initialization
      + 106_ubuntu_fpic_libxf86config.patch:
        Add -fPIC to makefiles for xfree86/parser
      + 107_fedora_dont_backfill_bg_none.patch:
        Re-enable to see if it helps with performance regressions.
      + 108_fedora_gl_include_inferiors.patch,
        110_fedora_no_move_damage.patch,
        114_fedora_no_composite_in_xnest.patch:
        further aiglx support
      + 119_ubuntu_enable_composite.diff:
        enable composite
      + 120_fedora_disable_offscreen_pixmaps.patch:
        update to the latest version from Fedora (rev. 1.6, was 1.1)
        Despite being a hack, it works and is needed for compositing
        managers to work properly.
      + 121_only_switch_vt_when_active.diff:
        Add a check to prevent the X server from changing the VT when killing
        GDM from the console.
      + 123_no_composite_for_xvfb_run.patch:
        use "-extension Composite" to fix xvfb-run crashing
  * Drop 124_fix-pdripriv_null_deref.patch.  Already fixed in GLX code.
    See upstream FDO bug #8537

 -- Bryce Harrington <bryce@ubuntu.com>  Mon, 14 May 2007 16:40:03 -0700

xorg-server (2:1.3.0.0.dfsg-4) unstable; urgency=low

  * Cherry-pick patch from upstream git to fix security issue in the Xrender
    extension: malicious clients can cause a division by zero in the server
    (closes: #422936). Reference: CVE-2007-2437. Thanks, Micah Anderson!

 -- Julien Cristau <jcristau@debian.org>  Wed, 09 May 2007 02:11:08 +0200

xorg-server (2:1.3.0.0.dfsg-3) unstable; urgency=low

  * Include 94_use_default_font_path.diff. This patch is like Eugene's patch
    to always look in the default font path from the past, but now we provide
    an option to disable looking in the default font path at runtime. This
    will allow people to specify additional font paths in their xorg.conf
    without losing their current paths. This will also help avoid people
    having ye olde "fixed font" problem.
  * Fix compilation warnings for 05_module_defaults.diff. Previously the patch
    used a generic pointer for the options record, but now we use the actual
    XF86OptionsPtr type.

 -- David Nusinow <dnusinow@debian.org>  Thu, 26 Apr 2007 22:39:52 -0400

xorg-server (2:1.3.0.0.dfsg-2) unstable; urgency=low

  * Add Brice Goglin's fix for 05_module_defaults.diff, so that it also works
    when there is no module section at all. Thanks to Michel Dänzer for
    helping also.

 -- David Nusinow <dnusinow@debian.org>  Sat, 21 Apr 2007 09:34:12 -0400

xorg-server (2:1.3.0.0.dfsg-1) unstable; urgency=low

  * Upload to unstable.
  * Add XS-Vcs-* to debian/control.
  * Remove non-free file hw/xfree86/doc/README.DRI from the upstream tarball.
  * Bump serverminver to 2:1.3.0.0.

 -- Julien Cristau <jcristau@debian.org>  Fri, 20 Apr 2007 07:54:14 +0200

xorg-server (2:1.3.0.0-1) experimental; urgency=low

  * New upstream release

 -- David Nusinow <dnusinow@debian.org>  Thu, 19 Apr 2007 22:27:05 -0400

xorg-server (2:1.2.99.905-3) experimental; urgency=low

  [ Julien Cristau ]
  * xvfb now Recommends: xfonts-base (closes: #314598).

  [ David Nusinow ]
  * Add 05_module_defaults.diff. This provides default modules loading
    capabilities for the server that may be overrided easily. Previously the
    server would load a set of default modules, but only if none were
    specified in the xorg.conf, or if you didn't have a xorg.conf at all. This
    patch provides a default set and you can add only the "Load" instructions
    to xorg.conf that you want without losing the defaults. Similarly, if you
    don't want to load a module that's loaded by default, you can add
    "Disable modulename" to your xorg.conf (see man xorg.conf in this release
    for details). See upstream bug #10541 for more.

 -- David Nusinow <dnusinow@debian.org>  Sun, 15 Apr 2007 11:17:45 -0400

xorg-server (2:1.2.99.905-2) experimental; urgency=low

  * Install the cvt and gtf utilities and their manpages (closes: #414792).
  * Build the xserver-xorg-core-dbg package, which contains debugging symbols
    for Xorg and /usr/lib/xorg/modules/**/*.so

 -- Julien Cristau <jcristau@debian.org>  Mon, 09 Apr 2007 20:38:22 +0200

xorg-server (2:1.2.99.905-1) experimental; urgency=low

  * New upstream release candidate.
    + includes fix for CVE-2007-1003: XC-MISC Extension ProcXCMiscGetXIDList()
      Memory Corruption.

 -- Julien Cristau <jcristau@debian.org>  Fri, 06 Apr 2007 12:05:40 +0200

xorg-server (2:1.2.99.903-1) experimental; urgency=low

  [ Drew Parsons ]
  * Add exclude entries to dh_install in debian/rules.

  [ Julien Cristau ]
  * Prepare packaging to ship debugging symbols for xserver-xorg-core in
    xserver-xorg-core-dbg, but leave it commented out so we can get rc3 in the
    archive first.
  * New upstream release candidate.
    + bump serverminver to 2:1.2.99.903.

 -- Julien Cristau <jcristau@debian.org>  Tue, 27 Mar 2007 07:33:29 +0200

xorg-server (2:1.2.99.902-1) experimental; urgency=low

  [ Drew Parsons ]
  * Bring xprint back into the xorg fold.
    - include existing patches:
      - 91_ttf2pt1 allows Xprint to use ttf2pt1 for Type1 font handling
      	(but extract and apply manually the patch to
       	hw/xprint/ps/Makefile.am so it may be applied by autoconf)
      - 91_ttf2pt1_updates brings ttf2pt1 into the modern X11R7.1 world
      - 92_xprint-security-holes-fix.patch places PS/PDF file output
      	into the user's home directory (~/Xprintjobs), more secure than
      	a shared /tmp/Xprintjobs
      - 93_spooltodir_check_file_exists ensures output filenames are
      	less than 256 characters in length
      - 93_xprint_fonts_fix released references to font names after use.
     - enable freetype support for Xprint.
     - add descriptions to debian/control and Build-Dependency on
       x11proto-print-dev
  * Run autoreconf to update changes to hw/xprint/ps/Makefile.am.

  [ Brice Goglin ]
  * Apply patch from adrian@smop.co.uk to our xvfb-run wrapper
    to check whether Xvfb started ok and fix its cleanup
    (closes: #351042).

  [ Julien Cristau ]
  * New upstream release candidate.
  * Bump serverminver to 2:1.2.99.902.
  * Drop patch 42_build_int10_submodules.diff, and use x86emu on all
    architectures instead (closes: #410879).
  * Refresh patches:
    + 12_security_policy_in_etc.diff
    + 21_glx_align_fixes.patch
    + 23_kfreebsd_support.diff
  * Delete a few files generated by configure on clean, since they seem to
    have been included in the tarball.

 -- Julien Cristau <jcristau@debian.org>  Thu, 15 Mar 2007 04:28:00 +0100

xorg-server (2:1.2.99.901-1) experimental; urgency=low

  * New upstream release candidate.
    + Remove patches 24 (hurd support), 35 (randr byteswap) and 43 (set damage
      version), applied upstream.
    + Bump build-dep on x11proto-randr-dev to >= 1.2, and on
      x11proto-damage-dev to >= 1.1.

 -- Julien Cristau <jcristau@debian.org>  Wed,  7 Mar 2007 19:58:53 +0100

xorg-server (2:1.2.0-6) experimental; urgency=low

  * Set videoabiver to 1.0, same as in xorg-server 1.1.

 -- Julien Cristau <jcristau@debian.org>  Fri,  2 Mar 2007 16:38:12 +0100

xorg-server (2:1.2.0-5) experimental; urgency=low

  * Add input ABI versioning metadata. Rename serverabiver file to
    videoabiver, and add inputabiver. Bump serverminver to 2:1.2.0-5 to deal
    with this change.

 -- David Nusinow <dnusinow@debian.org>  Thu,  1 Mar 2007 22:09:45 -0500

xorg-server (2:1.2.0-4) experimental; urgency=low

  [ Julien Cristau ]
  * Don't strip modules when DEB_BUILD_OPTIONS contains nostrip.  Thanks,
    Cyril Brulebois!

  [ David Nusinow ]
  * Move serverabiver file to serverminver. Use serverabiver to store the
    actual video ABI version number (1.1 right now). This will allow drivers
    to automatically generate their Provides: xserver-xorg-video-* line when
    built against a particular server version. The rename of the files
    is to better denote what they actually are.
  * Bump the serverminver to 2:1.2.0-4 because of this change

 -- David Nusinow <dnusinow@debian.org>  Wed, 21 Feb 2007 21:53:51 -0500

xorg-server (2:1.2.0-3ubuntu8) feisty; urgency=low

  * SECURITY UPDATE: arbitrary code execution with root privs via integer
    overflows in MISC-XC.
  * Add debian/patches/131_misc_xc_overflows.patch: upstream fixes.
  * References
    CVE-2007-1003

 -- Kees Cook <kees@ubuntu.com>  Thu, 29 Mar 2007 17:46:44 -0700

xorg-server (2:1.2.0-3ubuntu7) feisty; urgency=low

  * debian/patches/120_fedora_disable_offscreen_pixmaps.patch
    - update to the latest version from Fedora (rev. 1.6, was 1.1)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Fri, 30 Mar 2007 10:39:01 +0300

xorg-server (2:1.2.0-3ubuntu6) feisty; urgency=low

  * debian/{rules,xsfbs/xsfbs.mk,serverminver,inputabiver}
    - Import changes from current debian package, needed for the new intel
      driver.
    - Rename serverabiver to videoabiver, value 1.0.
    - Set serverminver as this version.
  * debian/patches:
    129_remove_extra_i2c_bittimeout.patch
    130_slow_down_ddc_i2c.patch
    - Patches from server-1.3 branch, which make probing the monitor more
      robust.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Thu, 29 Mar 2007 00:56:17 +0300

xorg-server (2:1.2.0-3ubuntu5) feisty; urgency=low

  * debian/patches/120_fedora_disable_offscreen_pixmaps.diff
    - Re-enable. Despite being a hack, it works and is needed for compositing
      managers to work properly. (LP: #89189)

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Tue, 27 Mar 2007 02:33:31 +0300

xorg-server (2:1.2.0-3ubuntu4) feisty; urgency=low

  * debian/patches/107_fedora_dont_backfill_bg_none.patch:
    - Re-enable to see if it helps with performance regressions.
  * debian/patches/127_check_for_clientgone.patch:
    - A fix from upstream. (LP: #60288)
  * debian/patches/128_fix_client_privates_leak.patch
    - Plug a memory leak. (LP: #92882)
  * debian/rules
    - Fix a typo in --with-default-font-path.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Sat, 17 Mar 2007 00:38:09 +0200

xorg-server (2:1.2.0-3ubuntu3) feisty; urgency=low

  * debian/patches:
    - Rename 019_ubuntu_enable_composite.diff to 119_* so that it is in line
      with the rest of our patches
    - Re-add 126_debian_always_use_default_font_path.diff. This was dropped
      by Debian but needed by us since we still have legacy fontpaths in
      old configurations, so new paths need to be appended to the list.

 -- Timo Aaltonen <tepsipakki@ubuntu.com>  Wed, 28 Feb 2007 11:54:18 +0200

xorg-server (2:1.2.0-3ubuntu2) feisty; urgency=low

  * debian/control:
    - xvfb Depends on xauth, xfonts-base

 -- Sebastien Bacher <seb128@canonical.com>  Tue, 27 Feb 2007 23:31:06 +0100

xorg-server (2:1.2.0-3ubuntu1) feisty; urgency=low

  * Don't drop 42_build_int10_submodules.diff, it's useful
  * 019_ubuntu_enable_composite.diff:
    - enable composite
  * debian/control:
    - fixed Maintainer email
  * debian/xserver-xorg-core.install:
    - list ioport, gtf, pcitweak and scanpci
      and manpages for scanpci, gtf, pcitweak

  [ Timo Aaltonen ]
  * Merge with Debian, remaining changes:
    - debian/rules:
      + build using -fno-stack-protector
      + --with-os-vendor=Ubuntu
    - debian/control:
      + don't Conflict with xserver-xorg-video
    - refreshed and renamed patches
      102_ubuntu_sharevts_load_cpu.patch
      104_fedora_init_origins_fix.patch
      106_ubuntu_fpic_libxf86config.patch
      114_fedora_no_composite_in_xnest.patch
      121_only_switch_vt_when_active.diff
      124_fix-pdripriv_null_deref.patch
    - dropped for now:
      42_build_int10_submodules.diff - causes "some regression"
  * dropped patches (comments from Michel Daenzer):
    - 107_fedora_dont_backfill_bg_none.patch
      "Breaks X semantics and thus can't go in upstream. Apps/toolkits
       need to be fixed not to use background none windows."
    - 108_fedora_gl_include_inferiors.patch
      "Breaks GLX semantics and should no longer be necessary now that
       the GLX compositing managers default to using the Composite
       Overlay Window."
    - 120_fedora_disable_offscreen_pixmaps.diff
      "Last time I looked at this, it was a gross hack to work around XAA
       deficiencies in offscreen pixmap handling, which makes the server
       die immediately when trying to use GLX_EXT_texture_from_pixmap
       with EXA, due to calling XAA functions without checking it's
       active or even loaded."
  * debian/control:
    - set Conflicts: xkb-data (<< 0.9), since xkb-path is
      different from previous releases
  * debian/patches/125_randr-version-supported.diff:
    - The server supports protocol 1.1, make sure we use it.

 -- Sebastien Bacher <seb128@canonical.com>  Mon, 26 Feb 2007 09:36:38 +0100

xorg-server (2:1.2.0-3) experimental; urgency=low

  [ Julien Cristau ]
  * Pass --with-os-name and --with-os-vendor to configure.
  * Bump serverabiver to 2:1.2.0-1.
  * Add patch from upstream git to set the supported damage version from the
    server, instead of from the damage headers.  xserver 1.2.0 supports damage
    1.0, not 1.1.

 -- Julien Cristau <jcristau@debian.org>  Sat, 17 Feb 2007 12:03:03 +0100

xorg-server (2:1.2.0-2) experimental; urgency=low

  * Delete useless debian/substvars.
  * Change my email address in debian/control.
  * Fix patch 42_build_int10_submodules.diff.  The definition of
    xf86InitInt10() was moved to int10/helper_exec.c between 1.1.1 and 1.2.0,
    so we move it to int10/helper_mem.c, which we build in the main int10
    module, not the vm86 and x86emu submodules.  Thanks to Cédric Augonnet and
    Brice Goglin for the report and testing.

 -- Julien Cristau <jcristau@debian.org>  Sat, 10 Feb 2007 20:57:57 +0100

xorg-server (2:1.2.0-1) experimental; urgency=low

  * New upstream release.
    + 40_xorg-xserver-1.1.0-dbe-render.diff dropped.
    + 38_GetDrawableAttributes.patch dropped.
    + 37_build-mesa-mipmap.patch dropped.
    + 33_Xserver_man_typos.patch dropped.
    + 24_hurd_support.diff massively reduced.
    + 13_debian_add_xkbpath_env_variable.diff refreshed.
    + 07_xorgconf_manpage_overhaul.diff updated.
    + 42_build_int10_submodules.diff updated.
  * Bump build-dep on mesa-swx11-source to >= 6.5.2.
  * Version build-dependencies on x11proto-composite-dev and x11proto-kb-dev
    to match configure.ac.
  * Add build-dep on libxfixes-dev (needed for Xdmx).

 -- Julien Cristau <jcristau@debian.org>  Fri,  9 Feb 2007 20:54:27 +0100

xorg-server (2:1.1.99.903-1) experimental; urgency=low

  * New upstream release candidate.
  * Forward-port patches:
    * 07_xorgconf_manpage_overhaul.diff: refresh
    * 12_security_policy_in_etc.diff: refresh
    * 21_glx_align_fixes.patch: refresh
    * 23_kfreebsd_support.diff: refresh
    * 24_hurd_support.diff: refresh
    * 34_xorg.conf_man_typos.patch: refresh
    * 36_fix_ffs.patch: remove, applied upstream
  * Bump build-dependency on libdrm-dev to (>= 2.3.0) because that is the X
    server's minimum requirement.

 -- Thierry Reding <thierry@gilfi.de>  Sat,  2 Dec 2006 12:44:59 +0100

xorg-server (2:1.1.99.902-1) experimental; urgency=low

  * Update to latest upstream release candidate.
  * Forward-port patches:
    * 02_libvgahw_gcc4_volatile_fix.diff: update
    * 04_read_rom_in_chunks.diff: update
    * 05_arm_cache_flush.diff: remove, applied upstream
    * 06_arm_is_not_x86_and_has_no_vga.diff: remove, applied upstream
    * 07_xorgconf_manpage_overhaul.diff: update
    * 08_s390_servermd.diff: update
    * 09_debian_xserver_rtff.diff: update
    * 12_security_policy_in_etc.diff: update
    * 13_debian_add_xkbpath_env_variable.diff: update
    * 15_symlink_mesa.diff: remove, fixed upstream
    * 16_s390_fix.diff: update
    * 17_ignoreabi.diff: remove, applied upstream
    * 18_execinfo_only_for_backtrace.patch: remove, applied upstream
    * 18_execinfo_configured.patch: remove, applied upstream
    * 19_configurable_misc_utils.patch: remove, applied upstream
    * 20_mesa_6.5.1.diff: remove, applied upstream
    * 21_glx_align_fixes.patch: update
    * 22_xkb_cycle_3layouts.diff: remove, applied upstream
    * 23_kfreebsd_support.diff: update, partially applied upstream
    * 24_hurd_support.diff: update, partially applied upstream
    * 25_tfp_damage.diff: remove, applied upstream
    * 26_aiglx_happy_vt_switch.diff: remove, applied upstream
    * 27_aiglx_locking.diff: remove, applied upstream
    * 28_mesa_copy_sub_buffer.diff: remove, applied upstream
    * 29_mesa_reseed_makefile.diff: remove, fixed upstream
    * 30_fix_vmode_switch.diff: remove, fixed upstream
    * 31_blocksigio.diff: remove, fixed upstream
    * 32_disable_sparc_pci_bridge.diff: update
    * 34_xorg.conf_man_typos.patch: update
    * 35_randr_byteswap.patch: update
    * 36_fix_ffs.patch: update
    * 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms.diff:
      remove, applied upstream
  * Upstream no longer ships a changelog, so don't try to install it.
  * Add 37_build-mesa-mipmap.patch that adds the missing mipmap.c to libmain's
    sources.
  * Add 38_GetDrawableAttributes.patch which readds support for the
    GetDrawableAttributes extension that's needed for compiz to work properly.

 -- Thierry Reding <thierry@gilfi.de>  Fri,  1 Dec 2006 20:32:34 +0100

xorg-server (2:1.1.1-21) unstable; urgency=emergency

  * Security update.
  * Fix integer overflow in the ProcXCMiscGetXIDList() function in the XC-MISC
    extension.  Reference: CVE-2007-1003.

 -- Julien Cristau <jcristau@debian.org>  Wed, 04 Apr 2007 00:34:51 +0200

xorg-server (2:1.1.1-20) unstable; urgency=low

  * xephyr: Add patch from upstream git to fix memory leak in
    ephyrScreenFini().  Thanks, Guillem Jover!

 -- Julien Cristau <jcristau@debian.org>  Tue,  6 Mar 2007 22:20:14 +0100

xorg-server (2:1.1.1-19) unstable; urgency=high

  [ Drew Parsons ]
  * Removed spurious space in default font line
    (/usr/X11R6/lib/X11/fonts/Type1 not "/usr/X11R6/lib/  X11/fonts/Type1")

  [ David Nusinow ]
  * Conflict with and replace xserver-common, because that package used to
    provide the SecurityPolicy file. This is an RC bugfix because it breaks
    upgrades, so it gets a high urgency. Thanks Christian Tsotras and Lionel
    Elie Mamane for reporting and it. Closes: #402658

 -- David Nusinow <dnusinow@debian.org>  Wed, 28 Feb 2007 21:48:19 -0500

xorg-server (2:1.1.1-18) unstable; urgency=medium

  * Add patch from Fedora to make xephyr work on 64bit architectures
    (closes: #405928).

 -- Julien Cristau <jcristau@debian.org>  Fri, 16 Feb 2007 22:20:08 +0100

xorg-server (2:1.1.1-17) unstable; urgency=medium

  * Make the int10 module usable on i386 with a 64bit kernel (closes: #409730).
    + New patch 42_build_int10_submodules.diff, which allows us to build vm86
      and x86emu as two separate submodules, and make the int10 module itself
      fall back to loading x86emu if vm86 calls fail.
    + Add workaround for https://bugs.freedesktop.org/show_bug.cgi?id=7299 to
      the above patch: move definition of Int10Current from int10/xf86int10.c
      to int10/helper_mem.c.
    + Drop the part of 39_alpha_build_flags.patch applying to
      hw/xfree86/os-support/linux/Makefile.in, and run autoreconf with all
      patches applied.

 -- Julien Cristau <jcristau@debian.org>  Wed,  7 Feb 2007 20:37:19 +0100

xorg-server (2:1.1.1-16) unstable; urgency=medium

  * New patch 41_xfree86_linux_acpi_fix_tokenizing.diff from upstream git to
    fix a crash on acpi events (closes: #409443).

 -- Julien Cristau <julien.cristau@ens-lyon.org>  Sat,  3 Feb 2007 22:56:04 +0100

xorg-server (2:1.1.1-15) unstable; urgency=high

  * High-urgency upload for security bugfix.
  * New patch 40_xorg-xserver-1.1.0-dbe-render.diff to fix multiple integer
    overflows in the dbe and render extensions.
    CVE IDs: CVE-2006-6101 CVE-2006-6102 CVE-2006-6103
  * Add myself to Uploaders, and remove Fabio and Branden, with their
    permission.  They're of course welcome back when they have more time!

 -- Julien Cristau <julien.cristau@ens-lyon.org>  Tue,  9 Jan 2007 15:45:46 +0100

xorg-server (2:1.1.1-14) unstable; urgency=high

  * The "let's drop 20 years of build logic and replace it with autoconf in a
    single release, trust me, what could go wrong? <gibber, gibber>" release
  * High-urgency upload for RC bugfix
  * New patch 39_alpha_build_flags.patch: no really, when they said
    lnx_ev56.c should be built with -mcpu=ev56, they really meant it.
    Closes: #392500.

 -- Steve Langasek <vorlon@debian.org>  Sun,  7 Jan 2007 15:19:08 -0800

xorg-server (2:1.1.1-13) unstable; urgency=medium

  [ Julien Cristau ]
  * xserver-xorg-core recommends xfonts-base and suggests xfonts-100dpi |
    xfonts-75dpi and xfonts-scalable.  Also add explanation about fonts to the
    long description, stolen from the old xserver-common package (closes:
    #400654).

  [ David Nusinow ]
  * This is important for upgrades to etch, and has no notable risk, so bump
    priority to medium.

 -- David Nusinow <dnusinow@debian.org>  Fri, 29 Dec 2006 19:57:51 -0500

xorg-server (2:1.1.1-12) unstable; urgency=low

  [ Julien Cristau ]
  * Delete hw/xfree86/common/xf86Build.h in debian/rules clean, since it's
    wrongly included in the upstream tarball.

  [ David Nusinow ]
  * Pull fix for the ignore_abi.diff patch. This one's a major brown bag on my
    part. Thanks Michel Dänzer.
  * Add 38_wait_for_something_force_timer_reset.diff which forces the server
    to reset timers when they've overrun in some cases rather than wait
    forever. Patch by Daniel Stone. Thanks Michel Dänzer for pointing the
    changes out. Closes: #374026

 -- David Nusinow <dnusinow@debian.org>  Tue, 12 Dec 2006 21:13:20 -0500

xorg-server (2:1.1.1-11) unstable; urgency=low

  [ Drew Parsons ]
  * Patches 33_Xserver_man_typos.patch and 34_xorg.conf_man_typos.patch
    fix minor typos in Xserver and xorg.conf man pages.
    Closes: #364556, #308899.
  * Add patch 35_randr_byteswap.patch from upstream. Fixes a client/server
    byteswapping problem. Closes: #291100.

  [ Julien Cristau ]
  * Don't build-depend on libdrm-dev on hurd-i386 (closes: #358015). Thanks,
    Samuel Thibault.
  * Update hurd support patch (closes: #356300). Thanks, Samuel Thibault.
  * Add reportbug script stolen from the monolith, to add the user's config
    and log file in every bug report.
  * Delete hw/xfree86/common/xf86Build.h from our source tree, so that the
    build date is correctly calculated at build time, and not hardcoded to
    07 July 2006.  Thanks to Jurij Smakov for noticing.
  * Add patch 36_fix_ffs.patch by Jurij Smakov to fix infinite loop in ffs()
    if called with an argument of 0 (closes: #395564).
  * Add patch 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms
    from upstream git to fix color issue on big endian platforms
    (closes: #392453). Thanks to Michel Dänzer for the patch!
  * Fix typo in xvfb-run (closes: #337703).
  * Install xdmxconfig and its manpage in xdmx-tools (closes: #393991).
  * Add Replaces: xdmx (<= 2:1.1.1-10) to xdmx-tools because of the xmdxconfig
    manpage move.

 -- David Nusinow <dnusinow@debian.org>  Fri, 24 Nov 2006 15:44:52 -0500

xorg-server (2:1.1.1-10) unstable; urgency=low

  [ Denis Barbier ]
  * Fix video mode switching.  Closes: #391052
  * Fix FTBFS on kfreebsd-i386 and kfreebsd-amd64.  Thanks Petr Salinger.
    Closes: #363517

  [ David Nusinow ]
  * Add depends on xserver-xorg so that /etc/X11/X gets installed. Thanks
    Frans Pop. Closes: #392295
  * Add 31_blocksigio.diff. This patch by Alan Hourihane, and it prevents a
    race condition when a driver tries to set the cursor state when the server
    is in the middle of switching resolution. Thanks to Frans Pop for
    reporting the bug, Michel Dänzer for reading through the backtrace and
    diagnosing the problem, and Alan for the final patch. Closes: #390646.

  [ Jurij Smakov ]
  * Add 32_disable_sparc_pci_bridge.diff. Disable PCI bridge handling on
    sparc, which is broken and causes filesystem corruption (by poking
    the PCI bus in the wrong places) on some machines. Closes: #392312.

  [ Drew Parsons ]
  * Use __appmansuffix__ not __mansuffix__ in
    03_xnest_manpage_overhaul.diff.  Closes: #390599.
  * Install upstream ChangeLog.  Closes: #365274.

 -- David Nusinow <dnusinow@debian.org>  Mon, 16 Oct 2006 21:59:51 -0400

xorg-server (2:1.1.1-9) unstable; urgency=low

  [ Jurij Smakov ]
  * Add 21_glx_align_fixes.patch to reintroduce the setting of __GLX_ALIGN64
    variable, lost during the modular transition. This setting is essential
    for architectures with strong alignment requirements. Patch affects
    alpha, sparc, amd64, ia64 and s390, mimicking the behaviour of the
    monolithic build. Closes: #388125.

  [ Denis Barbier ]
  * Add 22_xkb_cycle_3layouts.diff to fix layout switching when 3 layouts
    are present.  Thanks Ivan Pascal for the patch.  Closes: #345803

  [ David Nusinow ]
  * Add kFreeBSD support patch (23). Thanks to Robert Millan, Petr Salinger,
    Daniel Stone, and Michael Banck for input and patch writing.
    Closes: #363517
  * Add hurd support patch (24). Thanks Samuel Thibault, Daniel Stone, and
    Michael Banck. Closes: #356300
  * Disable the explicit enabling of dri in the configure. The configure
    script autodetects whether or not to use this anyway, and enabling it
    explicitly breaks the build on hurd. Thanks Samuel Thibault and Michael
    Banck. Closes: #358015
  * Add several patches written by Kristian Høgsberg for allowing compiz to
    work with AIGLX. These patches were vetted by Theirry Reding with valuable
    advice from Michel Dänzer, and feedback from Kristian himself.
    - 25_tfp_damage.diff
    - 26_aiglx_happy_vt_switch.diff
    - 27_aiglx_locking.diff
    - 28_mesa_copy_sub_buffer.diff
    - 29_mesa_reseed_makefile.diff
    - update of 20_mesa_6.5.1.diff
  * Remove bizarre wholesale inclusion of another patch in the 23_kbsd patch

  [ Eugene Konev ]
  * Use --with-default-font-path instead of --with-fontdir.
  * Set RGBPath through --with-rgb-path.
  * Drop 11_debian_always_use_default_font_path.diff.
  * Drop 14_debian_always_look_in_our_module_path.diff.
  * Ship SecurityPolicy in xserver-xorg-core.

 -- David Nusinow <dnusinow@debian.org>  Thu, 28 Sep 2006 23:59:35 -0400

xorg-server (2:1.1.1-8) unstable; urgency=low

  * Update mesa symlink patch to the latest from HEAD
  * Add 20_mesa_6.5.1.diff to allow the server to build with mesa 6.5.1
  * Bump build-dep versions on x11proto-gl to 1.4.8, and mesa to 6.5.1

 -- David Nusinow <dnusinow@debian.org>  Mon, 25 Sep 2006 22:21:37 -0400

xorg-server (2:1.1.1-7) unstable; urgency=low

  * Fix s390 build issue. Thanks Bastian Blank for the report and Eugene Konev
    for the patch. Closes: #388628.
  * Disable build of various utilities that we don't ship anyway. Patch thanks
    to Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 21 Sep 2006 23:07:16 -0400

xorg-server (2:1.1.1-6) unstable; urgency=low

  * Upload 7.1 to unstable.

  [ Drew Parsons ]
  * Added SGI FreeB licence to debian/copyright. Closes: #368563.
  * Apply upstream patches 18_execinfo_only_for_backtrace.patch, to use
    execinfo.h for and only for backtrace. Applied git patch
    5a3488ccac8e5dabd9fc98bc41ef178ead1b2faf directly into configure scripts,
    activated with autoreconf.  Closes: #363218.
  * Only requires build-depends version of x11proto-gl-dev on 1.4.6.

  [ Steve Langasek ]
  * Add versioned build-depends on x11proto-fixes-dev (>= 4.0), to
    ensure the package is built against the right protocol version.
    Closes: #383778.

 -- David Nusinow <dnusinow@debian.org>  Mon, 18 Sep 2006 18:30:07 -0400

xorg-server (2:1.1.1-5) experimental; urgency=low

  * Fix error in 16_s390_fix.diff caused by my idiot copying. Thanks Yannick
    Roehlly and Daniel Stone.

 -- David Nusinow <dnusinow@debian.org>  Sun, 27 Aug 2006 23:25:21 +0000

xorg-server (2:1.1.1-4) experimental; urgency=low

  [ Drew Parsons ]
  * Tighten dependencies between X11R7.1 server and video drivers.
    xserver-xorg-core no longer Depends: xserver-xorg-video-all
    | xserver-xorg-video but instead Conflicts: xserver-xorg-video.
    (closes: #383873)
    The dependency on xserver-xorg-video-all | xserver-xorg-video-1.0 is
    managed by the xserver-xorg binary package (not included here in
    order to avoid circular dependencies). (closes: #362313)
  * Likewise remove Depends: xserver-xorg-input-all | xserver-xorg-input
    (again, handled by xserver-xorg) to avoid circular dependency with drivers.

  [ David Nusinow ]
  * Epoch bump
  * Add 17_ignoreabi.diff to allow users to simply set a value in xorg.conf
    rather than pass -ignoreABI to the server every time it starts

 -- David Nusinow <dnusinow@debian.org>  Wed, 23 Aug 2006 22:03:06 +0000

xorg-server (1:1.1.1-3) unstable; urgency=low

  * Add 16_s390_fix.diff to fix FTBFS on s390. Thanks Bastian Blank.
    (closes: #362641)
  * Bump build-depends version of libgl1-mesa-dev to 6.5.x package we have in
    experimental currently
  * Bump build-depends version of x11proto-gl-dev to 1.4.7 or greater

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 00:57:31 +0000

xorg-server (1:1.1.1-2) experimental; urgency=low

  [ Drew Parsons ]
  * Updated mesa-swx11-source build-depends to (>> 6.5.0), required
    for xserver 1.1.1. (closes: #383334)

  [ David Nusinow ]
  * Enable and ship xephyr
  * Hack off the 'x' manpage suffix
  * Install Xnest manpage
  * Bump policy version to 3.7.2.0. No changes necessary.

 -- David Nusinow <dnusinow@debian.org>  Wed, 16 Aug 2006 21:14:44 +0000

xorg-server (1:1.1.1-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release
  * Move patch target call so that we don't try and build twice
  * Remove obsolete 15_security_allocate_local.diff and
    16_SECURITY_setuid.diff
  * Add 15_symlink_mesa.diff

 -- David Nusinow <dnusinow@debian.org>  Sun,  6 Aug 2006 16:12:25 +0000

xorg-server (2:1.0.2-10) unstable; urgency=low

  * Upload to unstable to fixed messed up last upload which was supposed to go
    to experimental. Brown bag o' joy.

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 19:31:08 +0000

xorg-server (1:1.1.1-0ubuntu14) feisty; urgency=low

  * Add 'debian/patches/38_Fix-pDRIPriv_NULL_deref.patch': NULL-init DRI
    screen private data, thanks to Tormod Volden (LP: #60288).

 -- Kees Cook <kees@ubuntu.com>  Sat, 10 Feb 2007 20:27:44 -0800

xorg-server (1:1.1.1-0ubuntu13) feisty; urgency=low

  * 19_revert_xkb_change_breaking_XkbGetKeyboard.patch:
    - patch from fedora (with extra Makefile.in change), revert change that
      broke XkbGetKeyboard() (Ubuntu: #58083)
  * 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms.diff:
    - upstream patch copied from the Debian package, fix blue screen with
      compiz on ppc (Ubuntu: #58373)

 -- Sebastien Bacher <seb128@canonical.com>  Fri, 12 Jan 2007 12:17:28 +0100

xorg-server (1:1.1.1-0ubuntu12.1) edgy-security; urgency=low

  * SECURITY UPDATE: Arbitrary code execution with root privileges via heap
    overflows in DBE and Render extensions.
  * Add 'debian/patches/021_ubuntu_dbe-render_overflows.diff' from
    upstream
  * References
    CVE-2006-6101 CVE-2006-6102 CVE-2006-6103

 -- Kees Cook <kees@ubuntu.com>  Mon,  8 Jan 2007 12:45:41 -0800

xorg-server (1:1.1.1-0ubuntu12) edgy; urgency=low

  * debian/patches/17_no_composite_for_xvfb.patch:
    - fix a crasher by not using composite for Xvfb when using -render
  * debian/patches/18_no_composite_for_xvfb_run.patch:
    - use "-extension Composite" to fix xvfb-run crashing

 -- Sebastien Bacher <seb128@canonical.com>  Fri, 13 Oct 2006 17:12:49 +0200

xorg-server (1:1.1.1-0ubuntu11) edgy; urgency=low

  * debian/patches/16_only_switch_vt_when_active.patch:
    Add a check to prevent the X server from changing the VT when killing
    GDM from the console.

 -- Ryan Lortie <desrt@ubuntu.com>  Thu, 21 Sep 2006 01:26:35 -0400

xorg-server (1:1.1.1-0ubuntu10) edgy; urgency=low

  * Build xserver-xephyr from xorg-server package.  Malone: #57077, #57084

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed,  6 Sep 2006 12:57:32 +0200

xorg-server (1:1.1.1-0ubuntu9) edgy; urgency=low

  * Enable composite extension by default
  * Add patch from fd.o bugzilla #7916 to avoid aiglx hangs on vt
    switches

 -- Matthew Garrett <mjg59@srcf.ucam.org>  Sat, 26 Aug 2006 03:20:31 +0100

xorg-server (1:1.1.1-0ubuntu8) edgy; urgency=low

  * Steal patch from Fedora to allow compiz to trigger the disabling of
   XAA off-screen pixmaps

 -- Matthew Garrett <mjg59@srcf.ucam.org>  Wed, 23 Aug 2006 21:26:08 +0100

xorg-server (1:1.1.1-0ubuntu7) edgy; urgency=low

  * (temporarily) Removed Breaks: section from xserver-xorg-core (necessary
    until apt-get properly supports this feature)
  * Tightened Build-Depends: mesa-swx11-source to >=
    6.5.0.git.20060810-0ubuntu1
  * Tightened Build-Depends of libgl1-mesa-dev to >=
    6.5.0.git.20060810-0ubuntu1

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Tue, 15 Aug 2006 07:26:07 -0300

xorg-server (1:1.1.1-0ubuntu6) edgy; urgency=low

  * Tightened Build-Depends of mesa-swx11-source to version 6.5.0.git.20060809
  * Removed patch 003_fedora_root_window_black_pattern.patch (not necessary
    for Ubuntu)

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Fri, 11 Aug 2006 11:41:29 -0300

xorg-server (1:1.1.1-0ubuntu5) edgy; urgency=low

  * Renamed 003_ubuntu_sharevts_load_cpu.patch to
    002_ubuntu_sharevts_load_cpu.patch
  * Added 003_fedora_root_window_black_pattern.patch (black background
    pattern instead of default X background pattern. Feel free to revert if
    you feel strongly against this one)
  * Added 005_fdo4320_composite_fastpath.patch and
    016_fdo7482_xdmx_render_fix.patch (upstream bug fixes, bug numbers
    annotated on patch names)
  * Added 004_fedora_init_origins_fix.patch (multihead initialization)
  * Added 006_ubuntu_fpic_libxf86config.patch
  * Added 007_fedora_dont_backfill_bg_none.patch
  * Added 008_fedora_gl_include_inferiors.patch,
    009_fedora_mesa_copy_sub_buffer.patch,
    010_fedora_no_move_damage.patch,
    012_fedora_tfp_damage.patch and
    014_fedora_no_composite_in_xnest.patch (further aiglx support)
  * 011_fedora_pci_scan_fixes.patch (pci scan fixes - testing is needed to
    check if an extra upstream patch for pci domains is also necessary)
  * Added 015_fedora_sane_default_mode.patch (tweak default mode - please feel
    free to revert this patch if you feel strongly against it)
  * Added 017_fedora_add_missing_headers_to_sdk.patch
  * Added 018_ubuntu_linux_kernel_include_fixes.patch and
    013_ubuntu_symlink_mesa_source.patch (build fixes against current
    linux-kernel-modules * mesa-swx11-source - these already existed before,
    but were applied directly to the source tree, instead of being quilt
    patches)
  * Just for reference: debian patch #02 is candidate for removal on next
    upload. I'll refrain from removing it now to diminish the chances of this
    being a breaks-for-everyone release
  * Moved SecurityPolicy example from /usr/share/doc/examples/ to
    /usr/share/doc/xserver-xorg-core/

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Mon,  7 Aug 2006 17:21:05 -0300

xorg-server (1:1.1.1-0ubuntu4) edgy; urgency=low

  * Added new Breaks: section to xorg-server-core:
      xserver-xorg-driver-all, xserver-xorg-driver-apm,
      xserver-xorg-driver-ark, xserver-xorg-driver-ati,
      xserver-xorg-driver-chips, xserver-xorg-driver-cirrus,
      xserver-xorg-driver-cyrix, xserver-xorg-driver-dummy,
      xserver-xorg-driver-fbdev, xserver-xorg-driver-glint,
      xserver-xorg-driver-i128, xserver-xorg-driver-i740,
      xserver-xorg-driver-i810, xserver-xorg-driver-imstt,
      xserver-xorg-driver-mga, xserver-xorg-driver-neomagic,
      xserver-xorg-driver-newport, xserver-xorg-driver-nsc,
      xserver-xorg-driver-nv, xserver-xorg-driver-rendition,
      xserver-xorg-driver-s3, xserver-xorg-driver-s3virge,
      xserver-xorg-driver-savage, xserver-xorg-driver-siliconmotion,
      xserver-xorg-driver-sis, xserver-xorg-driver-sisusb,
      xserver-xorg-driver-tdfx, xserver-xorg-driver-tga,
      xserver-xorg-driver-trident, xserver-xorg-driver-tseng,
      xserver-xorg-driver-v4l, xserver-xorg-driver-vesa,
      xserver-xorg-driver-vga, xserver-xorg-driver-via,
      xserver-xorg-driver-vmware, xserver-xorg-driver-voodoo,
      xserver-xorg-video-all (<< 7.0.22ubuntu7),
      xserver-xorg-video-apm (<< 1:1.1.1-0ubuntu1),
      xserver-xorg-video-ark (<< 1:0.6.0-0ubuntu1),
      xserver-xorg-video-ati (<< 1:6.6.1-0ubuntu1),
      xserver-xorg-video-chips (<< 1:1.1.1-0ubuntu1),
      xserver-xorg-video-cirrus (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-cyrix (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-dummy (<< 1:0.2.0-0ubuntu1),
      xserver-xorg-video-fbdev (<< 1:0.3.0-0ubuntu1),
      xserver-xorg-video-glint (<< 1:1.1.1-0ubuntu1),
      xserver-xorg-video-i128 (<< 1:1.2.0-0ubuntu1),
      xserver-xorg-video-i740 (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-i810 (<< 1:1.6.1-0ubuntu1),
      xserver-xorg-video-imstt (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-mga (<< 1:1.4.1-0ubuntu1),
      xserver-xorg-video-neomagic (<< 1:1.1.1-0ubuntu1),
      xserver-xorg-video-newport (<< 1:0.2.0-0ubuntu1),
      xserver-xorg-video-nsc (<< 1:2.8.1-0ubuntu1),
      xserver-xorg-video-nv (<< 1:1.2.0-0ubuntu1),
      xserver-xorg-video-rendition (<< 1:4.1.0-0ubuntu1),
      xserver-xorg-video-s3 (<< 1:0.4.1-0ubuntu1),
      xserver-xorg-video-s3virge (<< 1:1.9.1-0ubuntu1),
      xserver-xorg-video-savage (<< 1:2.1.1-0ubuntu1),
      xserver-xorg-video-siliconmotion (<< 1:1.4.1-0ubuntu1),
      xserver-xorg-video-sis (<< 1:0.9.1-0ubuntu1),
      xserver-xorg-video-sisusb (<< 1:0.8.1-0ubuntu1),
      xserver-xorg-video-tdfx (<< 1:1.2.1-0ubuntu1),
      xserver-xorg-video-tga (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-trident (<< 1:1.2.1-0ubuntu1),
      xserver-xorg-video-tseng (<< 1:1.1.0-0ubuntu1),
      xserver-xorg-video-v4l (<< 1:0.1.1-0ubuntu1),
      xserver-xorg-video-vesa (<< 1:1.2.1-0ubuntu1),
      xserver-xorg-video-vga (<< 1:4.1.0-0ubuntu1),
      xserver-xorg-video-via (<< 1:0.2.1-0ubuntu1),
      xserver-xorg-video-vmware (<< 1:10.13.0-0ubuntu1),
      xserver-xorg-video-voodoo (<< 1:1.1.0-oubuntu1)

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Tue,  1 Aug 2006 22:59:55 -0300

xorg-server (1:1.1.1-0ubuntu3) edgy; urgency=low

  * Build with -fno-stack-protector (see LP#54650)

 -- Matt Zimmerman <mdz@ubuntu.com>  Mon, 31 Jul 2006 16:28:59 -0700

xorg-server (1:1.1.1-0ubuntu2) edgy; urgency=low

  * (sparc only) removed stale inclusion of asm/kbio.h on
    hw/xfree86/os-support/linux/lnx_io.c and
    hw/xfree86/os-support/linux/lnx_kbd.c
  * Update debian/serverabiver to 1:1.1.1

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Mon, 31 Jul 2006 12:53:22 -0300

xorg-server (1:1.1.1-0ubuntu1) edgy; urgency=low

  * New Upstream version
  * Changed Build-Depends from mesa-swrast-source to mesa-swx11-source,
    following Debian package nomenclature
  * Re-did 12_security_policy_in_etc.diff for 1.1.1
  * Dropped 15_security_allocate_local.diff (applied upstream)
  * Dropped 16_SECURITY_setuid.diff (applied upstream)
  * Dropped 000_ubuntu_fix_read_kernel_mapping.patch (applied upstream)
  * Dropped 002_ubuntu_fix_for_certain_intel_chipsets.patch (applied upstream)
  * Updated versioned Build-Depends on mesa-swx11-source to version
    6.5.0.cvs.20060725-0ubuntu1
  * Added arrayobj.c, arrayobj.h, bitset.h & rbadaptors.h to
    GL/symlink-mesa.sh (linked from mesa-swx11-source)
  * Added arrayobj.c to default build target on GL/mesa/main

 -- Rodrigo Parra Novo <rodarvus@ubuntu.com>  Tue, 25 Jul 2006 20:06:28 -0300

xorg-server (2:1.0.2-10) unstable; urgency=low

  * Upload to unstable to fixed messed up last upload which was supposed to go
    to experimental. Brown bag o' joy.

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 19:31:08 +0000

xorg-server (1:1.0.2-9) UNRELEASED; urgency=high

  [ Denis Barbier ]
  * Fix 13_debian_add_xkbpath_env_variable.diff, XKBPATH environment
    variable was not always taken into account.

  [ David Nusinow ]
  * Remove two Ubuntu packaging holdovers. Have xvfb recommend xbase-clients
    rather than xauth, and have xserver-xorg-core recommend xkb-data rather
    than xkeyboard-config. Thanks Sterling MacNay.
  * Security update. Fix for setuid privledge escalation vulernabilities.
    See http://lists.freedesktop.org/archives/xorg/2006-June/016146.html for
    the full advisory.

  [ Jurij Smakov ]
  * Stop including the non-existent asm/kbio.h header file in
    hw/xfree86/os-support/linux/lnx_{io,kbd}.c to avoid the build failure
    on sparc.

 -- David Nusinow <dnusinow@debian.org>  Sat,  1 Jul 2006 17:20:45 -0400

xorg-server (1:1.0.2-8) unstable; urgency=low

  * Move xserverrc back to xbase-clients. Thanks Benjamin Mesing.
  * Add 15_security_allocate_local.diff. This fixes Bug fd.o bug #6642.
    Fix buffer overflow in Render.  (CVE 2006-1526). Patch by Eric Anholt.

 -- David Nusinow <dnusinow@debian.org>  Tue,  2 May 2006 21:47:17 -0400

xorg-server (1:1.0.2-7) unstable; urgency=low

  * Ship xserverrc again in /etc/X11/xinit. Thanks Bastian Kleineidam and
    Vasilis Vasaitis. (closes: #357713)

 -- David Nusinow <dnusinow@debian.org>  Wed, 26 Apr 2006 00:01:16 -0400

xorg-server (1:1.0.2-6) unstable; urgency=low

  [ David Nusinow ]
  * Use -DNO_INLINE on s390. Thanks Bastian Blank and Julien Cristau.
    (closes: #362641)
  * Re-add xvfb-run and manpage to xvfb package. Thanks Josselin Mouette and
    Jamie Wilkinson. (closes: #363494)
  * Add 014_debian_always_look_in_our_module_path.diff. This will cause the
    server to always look in the default module path even if they've specified
    an alternate path in their xorg.conf file via the ModulePath option. A
    note to users: you should remove this part of your xorg.conf unless you
    need it, as the server will look in the right place for modules if you
    don't specify a location.
  * Run dh_install with --list-missing
  * Add missing manpages all around. Thanks Roland Mas and Jan Hudec.
    (closes: #362489, #364199)
  * Actually install apps to xdmx-tools. Thanks Xavier Bestel.
    (closes: #356813)

  [ Denis Barbier ]
  * Add 13_debian_add_xkbpath_env_variable.diff so that the server takes
    the XKBPATH environment variable into account. (closes: #363229)

 -- David Nusinow <dnusinow@debian.org>  Sat, 22 Apr 2006 17:06:23 -0400

xorg-server (1:1.0.2-5) unstable; urgency=low

  * Add 11_debian_always_use_default_font_path.diff from Eugene Konev. This
    patch causes the server to add the default font path to whatever the user
    has specified. Right now, that's /usr/share/fonts/X11, as defined on
    configure in debian/rules. Thanks Eugene, this will definitely go a long
    way.
  * Document how to get rid of error loading glcore (and other modules) in
    NEWS.Debian. Thanks Matej Vela and others.
  * Provide the virtual 'xserver' package. Thanks Steve Langasek and Daniel
    Stone. (closes: #362750)
  * Add 12_security_policy_in_etc.diff from Eugene Konev. This will allow us
    to tell the server on configure to look in /etc/X11/xserver for the
    SecurityPolicy file. Thanks Joey Hess and Eugene. (closes: #362246)

 -- David Nusinow <dnusinow@debian.org>  Mon, 17 Apr 2006 00:34:08 -0400

xorg-server (1:1.0.2-4) unstable; urgency=low

  * Document the need to update paths in xserver-xorg-core's NEWS file.
    (closes: #362077, #362244, #362431)
  * Make xserver-xorg-core Architecture: any. (closes: #362150)
  * Build with --with-fontdir=/usr/share/fonts/X11. Remove
    --with-default-font-path option to make this work. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 13 Apr 2006 23:54:06 -0400

xorg-server (1:1.0.2-3) unstable; urgency=low

  * Add build-conflicts on xlibs-static-dev. Thanks Zephaniah E. Hull.

 -- David Nusinow <dnusinow@debian.org>  Tue, 11 Apr 2006 18:44:51 -0400

xorg-server (1:1.0.2-2) unstable; urgency=low

  * Upload to unstable
  * Add versioned build-dep on libdmx-dev. Thanks Frank Lichtenheld.
    (closes: #361752)

 -- David Nusinow <dnusinow@debian.org>  Mon, 10 Apr 2006 19:34:04 -0400

xorg-server (1:1.0.2-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release. Fixes CVE-2006-0745

  [ Denis Barbier ]
  * Set XKB base path to /usr/share/X11/xkb.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Mar 2006 21:41:04 -0500

xorg-server (1:1.0.2-0ubuntu10) dapper; urgency=low

  * Backport a fix for Intel bridge handling:
  debian/patches/002_fix_for_certain_intel_chipsets.patch
  (Closes Ubuntu: #29880)

 -- Paul Sladen <ubuntu@paul.sladen.org>  Sun, 14 May 2006 19:01:32 +0100

xorg-server (1:1.0.2-0ubuntu9) dapper; urgency=low

  * Add 1680x1050 60 and 85Hz Modelines. Thanks to Bart Verwilst for the data.
  (Closes Ubuntu: #6096)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Fri, 05 May 2006 12:38:22 +0200

xorg-server (1:1.0.2-0ubuntu8) dapper; urgency=low

  * Fix "XCB rendertest crashes server":
    - Add patch 001-CVE-2006-1526.patch.dpatch.
  (CVE-2006-1526)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Wed, 03 May 2006 09:01:09 +0200

xorg-server (1:1.0.2-0ubuntu7) dapper; urgency=low

  * Ship again xorg.conf(5)
  (Closes Ubuntu: #33703)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Mon, 01 May 2006 13:37:40 +0200

xorg-server (1:1.0.2-0ubuntu6) dapper; urgency=low

  * Fix severe internal memory corruption:
    - Add patch: 000-fix-read-kernel-mapping.patch.dpatch.
    (freedesktop bugzilla: #6472)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Fri, 21 Apr 2006 08:07:33 +0200

xorg-server (1:1.0.2-0ubuntu5) dapper; urgency=low

  * Fix CPU load when using -sharevts:
    - Add patch: 991_sharevts-load-cpu.patch
    (Thanks for the initial patch to Michael Witrant)
    (Closes Ubuntu: #33611)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Mon, 10 Apr 2006 13:30:26 +0200

xorg-server (1:1.0.2-0ubuntu4) dapper; urgency=low

  * Fix SecurityPolicy path to /etc/X11/xserver/SecurityPolicy
    and ship an example. NOTE: this file is NOT installed by default,
    the WARNING you see in Xorg.0.log is an harmless WARNING.
    Add patch: 990_ubuntu_fix_security_policy_path.patch.
    (Close Ubuntu: #31608)

  * Readd manpages to the different packages.

  * Ship again ioport, gtf, pcitweak and scanpci.
    (Closes Ubuntu: #37720)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Tue, 04 Apr 2006 16:33:00 +0200

xorg-server (1:1.0.2-0ubuntu3) dapper; urgency=low

  * What about shipping xorg-server.m4 to make developer life easier?

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Thu, 23 Mar 2006 10:32:55 +0100

xorg-server (1:1.0.2-0ubuntu2) dapper; urgency=low

  * xserver-xorg-dev Depends: x11proto-randr-dev.
  (Closes Ubuntu: #35594)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Wed, 22 Mar 2006 08:09:46 +0100

xorg-server (1:1.0.2-0ubuntu1) dapper; urgency=low

  * New upstream release:
    - Drop patches:
      + CVE-2006-0745
      + add-missing-sparc-include
      + fix-backtrace
      + fix-crash-on-null-addr

  * UVF execption granted by mdz.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Tue, 21 Mar 2006 05:39:01 +0100

xorg-server (1:1.0.1-2) experimental; urgency=low

  [ David Nusinow ]
  * Add versioned dependency on x11-common
  * Remove old cruft in our patches directory
  * Port patches from trunk
    + 030_libvgahw_gcc4_volatile_fix.diff
    + general/026_xc_programs_manpage_overhaul.diff
    + arm/303_arm_cache_flush.diff
    + arm/315_arm_is_not_x86_and_has_no_vga.diff
    + general/099e_xorgconf_manpage_overhaul.diff
    + s390/500_s390_support.diff
    + debian/910_debian_Xserver_RTFF.diff
  * add 04_read_rom_in_chunks.diff. This reads PCI ROM in large chunks rather
    than one byte at a time. This patch by Alex Williamson and forwarded to us
    by Dann Frazier. Thanks to both of them. (closes: #353168)
  * Don't build xserver-xorg-core on s390. This means putting all the other
    arches as being explicitly listed. Damn !s390.
  * Version the conflict with xserver-xfree86 to allow for the transition
    package to be installed
  * Remove README.DRI, as it is non-free. Add it to prune list.
  * Add 10_dont_look_in_home_for_config.diff to prevent looking in a user's
    home directory for xorg.conf. Thanks Daniel Stone for the patch.

 -- David Nusinow <dnusinow@debian.org>  Sun, 12 Mar 2006 16:18:13 -0500

xorg-server (1:1.0.1-1) experimental; urgency=low

  * First upload to Debian
  * Add bison and flex to the build-depends
  * Define INSTALL in debian/rules
  * Add xserver-xorg-core dependency xserver-xorg-video-all |
    xserver-xorg-video. The former is a metapackage that depends on all the
    video drivers we ship and the latter is a virtual package that each video
    driver provides. This scheme will install the metapackage by default but
    will permit any single video driver to satsify the dependency. Do the same
    thing for the input drivers.
  * switch dpatch build-dependency to quilt
  * Deal with mesa packaging rename: build-dep on mesa-swrast-source ->
    mesa-swx11-source
  * Change xserver-core depends to be on x11-common rather than xorg-common
  * Have xserver-xorg-dev install the files in /usr/share/aclocal so we get
    xorg-server.m4
  * Manually set permissions on serverabiver installation
  * Set the default font path to /usr/share/fonts/X11 instead of
    /usr/share/X11/fonts. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Feb 2006 00:18:45 -0500

xorg-server (1:1.0.1-0ubuntu8) dapper; urgency=low

  * [SECURITY] Fix CVE-2006-0745.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Tue, 21 Mar 2006 05:33:50 +0100

xorg-server (1:1.0.1-0ubuntu7) dapper; urgency=low

  * debian/control:
    - xvfb Depends on xfonts-base too, fix pointed by fabbione

 -- Sebastien Bacher <seb128@canonical.com>  Fri,  3 Mar 2006 22:21:56 +0100

xorg-server (1:1.0.1-0ubuntu5) dapper; urgency=low

  * Add missing include on sparc. Fix FTBFS.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Wed, 01 Feb 2006 13:45:41 +0100

xorg-server (1:1.0.1-0ubuntu4) dapper; urgency=low

  * Backport from upstream HEAD at Daniel's request:
    - Add forgotten HAVE_BACKTRACE define, so that we actually get
      backtraces when Xorg segfaults.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 27 Jan 2006 13:47:56 +0000

xorg-server (1:1.0.1-0ubuntu3) dapper; urgency=low

  * Depend on x11-common rather than xorg-common and xserver-common

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed, 18 Jan 2006 17:13:12 +0100

xorg-server (1:1.0.1-0ubuntu2) dapper; urgency=low

  * Add flex to build-deps, fixing FTBFS.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed, 18 Jan 2006 12:34:03 +0100

xorg-server (1:1.0.1-0ubuntu1) dapper; urgency=low

  * New upstream release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri,  6 Jan 2006 08:00:52 +1100

xorg-server (1:1.0.0-0ubuntu1) dapper; urgency=low

  * New upstream release.
    + fbCompositeGeneral is now around 97.3% less stuffed (closes:
      Ubuntu#20286).
    + 'Fix' mouse issues in the DIX by adding XFree86Server defines (sigh;
      closes: Ubuntu#20200).
    + Fix Emulate3Buttons mouse posting (closes: Ubuntu#11308).
  * Bump Build-Depends on libxt-dev (appdefaultdir), libdrm-dev (libdrm2), and
    mesa-swrast-source (new files).
  * Add --with-fontdir and scotch --with-default-font-path to fix font paths
    for non-Xorg servers (closes: Ubuntu#20157).
  * Fix path to SecurityPolicy and RGB_DB.
  * Move update-linux-hardened-support call to xserver-xorg-core postinst
    (from xserver-xorg postinst).
  * Add patch to os/access.c so we don't crash on a null-addressed interface
    (closes: Ubuntu#20414).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 13 Dec 2005 07:27:13 +1100

xorg-server (1:0.99.3-0ubuntu6) dapper; urgency=low

  * Fix xserver-xorg-dev Depends field to only depend on the headers this
    this package actually uses.
  * Re-add xvfb-run to xfvb (closes: Ubuntu#20157).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon,  5 Dec 2005 15:04:14 +1100

xorg-server (1:0.99.3-0ubuntu5) dapper; urgency=low

  * Add -ffunction-sections where needed
  * Depend: xserver-common: needed for dexconf and /usr/X11R6/bin/X

 -- LaMont Jones <lamont@ubuntu.com>  Sat, 26 Nov 2005 05:15:36 +0000

xorg-server (1:0.99.3-0ubuntu4) dapper; urgency=low

  * Add two more dependencies to build the other half of the video drivers:
    - x11proto-xext-dev, x11proto-video-dev

 -- Adam Conrad <adconrad@ubuntu.com>  Fri, 25 Nov 2005 02:36:44 +1100

xorg-server (1:0.99.3-0ubuntu3) dapper; urgency=low

  * Add a few dependencies to xorg-server-dev as the path of least resistance
    to get all the various input and video drivers to build again:
    - For the video drivers: x11proto-randr-dev, x11proto-render-dev,
      x11proto-fonts-dev, x11proto-xf86dri-dev, libdrm-dev
    - For the input drivers: x11proto-core-dev, x11proto-input-dev,
      x11proto-randr-dev (why do input drivers want randr?)

 -- Adam Conrad <adconrad@ubuntu.com>  Thu, 24 Nov 2005 18:51:25 +1100

xorg-server (1:0.99.3-0ubuntu2) dapper; urgency=low

  * Add missing libfreetype6-dev build-depends.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 24 Nov 2005 10:26:44 +1100

xorg-server (1:0.99.3-0ubuntu1) dapper; urgency=low

  * New upstream release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 21 Nov 2005 14:13:41 +1100

xorg-server (1:0.99.2+cvs.20051025-3) dapper; urgency=low

  * Version mesa-swrast-source Build-Dep to 6.4.0 or higher, so GLcore is a
    little less crash-happy (e.g. when moving your glxgears window).
  * Export /usr/share/xserver-xorg/serverabiver to xserver-xorg-dev, which
    describes the relationship needed from a driver on xserver-xorg-core.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 28 Oct 2005 13:00:26 +1000

xorg-server (1:0.99.2+cvs.20051025-2) dapper; urgency=low

  * Add Build-Deps on libxaw7-dev, libxmu-dev, libxt-dev, libxpm-dev,
    libx11-dev, libxtst-dev, and libxres-dev for DMX utils.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 26 Oct 2005 14:34:40 +1000

xorg-server (1:0.99.2+cvs.20051025-1) dapper; urgency=low

  * Update to new upstream version.
  * All applicable patches have been committed upstream, bar #989 and #990.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 20 Oct 2005 10:26:33 +1000

xorg-server (1:0.99.0+cvs.20050901-1) breezy; urgency=low

  * First xorg-server release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  6 Jul 2005 15:48:17 +1000
